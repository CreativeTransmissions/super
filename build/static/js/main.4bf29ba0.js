/*! For license information please see main.4bf29ba0.js.LICENSE.txt */
!function(){var e={5345:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function x(e){if(m=!1,w(e),!v)if(null!==r(l))v=!0,L(_);else{var t=r(c);null!==t&&Z(x,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(A),A=-1),p=!0;var a=h;try{for(w(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!C());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&i(l),w(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var f=r(c);null!==f&&Z(x,f.startTime-n),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,M=null,A=-1,k=5,T=-1;function C(){return!(t.unstable_now()-T<k)}function P(){if(null!==M){var e=t.unstable_now();T=e;var n=!0;try{n=M(!0,e)}finally{n?S():(E=!1,M=null)}}else E=!1}if("function"===typeof b)S=function(){b(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,I=R.port2;R.port1.onmessage=P,S=function(){I.postMessage(null)}}else S=function(){g(P,0)};function L(e){M=e,E||(E=!0,S())}function Z(e,n){A=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(A),A=-1):m=!0,Z(x,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,L(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},4545:function(e,t,n){"use strict";e.exports=n(5345)},6232:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5073);function i(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function a(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function o(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function s(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function u(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function l(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function c(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function f(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function d(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),c(e/4294967296>>>0,t,n),c(e>>>0,t,n+4),t}function h(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),f(e>>>0,t,n),f(e/4294967296>>>0,t,n+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=i,t.writeInt16BE=i,t.writeUint16LE=a,t.writeInt16LE=a,t.readInt32BE=o,t.readUint32BE=s,t.readInt32LE=u,t.readUint32LE=l,t.writeUint32BE=c,t.writeInt32BE=c,t.writeUint32LE=f,t.writeInt32LE=f,t.readInt64BE=function(e,t){void 0===t&&(t=0);var n=o(e,t),r=o(e,t+4);return 4294967296*n+r-4294967296*(r>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*s(e,t)+s(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var n=u(e,t);return 4294967296*u(e,t+4)+n-4294967296*(n>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var n=l(e,t);return 4294967296*l(e,t+4)+n},t.writeUint64BE=d,t.writeInt64BE=d,t.writeUint64LE=h,t.writeInt64LE=h,t.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,i=1,a=e/8+n-1;a>=n;a--)r+=t[a]*i,i*=256;return r},t.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,i=1,a=n;a<n+e/8;a++)r+=t[a]*i,i*=256;return r},t.writeUintBE=function(e,t,n,i){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var a=1,o=e/8+i-1;o>=i;o--)n[o]=t/a&255,a*=256;return n},t.writeUintLE=function(e,t,n,i){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var a=1,o=i;o<i+e/8;o++)n[o]=t/a&255,a*=256;return n},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},t.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},t.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},t.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}},3642:function(e,t,n){"use strict";var r=n(8284),i=n(5629),a=n(9116),o=n(6232),s=n(8770);t.Cv=32,t.WH=12,t.pg=16;var u=new Uint8Array(16),l=function(){function e(e){if(this.nonceLength=t.WH,this.tagLength=t.pg,e.length!==t.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var o=new Uint8Array(16);o.set(e,o.length-e.length);var s=new Uint8Array(32);r.stream(this._key,o,s,4);var u,l=t.length+this.tagLength;if(i){if(i.length!==l)throw new Error("ChaCha20Poly1305: incorrect destination length");u=i}else u=new Uint8Array(l);return r.streamXOR(this._key,o,t,u,4),this._authenticate(u.subarray(u.length-this.tagLength,u.length),s,u.subarray(0,u.length-this.tagLength),n),a.wipe(o),u},e.prototype.open=function(e,t,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var o=new Uint8Array(16);o.set(e,o.length-e.length);var u=new Uint8Array(32);r.stream(this._key,o,u,4);var l=new Uint8Array(this.tagLength);if(this._authenticate(l,u,t.subarray(0,t.length-this.tagLength),n),!s.equal(l,t.subarray(t.length-this.tagLength,t.length)))return null;var c,f=t.length-this.tagLength;if(i){if(i.length!==f)throw new Error("ChaCha20Poly1305: incorrect destination length");c=i}else c=new Uint8Array(f);return r.streamXOR(this._key,o,t.subarray(0,t.length-this.tagLength),c,4),a.wipe(o),c},e.prototype.clean=function(){return a.wipe(this._key),this},e.prototype._authenticate=function(e,t,n,r){var s=new i.Poly1305(t);r&&(s.update(r),r.length%16>0&&s.update(u.subarray(r.length%16))),s.update(n),n.length%16>0&&s.update(u.subarray(n.length%16));var l=new Uint8Array(8);r&&o.writeUint64LE(r.length,l),s.update(l),o.writeUint64LE(n.length,l),s.update(l);for(var c=s.digest(),f=0;f<c.length;f++)e[f]=c[f];s.clean(),a.wipe(c),a.wipe(l)},e}();t.OK=l},8284:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6232),i=n(9116),a=20;function o(e,t,n){for(var i=1634760805,o=857760878,s=2036477234,u=1797285236,l=n[3]<<24|n[2]<<16|n[1]<<8|n[0],c=n[7]<<24|n[6]<<16|n[5]<<8|n[4],f=n[11]<<24|n[10]<<16|n[9]<<8|n[8],d=n[15]<<24|n[14]<<16|n[13]<<8|n[12],h=n[19]<<24|n[18]<<16|n[17]<<8|n[16],p=n[23]<<24|n[22]<<16|n[21]<<8|n[20],v=n[27]<<24|n[26]<<16|n[25]<<8|n[24],m=n[31]<<24|n[30]<<16|n[29]<<8|n[28],g=t[3]<<24|t[2]<<16|t[1]<<8|t[0],y=t[7]<<24|t[6]<<16|t[5]<<8|t[4],b=t[11]<<24|t[10]<<16|t[9]<<8|t[8],w=t[15]<<24|t[14]<<16|t[13]<<8|t[12],x=i,_=o,S=s,E=u,M=l,A=c,k=f,T=d,C=h,P=p,R=v,I=m,L=g,Z=y,O=b,N=w,U=0;U<a;U+=2)M=(M^=C=C+(L=(L^=x=x+M|0)>>>16|L<<16)|0)>>>20|M<<12,A=(A^=P=P+(Z=(Z^=_=_+A|0)>>>16|Z<<16)|0)>>>20|A<<12,k=(k^=R=R+(O=(O^=S=S+k|0)>>>16|O<<16)|0)>>>20|k<<12,T=(T^=I=I+(N=(N^=E=E+T|0)>>>16|N<<16)|0)>>>20|T<<12,k=(k^=R=R+(O=(O^=S=S+k|0)>>>24|O<<8)|0)>>>25|k<<7,T=(T^=I=I+(N=(N^=E=E+T|0)>>>24|N<<8)|0)>>>25|T<<7,A=(A^=P=P+(Z=(Z^=_=_+A|0)>>>24|Z<<8)|0)>>>25|A<<7,M=(M^=C=C+(L=(L^=x=x+M|0)>>>24|L<<8)|0)>>>25|M<<7,A=(A^=R=R+(N=(N^=x=x+A|0)>>>16|N<<16)|0)>>>20|A<<12,k=(k^=I=I+(L=(L^=_=_+k|0)>>>16|L<<16)|0)>>>20|k<<12,T=(T^=C=C+(Z=(Z^=S=S+T|0)>>>16|Z<<16)|0)>>>20|T<<12,M=(M^=P=P+(O=(O^=E=E+M|0)>>>16|O<<16)|0)>>>20|M<<12,T=(T^=C=C+(Z=(Z^=S=S+T|0)>>>24|Z<<8)|0)>>>25|T<<7,M=(M^=P=P+(O=(O^=E=E+M|0)>>>24|O<<8)|0)>>>25|M<<7,k=(k^=I=I+(L=(L^=_=_+k|0)>>>24|L<<8)|0)>>>25|k<<7,A=(A^=R=R+(N=(N^=x=x+A|0)>>>24|N<<8)|0)>>>25|A<<7;r.writeUint32LE(x+i|0,e,0),r.writeUint32LE(_+o|0,e,4),r.writeUint32LE(S+s|0,e,8),r.writeUint32LE(E+u|0,e,12),r.writeUint32LE(M+l|0,e,16),r.writeUint32LE(A+c|0,e,20),r.writeUint32LE(k+f|0,e,24),r.writeUint32LE(T+d|0,e,28),r.writeUint32LE(C+h|0,e,32),r.writeUint32LE(P+p|0,e,36),r.writeUint32LE(R+v|0,e,40),r.writeUint32LE(I+m|0,e,44),r.writeUint32LE(L+g|0,e,48),r.writeUint32LE(Z+y|0,e,52),r.writeUint32LE(O+b|0,e,56),r.writeUint32LE(N+w|0,e,60)}function s(e,t,n,r,a){if(void 0===a&&(a=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(r.length<n.length)throw new Error("ChaCha: destination is shorter than source");var s,l;if(0===a){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");l=(s=new Uint8Array(16)).length-t.length,s.set(t,l)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");s=t,l=a}for(var c=new Uint8Array(64),f=0;f<n.length;f+=64){o(c,s,e);for(var d=f;d<f+64&&d<n.length;d++)r[d]=n[d]^c[d-f];u(s,0,l)}return i.wipe(c),0===a&&i.wipe(s),r}function u(e,t,n){for(var r=1;n--;)r=r+(255&e[t])|0,e[t]=255&r,r>>>=8,t++;if(r>0)throw new Error("ChaCha: counter overflow")}t.streamXOR=s,t.stream=function(e,t,n,r){return void 0===r&&(r=0),i.wipe(n),s(e,t,n,n,r)}},8770:function(e,t){"use strict";function n(e,t){if(e.length!==t.length)return 0;for(var n=0,r=0;r<e.length;r++)n|=e[r]^t[r];return 1&n-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,n){return~(e-1)&t|e-1&n},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=n,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==n(e,t)}},1412:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSerializableHash=function(e){return"undefined"!==typeof e.saveState&&"undefined"!==typeof e.restoreState&&"undefined"!==typeof e.cleanSavedState}},2497:function(e,t,n){"use strict";var r=n(5499),i=n(9116),a=function(){function e(e,t,n,i){void 0===n&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var a=r.hmac(this._hash,n,t);this._hmac=new r.HMAC(e,a),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(e){for(var t=new Uint8Array(e),n=0;n<t.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[n]=this._buffer[this._bufpos++];return t},e.prototype.clean=function(){this._hmac.clean(),i.wipe(this._buffer),i.wipe(this._counter),this._bufpos=0},e}();t.t=a},5499:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1412),i=n(8770),a=n(9116),o=function(){function e(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(n).clean():n.set(t);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),r.isSerializableHash(this._inner)&&r.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),a.wipe(n)}return e.prototype.reset=function(){if(!r.isSerializableHash(this._inner)||!r.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){r.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),r.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(e){return this._inner.update(e),this},e.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(!r.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(e){if(!r.isSerializableHash(this._inner)||!r.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(e){if(!r.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},e}();t.HMAC=o,t.hmac=function(e,t,n){var r=new o(e,t);r.update(n);var i=r.digest();return r.clean(),i},t.equal=i.equal},5073:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},5629:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8770),i=n(9116);t.DIGEST_LENGTH=16;var a=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var n=e[0]|e[1]<<8;this._r[0]=8191&n;var r=e[2]|e[3]<<8;this._r[1]=8191&(n>>>13|r<<3);var i=e[4]|e[5]<<8;this._r[2]=7939&(r>>>10|i<<6);var a=e[6]|e[7]<<8;this._r[3]=8191&(i>>>7|a<<9);var o=e[8]|e[9]<<8;this._r[4]=255&(a>>>4|o<<12),this._r[5]=o>>>1&8190;var s=e[10]|e[11]<<8;this._r[6]=8191&(o>>>14|s<<2);var u=e[12]|e[13]<<8;this._r[7]=8065&(s>>>11|u<<5);var l=e[14]|e[15]<<8;this._r[8]=8191&(u>>>8|l<<8),this._r[9]=l>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,n){for(var r=this._fin?0:2048,i=this._h[0],a=this._h[1],o=this._h[2],s=this._h[3],u=this._h[4],l=this._h[5],c=this._h[6],f=this._h[7],d=this._h[8],h=this._h[9],p=this._r[0],v=this._r[1],m=this._r[2],g=this._r[3],y=this._r[4],b=this._r[5],w=this._r[6],x=this._r[7],_=this._r[8],S=this._r[9];n>=16;){var E=e[t+0]|e[t+1]<<8;i+=8191&E;var M=e[t+2]|e[t+3]<<8;a+=8191&(E>>>13|M<<3);var A=e[t+4]|e[t+5]<<8;o+=8191&(M>>>10|A<<6);var k=e[t+6]|e[t+7]<<8;s+=8191&(A>>>7|k<<9);var T=e[t+8]|e[t+9]<<8;u+=8191&(k>>>4|T<<12),l+=T>>>1&8191;var C=e[t+10]|e[t+11]<<8;c+=8191&(T>>>14|C<<2);var P=e[t+12]|e[t+13]<<8;f+=8191&(C>>>11|P<<5);var R=e[t+14]|e[t+15]<<8,I=0,L=I;L+=i*p,L+=a*(5*S),L+=o*(5*_),L+=s*(5*x),I=(L+=u*(5*w))>>>13,L&=8191,L+=l*(5*b),L+=c*(5*y),L+=f*(5*g),L+=(d+=8191&(P>>>8|R<<8))*(5*m);var Z=I+=(L+=(h+=R>>>5|r)*(5*v))>>>13;Z+=i*v,Z+=a*p,Z+=o*(5*S),Z+=s*(5*_),I=(Z+=u*(5*x))>>>13,Z&=8191,Z+=l*(5*w),Z+=c*(5*b),Z+=f*(5*y),Z+=d*(5*g),I+=(Z+=h*(5*m))>>>13,Z&=8191;var O=I;O+=i*m,O+=a*v,O+=o*p,O+=s*(5*S),I=(O+=u*(5*_))>>>13,O&=8191,O+=l*(5*x),O+=c*(5*w),O+=f*(5*b),O+=d*(5*y);var N=I+=(O+=h*(5*g))>>>13;N+=i*g,N+=a*m,N+=o*v,N+=s*p,I=(N+=u*(5*S))>>>13,N&=8191,N+=l*(5*_),N+=c*(5*x),N+=f*(5*w),N+=d*(5*b);var U=I+=(N+=h*(5*y))>>>13;U+=i*y,U+=a*g,U+=o*m,U+=s*v,I=(U+=u*p)>>>13,U&=8191,U+=l*(5*S),U+=c*(5*_),U+=f*(5*x),U+=d*(5*w);var D=I+=(U+=h*(5*b))>>>13;D+=i*b,D+=a*y,D+=o*g,D+=s*m,I=(D+=u*v)>>>13,D&=8191,D+=l*p,D+=c*(5*S),D+=f*(5*_),D+=d*(5*x);var B=I+=(D+=h*(5*w))>>>13;B+=i*w,B+=a*b,B+=o*y,B+=s*g,I=(B+=u*m)>>>13,B&=8191,B+=l*v,B+=c*p,B+=f*(5*S),B+=d*(5*_);var F=I+=(B+=h*(5*x))>>>13;F+=i*x,F+=a*w,F+=o*b,F+=s*y,I=(F+=u*g)>>>13,F&=8191,F+=l*m,F+=c*v,F+=f*p,F+=d*(5*S);var z=I+=(F+=h*(5*_))>>>13;z+=i*_,z+=a*x,z+=o*w,z+=s*b,I=(z+=u*y)>>>13,z&=8191,z+=l*g,z+=c*m,z+=f*v,z+=d*p;var j=I+=(z+=h*(5*S))>>>13;j+=i*S,j+=a*_,j+=o*x,j+=s*w,I=(j+=u*b)>>>13,j&=8191,j+=l*y,j+=c*g,j+=f*m,j+=d*v,i=L=8191&(I=(I=((I+=(j+=h*p)>>>13)<<2)+I|0)+(L&=8191)|0),a=Z+=I>>>=13,o=O&=8191,s=N&=8191,u=U&=8191,l=D&=8191,c=B&=8191,f=F&=8191,d=z&=8191,h=j&=8191,t+=16,n-=16}this._h[0]=i,this._h[1]=a,this._h[2]=o,this._h[3]=s,this._h[4]=u,this._h[5]=l,this._h[6]=c,this._h[7]=f,this._h[8]=d,this._h[9]=h},e.prototype.finish=function(e,t){void 0===t&&(t=0);var n,r,i,a,o=new Uint16Array(10);if(this._leftover){for(a=this._leftover,this._buffer[a++]=1;a<16;a++)this._buffer[a]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,a=2;a<10;a++)this._h[a]+=n,n=this._h[a]>>>13,this._h[a]&=8191;for(this._h[0]+=5*n,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,o[0]=this._h[0]+5,n=o[0]>>>13,o[0]&=8191,a=1;a<10;a++)o[a]=this._h[a]+n,n=o[a]>>>13,o[a]&=8191;for(o[9]-=8192,r=(1^n)-1,a=0;a<10;a++)o[a]&=r;for(r=~r,a=0;a<10;a++)this._h[a]=this._h[a]&r|o[a];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,a=1;a<8;a++)i=(this._h[a]+this._pad[a]|0)+(i>>>16)|0,this._h[a]=65535&i;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,n=0,r=e.length;if(this._leftover){(t=16-this._leftover)>r&&(t=r);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[n+i];if(r-=t,n+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(r>=16&&(t=r-r%16,this._blocks(e,n,t),n+=t,r-=t),r){for(i=0;i<r;i++)this._buffer[this._leftover+i]=e[n+i];this._leftover+=r}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=a,t.oneTimeAuth=function(e,t){var n=new a(e);n.update(t);var r=n.digest();return n.clean(),r},t.equal=function(e,n){return e.length===t.DIGEST_LENGTH&&n.length===t.DIGEST_LENGTH&&r.equal(e,n)}},6271:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;var r=n(933),i=n(6232),a=n(9116);function o(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.defaultRandomSource).randomBytes(e)}t.defaultRandomSource=new r.SystemRandomSource,t.randomBytes=o,t.randomUint32=function(){var e=o(4,arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.defaultRandomSource),n=(0,i.readUint32LE)(e);return(0,a.wipe)(e),n};var s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function u(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.defaultRandomSource;if(n.length<2)throw new Error("randomString charset is too short");if(n.length>256)throw new Error("randomString charset is too long");for(var i="",u=n.length,l=256-256%u;e>0;){for(var c=o(Math.ceil(256*e/l),r),f=0;f<c.length&&e>0;f++){var d=c[f];d<l&&(i+=n.charAt(d%u),e--)}(0,a.wipe)(c)}return i}t.randomString=u,t.randomStringForEntropy=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.defaultRandomSource;return u(Math.ceil(e/(Math.log(n.length)/Math.LN2)),n,r)}},8136:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;var a=function(){function e(){r(this,e),this.isAvailable=!1,this.isInstantiated=!1;var t="undefined"!==typeof self?self.crypto||self.msCrypto:null;t&&void 0!==t.getRandomValues&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}return i(e,[{key:"randomBytes",value:function(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");for(var t=new Uint8Array(e),n=0;n<t.length;n+=65536)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,65536)));return t}}]),e}();t.BrowserRandomSource=a},8188:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;var a=n(9116),o=function(){function e(){r(this,e),this.isAvailable=!1,this.isInstantiated=!1;var t=n(5883);t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}return i(e,[{key:"randomBytes",value:function(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");var t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");for(var n=new Uint8Array(e),r=0;r<n.length;r++)n[r]=t[r];return(0,a.wipe)(t),n}}]),e}();t.NodeRandomSource=o},933:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;var a=n(8136),o=n(8188),s=function(){function e(){return r(this,e),this.isAvailable=!1,this.name="",this._source=new a.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new o.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}return i(e,[{key:"randomBytes",value:function(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}]),e}();t.SystemRandomSource=s},4888:function(e,t,n){"use strict";var r=n(6232),i=n(9116);t.k=32,t.cn=64;var a=function(){function e(){this.digestLength=t.k,this.blockSize=t.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[n++],t--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(n=s(this._temp,this._state,e,n,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[n++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,i=t/536870912|0,a=t<<3,o=t%64<56?64:128;this._buffer[n]=128;for(var u=n+1;u<o-8;u++)this._buffer[u]=0;r.writeUint32BE(i,this._buffer,o-8),r.writeUint32BE(a,this._buffer,o-4),s(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(u=0;u<this.digestLength/4;u++)r.writeUint32BE(this._state[u],e,4*u);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.state),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.mE=a;var o=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(e,t,n,i,a){for(;a>=64;){for(var s=t[0],u=t[1],l=t[2],c=t[3],f=t[4],d=t[5],h=t[6],p=t[7],v=0;v<16;v++){var m=i+4*v;e[v]=r.readUint32BE(n,m)}for(v=16;v<64;v++){var g=e[v-2],y=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10,b=((g=e[v-15])>>>7|g<<25)^(g>>>18|g<<14)^g>>>3;e[v]=(y+e[v-7]|0)+(b+e[v-16]|0)}for(v=0;v<64;v++){y=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&d^~f&h)|0)+(p+(o[v]+e[v]|0)|0)|0,b=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&u^s&l^u&l)|0;p=h,h=d,d=f,f=c+y|0,c=l,l=u,u=s,s=y+b|0}t[0]+=s,t[1]+=u,t[2]+=l,t[3]+=c,t[4]+=f,t[5]+=d,t[6]+=h,t[7]+=p,i+=64,a-=64}return i}t.vp=function(e){var t=new a;t.update(e);var n=t.digest();return t.clean(),n}},9116:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},2029:function(e,t,n){"use strict";t.gi=t.Au=t.KS=t.kz=void 0;var r=n(6271),i=n(9116);function a(e){var t=new Float64Array(16);if(e)for(var n=0;n<e.length;n++)t[n]=e[n];return t}t.kz=32,t.KS=32;var o=new Uint8Array(32);o[0]=9;var s=a([56129,1]);function u(e){for(var t=1,n=0;n<16;n++){var r=e[n]+t+65535;t=Math.floor(r/65536),e[n]=r-65536*t}e[0]+=t-1+37*(t-1)}function l(e,t,n){for(var r=~(n-1),i=0;i<16;i++){var a=r&(e[i]^t[i]);e[i]^=a,t[i]^=a}}function c(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function f(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function d(e,t,n){var r,i,a=0,o=0,s=0,u=0,l=0,c=0,f=0,d=0,h=0,p=0,v=0,m=0,g=0,y=0,b=0,w=0,x=0,_=0,S=0,E=0,M=0,A=0,k=0,T=0,C=0,P=0,R=0,I=0,L=0,Z=0,O=0,N=n[0],U=n[1],D=n[2],B=n[3],F=n[4],z=n[5],j=n[6],H=n[7],G=n[8],W=n[9],V=n[10],q=n[11],X=n[12],Y=n[13],Q=n[14],K=n[15];a+=(r=t[0])*N,o+=r*U,s+=r*D,u+=r*B,l+=r*F,c+=r*z,f+=r*j,d+=r*H,h+=r*G,p+=r*W,v+=r*V,m+=r*q,g+=r*X,y+=r*Y,b+=r*Q,w+=r*K,o+=(r=t[1])*N,s+=r*U,u+=r*D,l+=r*B,c+=r*F,f+=r*z,d+=r*j,h+=r*H,p+=r*G,v+=r*W,m+=r*V,g+=r*q,y+=r*X,b+=r*Y,w+=r*Q,x+=r*K,s+=(r=t[2])*N,u+=r*U,l+=r*D,c+=r*B,f+=r*F,d+=r*z,h+=r*j,p+=r*H,v+=r*G,m+=r*W,g+=r*V,y+=r*q,b+=r*X,w+=r*Y,x+=r*Q,_+=r*K,u+=(r=t[3])*N,l+=r*U,c+=r*D,f+=r*B,d+=r*F,h+=r*z,p+=r*j,v+=r*H,m+=r*G,g+=r*W,y+=r*V,b+=r*q,w+=r*X,x+=r*Y,_+=r*Q,S+=r*K,l+=(r=t[4])*N,c+=r*U,f+=r*D,d+=r*B,h+=r*F,p+=r*z,v+=r*j,m+=r*H,g+=r*G,y+=r*W,b+=r*V,w+=r*q,x+=r*X,_+=r*Y,S+=r*Q,E+=r*K,c+=(r=t[5])*N,f+=r*U,d+=r*D,h+=r*B,p+=r*F,v+=r*z,m+=r*j,g+=r*H,y+=r*G,b+=r*W,w+=r*V,x+=r*q,_+=r*X,S+=r*Y,E+=r*Q,M+=r*K,f+=(r=t[6])*N,d+=r*U,h+=r*D,p+=r*B,v+=r*F,m+=r*z,g+=r*j,y+=r*H,b+=r*G,w+=r*W,x+=r*V,_+=r*q,S+=r*X,E+=r*Y,M+=r*Q,A+=r*K,d+=(r=t[7])*N,h+=r*U,p+=r*D,v+=r*B,m+=r*F,g+=r*z,y+=r*j,b+=r*H,w+=r*G,x+=r*W,_+=r*V,S+=r*q,E+=r*X,M+=r*Y,A+=r*Q,k+=r*K,h+=(r=t[8])*N,p+=r*U,v+=r*D,m+=r*B,g+=r*F,y+=r*z,b+=r*j,w+=r*H,x+=r*G,_+=r*W,S+=r*V,E+=r*q,M+=r*X,A+=r*Y,k+=r*Q,T+=r*K,p+=(r=t[9])*N,v+=r*U,m+=r*D,g+=r*B,y+=r*F,b+=r*z,w+=r*j,x+=r*H,_+=r*G,S+=r*W,E+=r*V,M+=r*q,A+=r*X,k+=r*Y,T+=r*Q,C+=r*K,v+=(r=t[10])*N,m+=r*U,g+=r*D,y+=r*B,b+=r*F,w+=r*z,x+=r*j,_+=r*H,S+=r*G,E+=r*W,M+=r*V,A+=r*q,k+=r*X,T+=r*Y,C+=r*Q,P+=r*K,m+=(r=t[11])*N,g+=r*U,y+=r*D,b+=r*B,w+=r*F,x+=r*z,_+=r*j,S+=r*H,E+=r*G,M+=r*W,A+=r*V,k+=r*q,T+=r*X,C+=r*Y,P+=r*Q,R+=r*K,g+=(r=t[12])*N,y+=r*U,b+=r*D,w+=r*B,x+=r*F,_+=r*z,S+=r*j,E+=r*H,M+=r*G,A+=r*W,k+=r*V,T+=r*q,C+=r*X,P+=r*Y,R+=r*Q,I+=r*K,y+=(r=t[13])*N,b+=r*U,w+=r*D,x+=r*B,_+=r*F,S+=r*z,E+=r*j,M+=r*H,A+=r*G,k+=r*W,T+=r*V,C+=r*q,P+=r*X,R+=r*Y,I+=r*Q,L+=r*K,b+=(r=t[14])*N,w+=r*U,x+=r*D,_+=r*B,S+=r*F,E+=r*z,M+=r*j,A+=r*H,k+=r*G,T+=r*W,C+=r*V,P+=r*q,R+=r*X,I+=r*Y,L+=r*Q,Z+=r*K,w+=(r=t[15])*N,o+=38*(_+=r*D),s+=38*(S+=r*B),u+=38*(E+=r*F),l+=38*(M+=r*z),c+=38*(A+=r*j),f+=38*(k+=r*H),d+=38*(T+=r*G),h+=38*(C+=r*W),p+=38*(P+=r*V),v+=38*(R+=r*q),m+=38*(I+=r*X),g+=38*(L+=r*Y),y+=38*(Z+=r*Q),b+=38*(O+=r*K),a=(r=(a+=38*(x+=r*U))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),o=(r=o+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=(a+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),o=(r=o+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),a+=i-1+37*(i-1),e[0]=a,e[1]=o,e[2]=s,e[3]=u,e[4]=l,e[5]=c,e[6]=f,e[7]=d,e[8]=h,e[9]=p,e[10]=v,e[11]=m,e[12]=g,e[13]=y,e[14]=b,e[15]=w}function h(e,t){d(e,t,t)}function p(e,t){for(var n=new Uint8Array(32),r=new Float64Array(80),i=a(),o=a(),p=a(),v=a(),m=a(),g=a(),y=0;y<31;y++)n[y]=e[y];n[31]=127&e[31]|64,n[0]&=248,function(e,t){for(var n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(r,t);for(var b=0;b<16;b++)o[b]=r[b];i[0]=v[0]=1;for(var w=254;w>=0;--w){var x=n[w>>>3]>>>(7&w)&1;l(i,o,x),l(p,v,x),c(m,i,p),f(i,i,p),c(p,o,v),f(o,o,v),h(v,m),h(g,i),d(i,p,i),d(p,o,m),c(m,i,p),f(i,i,p),h(o,i),f(p,v,g),d(i,p,s),c(i,i,v),d(p,p,i),d(i,v,g),d(v,o,r),h(o,m),l(i,o,x),l(p,v,x)}for(var _=0;_<16;_++)r[_+16]=i[_],r[_+32]=p[_],r[_+48]=o[_],r[_+64]=v[_];var S=r.subarray(32),E=r.subarray(16);!function(e,t){for(var n=a(),r=0;r<16;r++)n[r]=t[r];for(var i=253;i>=0;i--)h(n,n),2!==i&&4!==i&&d(n,n,t);for(var o=0;o<16;o++)e[o]=n[o]}(S,S),d(E,E,S);var M=new Uint8Array(32);return function(e,t){for(var n=a(),r=a(),i=0;i<16;i++)r[i]=t[i];u(r),u(r),u(r);for(var o=0;o<2;o++){n[0]=r[0]-65517;for(var s=1;s<15;s++)n[s]=r[s]-65535-(n[s-1]>>16&1),n[s-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);var c=n[15]>>16&1;n[14]&=65535,l(r,n,1-c)}for(var f=0;f<16;f++)e[2*f]=255&r[f],e[2*f+1]=r[f]>>8}(M,E),M}function v(e){return p(e,o)}function m(e){if(e.length!==t.KS)throw new Error("x25519: seed must be ".concat(t.KS," bytes"));var n=new Uint8Array(e);return{publicKey:v(n),secretKey:n}}t.Au=function(e){var t=(0,r.randomBytes)(32,e),n=m(t);return(0,i.wipe)(t),n},t.gi=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.length!==t.kz)throw new Error("X25519: incorrect secret key length");if(n.length!==t.kz)throw new Error("X25519: incorrect public key length");var i=p(e,n);if(r){for(var a=0,o=0;o<i.length;o++)a|=i[o];if(0===a)throw new Error("X25519: invalid shared key")}return i}},2023:function(){},60:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3170);r.__exportStar(n(2505),t),r.__exportStar(n(9614),t)},2505:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},9614:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},3182:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3170);r.__exportStar(n(6100),t),r.__exportStar(n(706),t),r.__exportStar(n(9443),t),r.__exportStar(n(60),t)},9443:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3170).__exportStar(n(6596),t)},6596:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;var a=r((function e(){i(this,e)}));t.IWatch=a},7355:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;var r=n(60);t.toMiliseconds=function(e){return e*r.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/r.ONE_THOUSAND)}},3900:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((function(t){setTimeout((function(){t(!0)}),e)}))}},6100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3170);r.__exportStar(n(3900),t),r.__exportStar(n(7355),t)},706:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;var a=function(){function e(){r(this,e),this.timestamps=new Map}return i(e,[{key:"start",value:function(e){if(this.timestamps.has(e))throw new Error("Watch already started for label: ".concat(e));this.timestamps.set(e,{started:Date.now()})}},{key:"stop",value:function(e){var t=this.get(e);if("undefined"!==typeof t.elapsed)throw new Error("Watch already stopped for label: ".concat(e));var n=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:n})}},{key:"get",value:function(e){var t=this.timestamps.get(e);if("undefined"===typeof t)throw new Error("No timestamp found for label: ".concat(e));return t}},{key:"elapsed",value:function(e){var t=this.get(e),n=t.elapsed||Date.now()-t.started;return n}}]),e}();t.Watch=a,t.default=a},3170:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return a},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return x},__await:function(){return y},__awaiter:function(){return c},__classPrivateFieldGet:function(){return M},__classPrivateFieldSet:function(){return A},__createBinding:function(){return d},__decorate:function(){return s},__exportStar:function(){return h},__extends:function(){return i},__generator:function(){return f},__importDefault:function(){return E},__importStar:function(){return S},__makeTemplateObject:function(){return _},__metadata:function(){return l},__param:function(){return u},__read:function(){return v},__rest:function(){return o},__spread:function(){return m},__spreadArrays:function(){return g},__values:function(){return p}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function u(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,l):c(a[0][2],n)}catch(r){c(a[0][3],r)}var n}function u(e){s("next",e)}function l(e){s("throw",e)}function c(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function A(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},3739:function(e,t,n){"use strict";n.d(t,{AW:function(){return O},rV:function(){return B},gn:function(){return ke},H1:function(){return xe},hF:function(){return _e},WG:function(){return Y},pe:function(){return K},m$:function(){return V},vB:function(){return J},HI:function(){return Q},E0:function(){return Ce},Gq:function(){return Me},$0:function(){return ge},Z4:function(){return Ee},Bv:function(){return We},Au:function(){return G},jd:function(){return W},gu:function(){return I},D:function(){return ve},Z7:function(){return ut},cO:function(){return Oe},_H:function(){return Ze},fc:function(){return nt},D6:function(){return lt},Hh:function(){return Re},Ym:function(){return q},rj:function(){return X},jU:function(){return he},gp:function(){return rt},rF:function(){return Dt},Bw:function(){return Te},UG:function(){return fe},xW:function(){return yt},b$:function(){return de},Ih:function(){return vt},h1:function(){return bt},Q8:function(){return te},o8:function(){return dt},qt:function(){return ct},Dd:function(){return wt},$t:function(){return Rt},nf:function(){return Zt},Q0:function(){return Ct},in:function(){return At},p8:function(){return Ot},sI:function(){return Ut},al:function(){return Nt},L5:function(){return ft},EJ:function(){return Pt},Z2:function(){return kt},PM:function(){return Tt},hH:function(){return It},ON:function(){return Ft},n:function(){return Mt},JT:function(){return Lt},M_:function(){return ht},jv:function(){return gt},KC:function(){return be},eG:function(){return Pe},fK:function(){return at},IP:function(){return we},iP:function(){return Ae},M:function(){return it},he:function(){return He},Ll:function(){return $},EN:function(){return ee}});var r=n(4165),i=n(5861),a=n(7762),o=n(3433),s=n(9439),u=n(3642),l=n(2497),c=n(6271),f=n(4888),d=n(2029),h=n(4301),p=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},v=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},m=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},g=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},y=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},b=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},w=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,x=3,_=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],S=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function E(e){return e?A(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new b:"undefined"!==typeof navigator?A(navigator.userAgent):"undefined"!==typeof process&&process.version?new m(process.version.slice(1)):null}function M(e){return""!==e&&_.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var a=i.exec(e);return!!a&&[r,a]}),!1)}function A(e){var t=M(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new y;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<x&&(i=p(p([],i,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(x-i.length),!0)):i=[];var a=i.join("."),o=function(e){for(var t=0,n=S.length;t<n;t++){var r=S[t],i=r[0];if(r[1].exec(e))return i}return null}(e),s=w.exec(e);return s&&s[1]?new g(n,a,o,s[1]):new v(n,a,o)}var k=n(3182),T=n(9808),C=n(7296),P=n(1750),R=(n(2023),{waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}});function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return Object.keys(e).forEach((function(r){if(!t.length||t.includes(r)){var i=e[r];n.push.apply(n,(0,o.Z)(i.accounts))}})),n}function L(e,t){return e.includes(":")?[e]:t.chains||[]}var Z="base10",O="base16",N="base64pad",U="utf8",D=0,B=1,F=0,z=1,j=12,H=32;function G(){var e=d.Au();return{privateKey:(0,h.BB)(e.secretKey,O),publicKey:(0,h.BB)(e.publicKey,O)}}function W(){var e=(0,c.randomBytes)(H);return(0,h.BB)(e,O)}function V(e,t){var n=d.gi((0,h.mL)(e,O),(0,h.mL)(t,O)),r=new l.t(f.mE,n).expand(H);return(0,h.BB)(r,O)}function q(e){var t=(0,f.vp)((0,h.mL)(e,O));return(0,h.BB)(t,O)}function X(e){var t=(0,f.vp)((0,h.mL)(e,U));return(0,h.BB)(t,O)}function Y(e){return Number((0,h.BB)(e,Z))}function Q(e){var t=function(e){return(0,h.mL)("".concat(e),Z)}(typeof e.type<"u"?e.type:D);if(Y(t)===B&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");var n=typeof e.senderPublicKey<"u"?(0,h.mL)(e.senderPublicKey,O):void 0,r=typeof e.iv<"u"?(0,h.mL)(e.iv,O):(0,c.randomBytes)(j);return function(e){if(Y(e.type)===B){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return(0,h.BB)((0,h.zo)([e.type,e.senderPublicKey,e.iv,e.sealed]),N)}return(0,h.BB)((0,h.zo)([e.type,e.iv,e.sealed]),N)}({type:t,sealed:new u.OK((0,h.mL)(e.symKey,O)).seal(r,(0,h.mL)(e.message,U)),iv:r,senderPublicKey:n})}function K(e){var t=new u.OK((0,h.mL)(e.symKey,O)),n=J(e.encoded),r=n.sealed,i=n.iv,a=t.open(i,r);if(null===a)throw new Error("Failed to decrypt");return(0,h.BB)(a,U)}function J(e){var t=(0,h.mL)(e,N),n=t.slice(F,z),r=z;if(Y(n)===B){var i=r+H,a=i+j,o=t.slice(r,i),s=t.slice(i,a);return{type:n,sealed:t.slice(a),iv:s,senderPublicKey:o}}var u=r+j,l=t.slice(r,u);return{type:n,sealed:t.slice(u),iv:l}}function $(e,t){var n=J(e);return ee({type:Y(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?(0,h.BB)(n.senderPublicKey,O):void 0,receiverPublicKey:null===t||void 0===t?void 0:t.receiverPublicKey})}function ee(e){var t=(null===e||void 0===e?void 0:e.type)||D;if(t===B){if(typeof(null===e||void 0===e?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(null===e||void 0===e?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:null===e||void 0===e?void 0:e.senderPublicKey,receiverPublicKey:null===e||void 0===e?void 0:e.receiverPublicKey}}function te(e){return e.type===B&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}var ne=Object.defineProperty,re=Object.getOwnPropertySymbols,ie=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,oe=function(e,t,n){return t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},se=function(e,t){for(var n in t||(t={}))ie.call(t,n)&&oe(e,n,t[n]);if(re){var r,i=(0,a.Z)(re(t));try{for(i.s();!(r=i.n()).done;){n=r.value;ae.call(t,n)&&oe(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},ue="ReactNative",le={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},ce="js";function fe(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function de(){return!(0,T.getDocument)()&&!!(0,T.getNavigator)()&&navigator.product===ue}function he(){return!fe()&&!!(0,T.getNavigator)()}function pe(){return de()?le.reactNative:fe()?le.node:he()?le.browser:le.unknown}function ve(){return(0,C.D)()||{name:"",description:"",url:"",icons:[""]}}function me(e,t,r){var i=function(){if(typeof(null==n.g?void 0:n.g.Platform)<"u"){var e=n.g.Platform;return[e.OS,e.Version].join("-")}var t=E();if(null===t)return"unknown";var r=t.os?t.os.replace(" ","").toLowerCase():"unknown";return"browser"===t.type?[r,t.name,t.version].join("-"):[r,t.version].join("-")}(),a=function(){var e,t=pe();return t===le.browser?[t,(null==(e=(0,T.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[ce,r].join("-"),i,a].join("/")}function ge(e){var t=e.protocol,n=e.version,r=e.relayUrl,i=e.sdkVersion,a=e.auth,o=e.projectId,s=e.useOnCloseEvent,u=r.split("?"),l={auth:a,ua:me(t,n,i),projectId:o,useOnCloseEvent:s||void 0},c=function(e,t){var n=P.parse(e);return n=se(se({},n),t),P.stringify(n)}(u[1]||"",l);return u[0]+"?"+c}function ye(e,t){return e.filter((function(e){return t.includes(e)})).length===e.length}function be(e){return Object.fromEntries(e.entries())}function we(e){return new Map(Object.entries(e))}function xe(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.FIVE_MINUTES,i=arguments.length>1?arguments[1]:void 0,a=(0,k.toMiliseconds)(r||k.FIVE_MINUTES);return{resolve:function(t){n&&e&&(clearTimeout(n),e(t))},reject:function(e){n&&t&&(clearTimeout(n),t(e))},done:function(){return new Promise((function(r,o){n=setTimeout((function(){o(new Error(i))}),a),e=r,t=o}))}}}function _e(e,t,n){return new Promise(function(){var a=(0,i.Z)((0,r.Z)().mark((function i(a,o){var s,u;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=setTimeout((function(){return o(new Error(n))}),t),r.prev=1,r.next=4,e;case 4:u=r.sent,a(u),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),o(r.t0);case 11:clearTimeout(s);case 12:case"end":return r.stop()}}),i,null,[[1,8]])})));return function(e,t){return a.apply(this,arguments)}}())}function Se(e,t){if("string"==typeof t&&t.startsWith("".concat(e,":")))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return"topic:".concat(t)}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return"id:".concat(t)}throw new Error("Unknown expirer target type: ".concat(e))}function Ee(e){return Se("topic",e)}function Me(e){return Se("id",e)}function Ae(e){var t=e.split(":"),n=(0,s.Z)(t,2),r=n[0],i=n[1],a={id:void 0,topic:void 0};if("topic"===r&&"string"==typeof i)a.topic=i;else{if("id"!==r||!Number.isInteger(Number(i)))throw new Error("Invalid target, expected id:number or topic:string, got ".concat(r,":").concat(i));a.id=Number(i)}return a}function ke(e,t){return(0,k.fromMiliseconds)((t||Date.now())+(0,k.toMiliseconds)(e))}function Te(e){return Date.now()>=(0,k.toMiliseconds)(e)}function Ce(e,t){return"".concat(e).concat(t?":".concat(t):"")}function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,o.Z)(new Set([].concat((0,o.Z)(e),(0,o.Z)(t))))}function Re(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,i.Z)((0,r.Z)().mark((function e(t){var i,a,o,s,u,l,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.id,a=t.topic,o=t.wcDeepLink,e.prev=1,o){e.next=4;break}return e.abrupt("return");case 4:if(s="string"==typeof o?JSON.parse(o):o,"string"==typeof(u=null===s||void 0===s?void 0:s.href)){e.next=8;break}return e.abrupt("return");case 8:if(u.endsWith("/")&&(u=u.slice(0,-1)),l="".concat(u,"/wc?requestId=").concat(i,"&sessionTopic=").concat(a),(c=pe())!==le.browser){e.next=14;break}l.startsWith("https://")?window.open(l,"_blank","noreferrer noopener"):window.open(l,"_self","noreferrer noopener"),e.next=18;break;case 14:if(e.t0=c===le.reactNative&&typeof(null==n.g?void 0:n.g.Linking)<"u",!e.t0){e.next=18;break}return e.next=18,n.g.Linking.openURL(l);case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(1),console.error(e.t1);case 23:case"end":return e.stop()}}),e,null,[[1,20]])})))).apply(this,arguments)}var Le="irn";function Ze(e){return(null===e||void 0===e?void 0:e.relay)||{protocol:Le}}function Oe(e){var t=R[e];if(typeof t>"u")throw new Error("Relay Protocol not supported: ".concat(e));return t}var Ne=Object.defineProperty,Ue=Object.getOwnPropertySymbols,De=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable,Fe=function(e,t,n){return t in e?Ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ze=function(e,t){for(var n in t||(t={}))De.call(t,n)&&Fe(e,n,t[n]);if(Ue){var r,i=(0,a.Z)(Ue(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Be.call(t,n)&&Fe(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e};function je(e){var t={},n="relay"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-");return Object.keys(e).forEach((function(r){if(r.startsWith(n)){var i=r.replace(n,""),a=e[r];t[i]=a}})),t}function He(e){var t=e.indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,t),i=e.substring(t+1,n).split("@"),a=typeof n<"u"?e.substring(n):"",o=P.parse(a);return{protocol:r,topic:Ge(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:je(o)}}function Ge(e){return e.startsWith("//")?e.substring(2):e}function We(e){return"".concat(e.protocol,":").concat(e.topic,"@").concat(e.version,"?")+P.stringify(ze({symKey:e.symKey},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={};return Object.keys(e).forEach((function(r){var i="relay"+t+r;e[r]&&(n[i]=e[r])})),n}(e.relay)))}var Ve=Object.defineProperty,qe=Object.defineProperties,Xe=Object.getOwnPropertyDescriptors,Ye=Object.getOwnPropertySymbols,Qe=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable,Je=function(e,t,n){return t in e?Ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},$e=function(e,t){for(var n in t||(t={}))Qe.call(t,n)&&Je(e,n,t[n]);if(Ye){var r,i=(0,a.Z)(Ye(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Ke.call(t,n)&&Je(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},et=function(e,t){return qe(e,Xe(t))};function tt(e){var t=[];return e.forEach((function(e){var n=e.split(":"),r=(0,s.Z)(n,2),i=r[0],a=r[1];t.push("".concat(i,":").concat(a))})),t}function nt(e,t){var n=At(e,t);if(n)throw new Error(n.message);for(var r={},i=0,a=Object.entries(e);i<a.length;i++){var o=(0,s.Z)(a[i],2),u=o[0],l=o[1];r[u]={methods:l.methods,events:l.events,chains:l.accounts.map((function(e){return"".concat(e.split(":")[0],":").concat(e.split(":")[1])}))}}return r}function rt(e){return e.includes(":")}function it(e){return rt(e)?e.split(":")[0]:e}function at(e){var t,n,r,i={};if(!ft(e))return i;for(var a=0,o=Object.entries(e);a<o.length;a++){var u=(0,s.Z)(o[a],2),l=u[0],c=u[1],f=rt(l)?[l]:c.chains,d=c.methods||[],h=c.events||[],p=it(l);i[p]=et($e({},i[p]),{chains:Pe(f,null==(t=i[p])?void 0:t.chains),methods:Pe(d,null==(n=i[p])?void 0:n.methods),events:Pe(h,null==(r=i[p])?void 0:r.events)})}return i}var ot={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},st={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ut(e,t){var n=st[e],r=n.message,i=n.code;return{message:t?"".concat(r," ").concat(t):r,code:i}}function lt(e,t){var n=ot[e],r=n.message,i=n.code;return{message:t?"".concat(r," ").concat(t):r,code:i}}function ct(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function ft(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function dt(e){return typeof e>"u"}function ht(e,t){return!(!t||!dt(e))||"string"==typeof e&&!!e.trim().length}function pt(e,t){return!(!t||!dt(e))||"number"==typeof e&&!isNaN(e)}function vt(e,t){var n=t.requiredNamespaces,r=Object.keys(e.namespaces),i=Object.keys(n),a=!0;return!!ye(i,r)&&(r.forEach((function(t){var r=e.namespaces[t],i=r.accounts,o=r.methods,s=r.events,u=tt(i),l=n[t];(!ye(L(t,l),u)||!ye(l.methods,o)||!ye(l.events,s))&&(a=!1)})),a)}function mt(e){return!(!ht(e,!1)||!e.includes(":"))&&2===e.split(":").length}function gt(e){if(ht(e,!1))try{return typeof new URL(e)<"u"}catch(t){return!1}return!1}function yt(e){var t;return null==(t=null===e||void 0===e?void 0:e.proposer)?void 0:t.publicKey}function bt(e){return null===e||void 0===e?void 0:e.topic}function wt(e,t){var n=null;return ht(null===e||void 0===e?void 0:e.publicKey,!1)||(n=ut("MISSING_OR_INVALID","".concat(t," controller public key should be a string"))),n}function xt(e){var t=!0;return ct(e)?e.length&&(t=e.every((function(e){return ht(e,!1)}))):t=!1,t}function _t(e,t,n){var r=null;return Object.entries(e).forEach((function(e){var i=(0,s.Z)(e,2),a=i[0],o=i[1];if(!r){var u=function(e,t,n){var r=null;return ct(t)&&t.length?t.forEach((function(e){r||mt(e)||(r=lt("UNSUPPORTED_CHAINS","".concat(n,", chain ").concat(e,' should be a string and conform to "namespace:chainId" format')))})):mt(e)||(r=lt("UNSUPPORTED_CHAINS","".concat(n,', chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }'))),r}(a,L(a,o),"".concat(t," ").concat(n));u&&(r=u)}})),r}function St(e,t){var n=null;return ct(e)?e.forEach((function(e){n||function(e){if(ht(e,!1)&&e.includes(":")){var t=e.split(":");if(3===t.length){var n=t[0]+":"+t[1];return!!t[2]&&mt(n)}}return!1}(e)||(n=lt("UNSUPPORTED_ACCOUNTS","".concat(t,", account ").concat(e,' should be a string and conform to "namespace:chainId:address" format')))})):n=lt("UNSUPPORTED_ACCOUNTS","".concat(t,', accounts should be an array of strings conforming to "namespace:chainId:address" format')),n}function Et(e,t){var n=null;return Object.values(e).forEach((function(e){if(!n){var r=function(e,t){var n=null;return xt(null===e||void 0===e?void 0:e.methods)?xt(null===e||void 0===e?void 0:e.events)||(n=lt("UNSUPPORTED_EVENTS","".concat(t,", events should be an array of strings or empty array for no events"))):n=lt("UNSUPPORTED_METHODS","".concat(t,", methods should be an array of strings or empty array for no methods")),n}(e,"".concat(t,", namespace"));r&&(n=r)}})),n}function Mt(e,t,n){var r=null;if(e&&ft(e)){var i=Et(e,t);i&&(r=i);var a=_t(e,t,n);a&&(r=a)}else r=ut("MISSING_OR_INVALID","".concat(t,", ").concat(n," should be an object with data"));return r}function At(e,t){var n=null;if(e&&ft(e)){var r=Et(e,t);r&&(n=r);var i=function(e,t){var n=null;return Object.values(e).forEach((function(e){if(!n){var r=St(null===e||void 0===e?void 0:e.accounts,"".concat(t," namespace"));r&&(n=r)}})),n}(e,t);i&&(n=i)}else n=ut("MISSING_OR_INVALID","".concat(t,", namespaces should be an object with data"));return n}function kt(e){return ht(e.protocol,!0)}function Tt(e,t){var n=!1;return t&&!e?n=!0:e&&ct(e)&&e.length&&e.forEach((function(e){n=kt(e)})),n}function Ct(e){return"number"==typeof e}function Pt(e){return typeof e<"u"&&null!==typeof e}function Rt(e){return!(!e||"object"!=typeof e||!e.code||!pt(e.code,!1)||!e.message||!ht(e.message,!1))}function It(e){return!(dt(e)||!ht(e.method,!1))}function Lt(e){return!(dt(e)||dt(e.result)&&dt(e.error)||!pt(e.id,!1)||!ht(e.jsonrpc,!1))}function Zt(e){return!(dt(e)||!ht(e.name,!1))}function Ot(e,t){return!(!mt(t)||!function(e){var t=[];return Object.values(e).forEach((function(e){t.push.apply(t,(0,o.Z)(tt(e.accounts)))})),t}(e).includes(t))}function Nt(e,t,n){return!!ht(n,!1)&&function(e,t){var n=[];return Object.values(e).forEach((function(e){tt(e.accounts).includes(t)&&n.push.apply(n,(0,o.Z)(e.methods))})),n}(e,t).includes(n)}function Ut(e,t,n){return!!ht(n,!1)&&function(e,t){var n=[];return Object.values(e).forEach((function(e){tt(e.accounts).includes(t)&&n.push.apply(n,(0,o.Z)(e.events))})),n}(e,t).includes(n)}function Dt(e,t,n){var r=null,i=function(e){var t={};return Object.keys(e).forEach((function(n){var r;n.includes(":")?t[n]=e[n]:null==(r=e[n].chains)||r.forEach((function(r){t[r]={methods:e[n].methods,events:e[n].events}}))})),t}(e),a=function(e){var t={};return Object.keys(e).forEach((function(n){if(n.includes(":"))t[n]=e[n];else{var r=tt(e[n].accounts);null===r||void 0===r||r.forEach((function(r){t[r]={accounts:e[n].accounts.filter((function(e){return e.includes("".concat(r,":"))})),methods:e[n].methods,events:e[n].events}}))}})),t}(t),o=Object.keys(i),s=Object.keys(a),u=Bt(Object.keys(e)),l=Bt(Object.keys(t)),c=u.filter((function(e){return!l.includes(e)}));return c.length&&(r=ut("NON_CONFORMING_NAMESPACES","".concat(n," namespaces keys don't satisfy requiredNamespaces.\n      Required: ").concat(c.toString(),"\n      Received: ").concat(Object.keys(t).toString()))),ye(o,s)||(r=ut("NON_CONFORMING_NAMESPACES","".concat(n," namespaces chains don't satisfy required namespaces.\n      Required: ").concat(o.toString(),"\n      Approved: ").concat(s.toString()))),Object.keys(t).forEach((function(e){if(e.includes(":")&&!r){var i=tt(t[e].accounts);i.includes(e)||(r=ut("NON_CONFORMING_NAMESPACES","".concat(n," namespaces accounts don't satisfy namespace accounts for ").concat(e,"\n        Required: ").concat(e,"\n        Approved: ").concat(i.toString())))}})),o.forEach((function(e){r||(ye(i[e].methods,a[e].methods)?ye(i[e].events,a[e].events)||(r=ut("NON_CONFORMING_NAMESPACES","".concat(n," namespaces events don't satisfy namespace events for ").concat(e))):r=ut("NON_CONFORMING_NAMESPACES","".concat(n," namespaces methods don't satisfy namespace methods for ").concat(e)))})),r}function Bt(e){return(0,o.Z)(new Set(e.map((function(e){return e.includes(":")?e.split(":")[0]:e}))))}function Ft(e,t){return pt(e,!1)&&e<=t.max&&e>=t.min}},1750:function(e,t,n){"use strict";var r=n(8416).default,i=n(7424).default,a=n(4704).default,o=n(861).default,s=n(499),u=n(9412),l=n(845),c=n(2683),f=Symbol("encodeFragmentIdentifier");function d(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function h(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function p(e,t){return t.decode?u(e):e}function v(e){return Array.isArray(e)?e.sort():"object"===typeof e?v(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function m(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function g(e){var t=(e=m(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function y(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function b(e,t){d((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"colon-list-separator":return function(e,n,r){t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return function(t,n,r){var i="string"===typeof n&&n.includes(e.arrayFormatSeparator),a="string"===typeof n&&!i&&p(n,e).includes(e.arrayFormatSeparator);n=a?p(n,e):n;var o=i||a?n.split(e.arrayFormatSeparator).map((function(t){return p(t,e)})):null===n?n:p(n,e);r[t]=o};case"bracket-separator":return function(t,n,r){var i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),i){var a=null===n?[]:n.split(e.arrayFormatSeparator).map((function(t){return p(t,e)}));void 0!==r[t]?r[t]=[].concat(r[t],a):r[t]=a}else r[t]=n?p(n,e):n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!==typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;var o,s=a(e.split("&"));try{for(s.s();!(o=s.n()).done;){var u=o.value;if(""!==u){var c=l(t.decode?u.replace(/\+/g," "):u,"="),f=i(c,2),h=f[0],m=f[1];m=void 0===m?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?m:p(m,t),n(p(h,t),m,r)}}}catch(M){s.e(M)}finally{s.f()}for(var g=0,b=Object.keys(r);g<b.length;g++){var w=b[g],x=r[w];if("object"===typeof x&&null!==x)for(var _=0,S=Object.keys(x);_<S.length;_++){var E=S[_];x[E]=y(x[E],t)}else r[w]=y(x,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=v(n):e[t]=n,e}),Object.create(null))}t.extract=g,t.parse=b,t.stringify=function(e,t){if(!e)return"";d((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var n=function(n){return t.skipNull&&(null===(r=e[n])||void 0===r)||t.skipEmptyString&&""===e[n];var r},r=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[h(t,e),"[",i,"]"].join("")]:[[h(t,e),"[",h(i,e),"]=",h(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[h(t,e),"[]"].join("")]:[[h(t,e),"[]=",h(r,e)].join("")])}};case"colon-list-separator":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[h(t,e),":list="].join("")]:[[h(t,e),":list=",h(r,e)].join("")])}};case"comma":case"separator":case"bracket-separator":var t="bracket-separator"===e.arrayFormat?"[]=":"=";return function(n){return function(r,i){return void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:(i=null===i?"":i,0===r.length?[[h(n,e),t,h(i,e)].join("")]:[[r,h(i,e)].join(e.arrayFormatSeparator)])}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[h(t,e)]:[[h(t,e),"=",h(r,e)].join("")])}}}}(t),i={},a=0,s=Object.keys(e);a<s.length;a++){var u=s[a];n(u)||(i[u]=e[u])}var l=Object.keys(i);return!1!==t.sort&&l.sort(t.sort),l.map((function(n){var i=e[n];return void 0===i?"":null===i?h(n,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?h(n,t)+"[]":i.reduce(r(n),[]).join("&"):h(n,t)+"="+h(i,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=l(e,"#"),r=i(n,2),a=r[0],o=r[1];return Object.assign({url:a.split("?")[0]||"",query:b(g(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:p(o,t)}:{})},t.stringifyUrl=function(e,n){n=Object.assign(r({encode:!0,strict:!0},f,!0),n);var i=m(e.url).split("?")[0]||"",a=t.extract(e.url),o=t.parse(a,{sort:!1}),s=Object.assign(o,e.query),u=t.stringify(s,n);u&&(u="?".concat(u));var l=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(l="#".concat(n[f]?h(e.fragmentIdentifier,n):e.fragmentIdentifier)),"".concat(i).concat(u).concat(l)},t.pick=function(e,n,i){i=Object.assign(r({parseFragmentIdentifier:!0},f,!1),i);var a=t.parseUrl(e,i),o=a.url,s=a.query,u=a.fragmentIdentifier;return t.stringifyUrl({url:o,query:c(s,n),fragmentIdentifier:u},i)},t.exclude=function(e,n,r){var i=Array.isArray(n)?function(e){return!n.includes(e)}:function(e,t){return!n(e,t)};return t.pick(e,i,r)}},9808:function(e,t){"use strict";function n(e){var t=void 0;return"undefined"!==typeof window&&"undefined"!==typeof window[e]&&(t=window[e]),t}function r(e){var t=n(e);if(!t)throw new Error("".concat(e," is not defined in Window"));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}},7296:function(e,t,n){"use strict";t.D=void 0;var r=n(9808);t.D=function(){var e,t;try{e=r.getDocumentOrThrow(),t=r.getLocationOrThrow()}catch(a){return null}function n(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=e.getElementsByTagName("meta"),a=function(){var e=i[o],t=["itemprop","property","name"].map((function(t){return e.getAttribute(t)})).filter((function(e){return!!e&&n.includes(e)}));if(t.length&&t){var r=e.getAttribute("content");if(r)return{v:r}}},o=0;o<i.length;o++){var s=a();if("object"===typeof s)return s.v}return""}var i=function(){var t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){for(var n=e.getElementsByTagName("link"),r=[],i=0;i<n.length;i++){var a=n[i],o=a.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){var s=a.getAttribute("href");if(s)if(-1===s.toLowerCase().indexOf("https:")&&-1===s.toLowerCase().indexOf("http:")&&0!==s.indexOf("//")){var u=t.protocol+"//"+t.host;if(0===s.indexOf("/"))u+=s;else{var l=t.pathname.split("/");l.pop(),u+=l.join("/")+"/"+s}r.push(u)}else if(0===s.indexOf("//")){var c=t.protocol+s;r.push(c)}else r.push(s)}}return r}(),name:i}}},2009:function(e,t){"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,a=s(e),o=a[0],u=a[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,u)),c=0,f=u>0?o-4:o;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===u&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[c++]=255&t);1===u&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,l=r-i;s<l;s+=o)a.push(u(e,s,s+o>l?l:s+o));1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=a[o],r[a.charCodeAt(o)]=o;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},9778:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(6115).default,o=n(1655).default,s=n(6389).default,u=n(2009),l=n(4038),c="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=h,t.h2=50;var f=2147483647;function d(e){if(e>f)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,h.prototype),t}function h(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return m(e)}return p(e,t,n)}function p(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|w(e,t),r=d(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(ee(e,Uint8Array)){var t=new Uint8Array(e);return y(t.buffer,t.byteOffset,t.byteLength)}return g(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ee(e,ArrayBuffer)||e&&ee(e.buffer,ArrayBuffer))return y(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(ee(e,SharedArrayBuffer)||e&&ee(e.buffer,SharedArrayBuffer)))return y(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return h.from(r,t,n);var i=function(e){if(h.isBuffer(e)){var t=0|b(e.length),n=d(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||te(e.length)?d(0):g(e);if("Buffer"===e.type&&Array.isArray(e.data))return g(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return h.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function v(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function m(e){return v(e),d(e<0?0:0|b(e))}function g(e){for(var t=e.length<0?0:0|b(e.length),n=d(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function y(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,h.prototype),r}function b(e){if(e>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|e}function w(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ee(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(e).length;default:if(i)return r?-1:K(e).length;t=(""+t).toLowerCase(),i=!0}}function x(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return R(this,t,n);case"ascii":return L(this,t,n);case"latin1":case"binary":return Z(this,t,n);case"base64":return P(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function _(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function S(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),te(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=h.from(t,r)),h.isBuffer(t))return 0===t.length?-1:E(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,r,i){var a,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=n;a<s;a++)if(l(e,a)===l(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var f=!0,d=0;d<u;d++)if(l(e,a+d)!==l(t,d)){f=!1;break}if(f)return a}return-1}function M(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a,o=t.length;for(r>o/2&&(r=o/2),a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(te(s))return a;e[n+a]=s}return a}function A(e,t,n,r){return $(K(t,e.length-n),e,n,r)}function k(e,t,n,r){return $(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function T(e,t,n,r){return $(J(t),e,n,r)}function C(e,t,n,r){return $(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function P(e,t,n){return 0===t&&n===e.length?u.fromByteArray(e):u.fromByteArray(e.slice(t,n))}function R(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=n){var u=void 0,l=void 0,c=void 0,f=void 0;switch(s){case 1:a<128&&(o=a);break;case 2:128===(192&(u=e[i+1]))&&(f=(31&a)<<6|63&u)>127&&(o=f);break;case 3:u=e[i+1],l=e[i+2],128===(192&u)&&128===(192&l)&&(f=(15&a)<<12|(63&u)<<6|63&l)>2047&&(f<55296||f>57343)&&(o=f);break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(f=(15&a)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&f<1114112&&(o=f)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}h.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),h.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(e,t,n){return p(e,t,n)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(e,t,n){return function(e,t,n){return v(e),e<=0?d(e):void 0!==t?"string"===typeof n?d(e).fill(t,n):d(e).fill(t):d(e)}(e,t,n)},h.allocUnsafe=function(e){return m(e)},h.allocUnsafeSlow=function(e){return m(e)},h.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==h.prototype},h.compare=function(e,t){if(ee(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),ee(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=h.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(ee(a,Uint8Array))i+a.length>r.length?(h.isBuffer(a)||(a=h.from(a)),a.copy(r,i)):Uint8Array.prototype.set.call(r,a,i);else{if(!h.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i)}i+=a.length}return r},h.byteLength=w,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},h.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},h.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},h.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?R(this,0,e):x.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===h.compare(this,e)},h.prototype.inspect=function(){var e="",n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},c&&(h.prototype[c]=h.prototype.inspect),h.prototype.compare=function(e,t,n,r,i){if(ee(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(r,i),l=e.slice(t,n),c=0;c<s;++c)if(u[c]!==l[c]){a=u[c],o=l[c];break}return a<o?-1:o<a?1:0},h.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},h.prototype.indexOf=function(e,t,n){return S(this,e,t,n,!0)},h.prototype.lastIndexOf=function(e,t,n){return S(this,e,t,n,!1)},h.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return M(this,e,t,n);case"utf8":case"utf-8":return A(this,e,t,n);case"ascii":case"latin1":case"binary":return k(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function Z(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=ne[e[a]];return i}function N(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length-1;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function U(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,a){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r,i){q(t,r,i,e,n,7);var a=Number(t&BigInt(4294967295));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function F(e,t,n,r,i){q(t,r,i,e,n,7);var a=Number(t&BigInt(4294967295));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function z(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,i){return t=+t,n>>>=0,i||z(e,0,n,4),l.write(e,t,n,r,23,4),n+4}function H(e,t,n,r,i){return t=+t,n>>>=0,i||z(e,0,n,8),l.write(e,t,n,r,52,8),n+8}h.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,h.prototype),r},h.prototype.readUintLE=h.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||U(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},h.prototype.readUintBE=h.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||U(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},h.prototype.readUint8=h.prototype.readUInt8=function(e,t){return e>>>=0,t||U(e,1,this.length),this[e]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readBigUInt64LE=re((function(e){X(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+n*Math.pow(2,24);return BigInt(r)+(BigInt(i)<<BigInt(32))})),h.prototype.readBigUInt64BE=re((function(e){X(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),h.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||U(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},h.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||U(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},h.prototype.readInt8=function(e,t){return e>>>=0,t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){e>>>=0,t||U(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt16BE=function(e,t){e>>>=0,t||U(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readBigInt64LE=re((function(e){X(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),h.prototype.readBigInt64BE=re((function(e){X(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n)})),h.prototype.readFloatLE=function(e,t){return e>>>=0,t||U(e,4,this.length),l.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return e>>>=0,t||U(e,4,this.length),l.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return e>>>=0,t||U(e,8,this.length),l.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return e>>>=0,t||U(e,8,this.length),l.read(this,e,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},h.prototype.writeUint8=h.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,255,0),this[t]=255&e,t+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigUInt64LE=re((function(e){return B(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeBigUInt64BE=re((function(e){return F(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},h.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},h.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},h.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},h.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigInt64LE=re((function(e){return B(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeBigInt64BE=re((function(e){return F(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},h.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},h.prototype.writeDoubleLE=function(e,t,n){return H(this,e,t,!0,n)},h.prototype.writeDoubleBE=function(e,t,n){return H(this,e,t,!1,n)},h.prototype.copy=function(e,t,n,r){if(!h.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},h.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!h.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=h.isBuffer(e)?e:h.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var G={};function W(e,t,n){G[e]=function(n){o(l,n);var u=s(l);function l(){var n;return r(this,l),n=u.call(this),Object.defineProperty(a(n),"message",{value:t.apply(a(n),arguments),writable:!0,configurable:!0}),n.name="".concat(n.name," [").concat(e,"]"),n.stack,delete n.name,n}return i(l,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),l}(n)}function V(e){for(var t="",n=e.length,r="-"===e[0]?1:0;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function q(e,t,n,r,i,a){if(e>n||e<t){var o,s="bigint"===typeof t?"n":"";throw o=a>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(a+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(a+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(a+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(n).concat(s),new G.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){X(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||Y(t,e.length-(n+1))}(r,i,a)}function X(e,t){if("number"!==typeof e)throw new G.ERR_INVALID_ARG_TYPE(t,"number",e)}function Y(e,t,n){if(Math.floor(e)!==e)throw X(e,n),new G.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new G.ERR_BUFFER_OUT_OF_BOUNDS;throw new G.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}W("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),W("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),W("ERR_OUT_OF_RANGE",(function(e,t,n){var r='The value of "'.concat(e,'" is out of range.'),i=n;return Number.isInteger(n)&&Math.abs(n)>Math.pow(2,32)?i=V(String(n)):"bigint"===typeof n&&(i=String(n),(n>Math.pow(BigInt(2),BigInt(32))||n<-Math.pow(BigInt(2),BigInt(32)))&&(i=V(i)),i+="n"),r+=" It must be ".concat(t,". Received ").concat(i)}),RangeError);var Q=/[^+/0-9A-Za-z-_]/g;function K(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function J(e){return u.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function $(e,t,n,r){var i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function ee(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function te(e){return e!==e}var ne=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}();function re(e){return"undefined"===typeof BigInt?ie:e}function ie(){throw new Error("BigInt not supported")}},7494:function(e){function t(e,t,n){var r,i,a,o,s;function u(){var l=Date.now()-o;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var l=function(){a=this,i=arguments,o=Date.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(a,i),a=i=null),s};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},l}t.debounce=t,e.exports=t},9412:function(e){"use strict";var t="%[a-f0-9]{2}",n=new RegExp("("+t+")|([^%]+?)","gi"),r=new RegExp("("+t+")+","gi");function i(e,t){try{return[decodeURIComponent(e.join(""))]}catch(a){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function a(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(n)||[],r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n)||[];return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},i=r.exec(e);i;){try{n[i[0]]=decodeURIComponent(i[0])}catch(t){var o=a(i[0]);o!==i[0]&&(n[i[0]]=o)}i=r.exec(e)}n["%C2"]="\ufffd";for(var s=Object.keys(n),u=0;u<s.length;u++){var l=s[u];e=e.replace(new RegExp(l,"g"),n[l])}return e}(e)}}},7143:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,a),!0;case 6:return c.fn.call(c.context,t,r,i,a,o),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;case 4:c[l].fn.call(c[l].context,t,r,i);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&l.push(s[u]);l.length?this._events[a]=1===l.length?l[0]:l:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},2683:function(e){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),a=0;a<r.length;a++){var o=r[a],s=e[o];(i?-1!==t.indexOf(o):t(o,s,e))&&(n[o]=s)}return n}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=c(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=d(n,g);try{l(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return x(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return _(e)||x(e)===c},t.isConcurrentMode=_,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===m},t.isMemo=function(e){return x(e)===v},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===o},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===g)},t.typeOf=x},8309:function(e,t,n){"use strict";e.exports=n(746)},4038:function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+f],f+=d,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),a-=l}return(h?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+h]=255&o,h+=p,o/=256,l-=8);e[n+h-p]|=128*v}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Z=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=Z&&e[Z]||e["@@iterator"])?e:null}var N,U=Object.assign;function D(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var B=!1;function F(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function z(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case M:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){K(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=vi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),xe(e.stateNode,e.type,t))}}function Me(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ae(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function ke(e,t){return e(t)}function Te(){}var Ce=!1;function Pe(e,t,n){if(Ce)return e(t,n);Ce=!0;try{return ke(e,t,n)}finally{Ce=!1,(null!==_e||null!==Se)&&(Te(),Ae())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ie=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(tc){Ie=!1}function Ze(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Oe=!1,Ne=null,Ue=!1,De=null,Be={onError:function(e){Oe=!0,Ne=e}};function Fe(e,t,n,r,i,a,o,s,u){Oe=!1,Ne=null,Ze.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ve=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Qe=i.unstable_now,Ke=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,$e=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,rt=null,it=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/st|0)|0},ot=Math.log,st=Math.LN2;var ut=64,lt=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ct(s):0!==(a&=o)&&(r=ct(a))}else 0!==(o=n&~i)?r=ct(o):0!==a&&(r=ct(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,Et,Mt=!1,At=[],kt=null,Tt=null,Ct=null,Pt=new Map,Rt=new Map,It=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Ot(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=pi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=je(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Dt(e,t,n){Ut(e)&&n.delete(t)}function Bt(){Mt=!1,null!==kt&&Ut(kt)&&(kt=null),null!==Tt&&Ut(Tt)&&(Tt=null),null!==Ct&&Ut(Ct)&&(Ct=null),Pt.forEach(Dt),Rt.forEach(Dt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Mt||(Mt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Ft(t,e)}if(0<At.length){Ft(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&Ft(kt,e),null!==Tt&&Ft(Tt,e),null!==Ct&&Ft(Ct,e),Pt.forEach(t),Rt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Nt(n),null===n.blockedOn&&It.shift()}var jt=w.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var i=yt,a=jt.transition;jt.transition=null;try{yt=1,Vt(e,t,n,r)}finally{yt=i,jt.transition=a}}function Wt(e,t,n,r){var i=yt,a=jt.transition;jt.transition=null;try{yt=4,Vt(e,t,n,r)}finally{yt=i,jt.transition=a}}function Vt(e,t,n,r){if(Ht){var i=Xt(e,t,n,r);if(null===i)Fr(e,t,r,qt,n),Zt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kt=Ot(kt,e,t,n,r,i),!0;case"dragenter":return Tt=Ot(Tt,e,t,n,r,i),!0;case"mouseover":return Ct=Ot(Ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Ot(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Ot(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Zt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=vi(i);if(null!==a&&wt(a),null===(a=Xt(e,t,n,r))&&Fr(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Fr(e,t,r,null,n)}}var qt=null;function Xt(e,t,n,r){if(qt=null,null!==(e=pi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=je(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Je:return 1;case $e:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Kt=null,Jt=null;function $t(){if(Jt)return Jt;var e,t,n=Kt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var an,on,sn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=rn(un),cn=U({},un,{view:0,detail:0}),fn=rn(cn),dn=U({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,on=e.screenY-sn.screenY):on=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),hn=rn(dn),pn=rn(U({},dn,{dataTransfer:0})),vn=rn(U({},cn,{relatedTarget:0})),mn=rn(U({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=rn(U({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),yn=rn(U({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return _n}var En=rn(U({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Mn=rn(U({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=rn(U({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),kn=rn(U({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=rn(U({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Cn=[9,13,27,32],Pn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var In=c&&"TextEvent"in window&&!Rn,Ln=c&&(!Pn||Rn&&8<Rn&&11>=Rn),Zn=String.fromCharCode(32),On=!1;function Nn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function zn(e,t,n,r){Me(r),0<(t=jr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jn=null,Hn=null;function Gn(e){Zr(e,0)}function Wn(e){if(q(mi(e)))return e}function Vn(e,t){if("change"===e)return t}var qn=!1;if(c){var Xn;if(c){var Yn="oninput"in document;if(!Yn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Yn="function"===typeof Qn.oninput}Xn=Yn}else Xn=!1;qn=Xn&&(!document.documentMode||9<document.documentMode)}function Kn(){jn&&(jn.detachEvent("onpropertychange",Jn),Hn=jn=null)}function Jn(e){if("value"===e.propertyName&&Wn(Hn)){var t=[];zn(t,Hn,e,we(e)),Pe(Gn,t)}}function $n(e,t,n){"focusin"===e?(Kn(),Hn=n,(jn=t).attachEvent("onpropertychange",Jn)):"focusout"===e&&Kn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Hn)}function tr(e,t){if("click"===e)return Wn(t)}function nr(e,t){if("input"===e||"change"===e)return Wn(t)}var rr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ir(e,t){if(rr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!rr(e[i],t[i]))return!1}return!0}function ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function or(e,t){var n,r=ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ar(r)}}function sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ur(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function cr(e){var t=ur(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sr(n.ownerDocument.documentElement,n)){if(null!==r&&lr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=or(n,a);var o=or(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=c&&"documentMode"in document&&11>=document.documentMode,dr=null,hr=null,pr=null,vr=!1;function mr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==dr||dr!==X(r)||("selectionStart"in(r=dr)&&lr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&ir(pr,r)||(pr=r,0<(r=jr(hr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dr)))}function gr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yr={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionend:gr("Transition","TransitionEnd")},br={},wr={};function xr(e){if(br[e])return br[e];if(!yr[e])return e;var t,n=yr[e];for(t in n)if(n.hasOwnProperty(t)&&t in wr)return br[e]=n[t];return e}c&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);var _r=xr("animationend"),Sr=xr("animationiteration"),Er=xr("animationstart"),Mr=xr("transitionend"),Ar=new Map,kr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Ar.set(e,t),u(t,[e])}for(var Cr=0;Cr<kr.length;Cr++){var Pr=kr[Cr];Tr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Tr(_r,"onAnimationEnd"),Tr(Sr,"onAnimationIteration"),Tr(Er,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Mr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(Fe.apply(this,arguments),Oe){if(!Oe)throw Error(a(198));var c=Ne;Oe=!1,Ne=null,Ue||(Ue=!0,De=c)}}(r,t,void 0,e),e.currentTarget=null}function Zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,l),a=u}}}if(Ue)throw e=De,Ue=!1,De=null,e}function Or(e,t){var n=t[fi];void 0===n&&(n=t[fi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Nr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Ir.has(t)||Nr(t,!1,e),Nr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Nr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=Vt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Fr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=pi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,l=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":u=En;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case _r:case Sr:case Er:u=mn;break;case Mr:u=kn;break;case"scroll":u=fn;break;case"wheel":u=Tn;break;case"copy":case"cut":case"paste":u=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Mn}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Re(p,d))&&c.push(zr(p,v,h)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!pi(l)&&!l[ci])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?pi(l):null)&&(l!==(f=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=hn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Mn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:mi(u),h=null==l?s:mi(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,pi(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=h,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(d=l,p=0,h=c=u;h;h=Hr(h))p++;for(h=0,v=d;v;v=Hr(v))h++;for(;0<p-h;)c=Hr(c),p--;for(;0<h-p;)d=Hr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Hr(c),d=Hr(d)}c=null}else c=null;null!==u&&Gr(o,s,u,c,!1),null!==l&&null!==f&&Gr(o,f,l,c,!0)}if("select"===(u=(s=r?mi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Vn;else if(Fn(s))if(qn)m=nr;else{m=er;var g=$n}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=tr);switch(m&&(m=m(e,r))?zn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?mi(r):window,e){case"focusin":(Fn(g)||"true"===g.contentEditable)&&(dr=g,hr=r,pr=null);break;case"focusout":pr=hr=dr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,mr(o,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":mr(o,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Dn?Nn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Dn&&(y=$t()):(Kt="value"in(Qt=i)?Qt.value:Qt.textContent,Dn=!0)),0<(g=jr(r,b)).length&&(b=new yn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=In?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(On=!0,Zn);case"textInput":return(e=t.data)===Zn&&On?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!Pn&&Nn(e,t)?(e=$t(),Jt=Kt=Qt=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Zr(o,t)}))}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(zr(e,a,i)),null!=(a=Re(e,t))&&r.push(zr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Re(n,a))&&o.unshift(zr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(zr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Wr=/\r\n?/g,Vr=/\u0000|\uFFFD/g;function qr(e){return("string"===typeof e?e:""+e).replace(Wr,"\n").replace(Vr,"")}function Xr(e,t,n){if(t=qr(t),qr(e)!==t&&n)throw Error(a(425))}function Yr(){}var Qr=null,Kr=null;function Jr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $r="function"===typeof setTimeout?setTimeout:void 0,ei="function"===typeof clearTimeout?clearTimeout:void 0,ti="function"===typeof Promise?Promise:void 0,ni="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ti?function(e){return ti.resolve(null).then(e).catch(ri)}:$r;function ri(e){setTimeout((function(){throw e}))}function ii(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ai(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function oi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ui="__reactFiber$"+si,li="__reactProps$"+si,ci="__reactContainer$"+si,fi="__reactEvents$"+si,di="__reactListeners$"+si,hi="__reactHandles$"+si;function pi(e){var t=e[ui];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ci]||n[ui]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=oi(e);null!==e;){if(n=e[ui])return n;e=oi(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[ui]||e[ci])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function mi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[li]||null}var yi=[],bi=-1;function wi(e){return{current:e}}function xi(e){0>bi||(e.current=yi[bi],yi[bi]=null,bi--)}function _i(e,t){bi++,yi[bi]=e.current,e.current=t}var Si={},Ei=wi(Si),Mi=wi(!1),Ai=Si;function ki(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ti(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ci(){xi(Mi),xi(Ei)}function Pi(e,t,n){if(Ei.current!==Si)throw Error(a(168));_i(Ei,t),_i(Mi,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return U({},n,r)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ai=Ei.current,_i(Ei,e),_i(Mi,Mi.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,xi(Mi),xi(Ei),_i(Ei,e)):xi(Mi),_i(Mi,n)}var Zi=null,Oi=!1,Ni=!1;function Ui(e){null===Zi?Zi=[e]:Zi.push(e)}function Di(){if(!Ni&&null!==Zi){Ni=!0;var e=0,t=yt;try{var n=Zi;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Zi=null,Oi=!1}catch(i){throw null!==Zi&&(Zi=Zi.slice(e+1)),Ve(Je,Di),i}finally{yt=t,Ni=!1}}return null}var Bi=[],Fi=0,zi=null,ji=0,Hi=[],Gi=0,Wi=null,Vi=1,qi="";function Xi(e,t){Bi[Fi++]=ji,Bi[Fi++]=zi,zi=e,ji=t}function Yi(e,t,n){Hi[Gi++]=Vi,Hi[Gi++]=qi,Hi[Gi++]=Wi,Wi=e;var r=Vi;e=qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var a=32-at(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Vi=1<<32-at(t)+i|n<<i|r,qi=a+e}else Vi=1<<a|n<<i|r,qi=e}function Qi(e){null!==e.return&&(Xi(e,1),Yi(e,1,0))}function Ki(e){for(;e===zi;)zi=Bi[--Fi],Bi[Fi]=null,ji=Bi[--Fi],Bi[Fi]=null;for(;e===Wi;)Wi=Hi[--Gi],Hi[Gi]=null,qi=Hi[--Gi],Hi[Gi]=null,Vi=Hi[--Gi],Hi[Gi]=null}var Ji=null,$i=null,ea=!1,ta=null;function na(e,t){var n=Tl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ra(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ji=e,$i=ai(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ji=e,$i=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Wi?{id:Vi,overflow:qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ji=e,$i=null,!0);default:return!1}}function ia(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function aa(e){if(ea){var t=$i;if(t){var n=t;if(!ra(e,t)){if(ia(e))throw Error(a(418));t=ai(n.nextSibling);var r=Ji;t&&ra(e,t)?na(r,n):(e.flags=-4097&e.flags|2,ea=!1,Ji=e)}}else{if(ia(e))throw Error(a(418));e.flags=-4097&e.flags|2,ea=!1,Ji=e}}}function oa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ji=e}function sa(e){if(e!==Ji)return!1;if(!ea)return oa(e),ea=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Jr(e.type,e.memoizedProps)),t&&(t=$i)){if(ia(e))throw ua(),Error(a(418));for(;t;)na(e,t),t=ai(t.nextSibling)}if(oa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){$i=ai(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}$i=null}}else $i=Ji?ai(e.stateNode.nextSibling):null;return!0}function ua(){for(var e=$i;e;)e=ai(e.nextSibling)}function la(){$i=Ji=null,ea=!1}function ca(e){null===ta?ta=[e]:ta.push(e)}var fa=w.ReactCurrentBatchConfig;function da(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ha=wi(null),pa=null,va=null,ma=null;function ga(){ma=va=pa=null}function ya(e){var t=ha.current;xi(ha),e._currentValue=t}function ba(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wa(e,t){pa=e,ma=va=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ms=!0),e.firstContext=null)}function xa(e){var t=e._currentValue;if(ma!==e)if(e={context:e,memoizedValue:t,next:null},null===va){if(null===pa)throw Error(a(308));va=e,pa.dependencies={lanes:0,firstContext:e}}else va=va.next=e;return t}var _a=null;function Sa(e){null===_a?_a=[e]:_a.push(e)}function Ea(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Sa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ma(e,r)}function Ma(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function ka(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ta(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Mu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ma(e,n)}return null===(i=r.interleaved)?(t.next=t,Sa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ma(e,n)}function Ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=U({},f,d);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=h,u=f):c=c.next=h,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Lu|=o,e.lanes=o,e.memoizedState=f}}function Za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Oa=(new r.Component).refs;function Na(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ku(),i=Ju(e),a=Ca(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&($u(t,e,i,r),Ra(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ku(),i=Ju(e),a=Ca(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&($u(t,e,i,r),Ra(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ku(),r=Ju(e),i=Ca(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&($u(t,e,r,n),Ra(t,e,r))}};function Da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(i,a))}function Ba(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=xa(a):(i=Ti(t)?Ai:Ei.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ki(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Fa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function za(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Oa,ka(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=xa(a):(a=Ti(t)?Ai:Ei.current,i.context=ki(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Na(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ua.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ja(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Oa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function Wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Zl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===I&&Ga(a)===t.type)?((r=i(t,n.props)).ref=ja(e,t,n),r.return=e,r):((r=Rl(n.type,n.key,n.props,null,e.mode,r)).ref=ja(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ol(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Il(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Zl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Rl(t.type,t.key,t.props,null,e.mode,n)).ref=ja(e,null,t),n.return=e,n;case _:return(t=Ol(t,e.mode,n)).return=e,t;case I:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Il(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case I:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,f=m}if(v===s.length)return n(i,f),ea&&Xi(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ea&&Xi(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ea&&Xi(i,v),l}function m(i,s,u,l){var c=O(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?c=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ea&&Xi(i,m),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(i,y.value,l))&&(s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return ea&&Xi(i,m),c}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ea&&Xi(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===S){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===I&&Ga(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=ja(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((a=Il(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Rl(o.type,o.key,o.props,null,r.mode,u)).ref=ja(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ol(o,r.mode,u)).return=r,r=a}return s(r);case I:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(O(o))return m(r,a,o,u);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Zl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Va=Wa(!0),qa=Wa(!1),Xa={},Ya=wi(Xa),Qa=wi(Xa),Ka=wi(Xa);function Ja(e){if(e===Xa)throw Error(a(174));return e}function $a(e,t){switch(_i(Ka,t),_i(Qa,e),_i(Ya,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ya),_i(Ya,t)}function eo(){xi(Ya),xi(Qa),xi(Ka)}function to(e){Ja(Ka.current);var t=Ja(Ya.current),n=ue(t,e.type);t!==n&&(_i(Qa,e),_i(Ya,n))}function no(e){Qa.current===e&&(xi(Ya),xi(Qa))}var ro=wi(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var so=w.ReactCurrentDispatcher,uo=w.ReactCurrentBatchConfig,lo=0,co=null,fo=null,ho=null,po=!1,vo=!1,mo=0,go=0;function yo(){throw Error(a(321))}function bo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function wo(e,t,n,r,i,o){if(lo=o,co=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,so.current=as,e=n(r,i)}while(vo)}if(so.current=ns,t=null!==fo&&null!==fo.next,lo=0,ho=fo=co=null,po=!1,t)throw Error(a(300));return e}function xo(){var e=0!==mo;return mo=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?co.memoizedState=ho=e:ho=ho.next=e,ho}function So(){if(null===fo){var e=co.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?co.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?co.memoizedState=ho=e:ho=ho.next=e}return ho}function Eo(e,t){return"function"===typeof t?t(e):t}function Mo(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((lo&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=r):l=l.next=d,co.lanes|=f,Lu|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,rr(r,t.memoizedState)||(ms=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,co.lanes|=o,Lu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);rr(o,t.memoizedState)||(ms=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function To(e,t){var n=co,r=So(),i=t(),o=!rr(r.memoizedState,i);if(o&&(r.memoizedState=i,ms=!0),r=r.queue,Fo(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Oo(9,Po.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(a(349));0!==(30&lo)||Co(n,t,i)}return i}function Co(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=co.updateQueue)?(t={lastEffect:null,stores:null},co.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&Lo(e)}function Ro(e,t,n){return n((function(){Io(t)&&Lo(e)}))}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch(r){return!0}}function Lo(e){var t=Ma(e,1);null!==t&&$u(t,e,1,-1)}function Zo(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:e},t.queue=e,e=e.dispatch=Jo.bind(null,co,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=co.updateQueue)?(t={lastEffect:null,stores:null},co.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function No(){return So().memoizedState}function Uo(e,t,n,r){var i=_o();co.flags|=e,i.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=So();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&bo(r,o.deps))return void(i.memoizedState=Oo(t,n,a,r))}co.flags|=e,i.memoizedState=Oo(1|t,n,a,r)}function Bo(e,t){return Uo(8390656,8,e,t)}function Fo(e,t){return Do(2048,8,e,t)}function zo(e,t){return Do(4,2,e,t)}function jo(e,t){return Do(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Ho.bind(null,t,e),n)}function Wo(){}function Vo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&lo)?(e.baseState&&(e.baseState=!1,ms=!0),e.memoizedState=n):(rr(n,t)||(n=pt(),co.lanes|=n,Lu|=n,e.baseState=!0),t)}function Yo(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{yt=n,uo.transition=r}}function Qo(){return So().memoizedState}function Ko(e,t,n){var r=Ju(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$o(e))es(t,n);else if(null!==(n=Ea(e,t,n,r))){$u(n,e,r,Ku()),ts(n,t,r)}}function Jo(e,t,n){var r=Ju(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($o(e))es(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,rr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Sa(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ea(e,t,i,r))&&($u(n,e,r,i=Ku()),ts(n,t,r))}}function $o(e){var t=e.alternate;return e===co||null!==t&&t===co}function es(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ns={readContext:xa,useCallback:yo,useContext:yo,useEffect:yo,useImperativeHandle:yo,useInsertionEffect:yo,useLayoutEffect:yo,useMemo:yo,useReducer:yo,useRef:yo,useState:yo,useDebugValue:yo,useDeferredValue:yo,useTransition:yo,useMutableSource:yo,useSyncExternalStore:yo,useId:yo,unstable_isNewReconciler:!1},rs={readContext:xa,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:xa,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,co,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:Zo,useDebugValue:Wo,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=Zo(!1),t=e[0];return e=Yo.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=co,i=_o();if(ea){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Au)throw Error(a(349));0!==(30&lo)||Co(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=Au.identifierPrefix;if(ea){var n=qi;t=":"+t+"R"+(n=(Vi&~(1<<32-at(Vi)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=go++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:xa,useCallback:Vo,useContext:xa,useEffect:Fo,useImperativeHandle:Go,useInsertionEffect:zo,useLayoutEffect:jo,useMemo:qo,useReducer:Mo,useRef:No,useState:function(){return Mo(Eo)},useDebugValue:Wo,useDeferredValue:function(e){return Xo(So(),fo.memoizedState,e)},useTransition:function(){return[Mo(Eo)[0],So().memoizedState]},useMutableSource:ko,useSyncExternalStore:To,useId:Qo,unstable_isNewReconciler:!1},as={readContext:xa,useCallback:Vo,useContext:xa,useEffect:Fo,useImperativeHandle:Go,useInsertionEffect:zo,useLayoutEffect:jo,useMemo:qo,useReducer:Ao,useRef:No,useState:function(){return Ao(Eo)},useDebugValue:Wo,useDeferredValue:function(e){var t=So();return null===fo?t.memoizedState=e:Xo(t,fo.memoizedState,e)},useTransition:function(){return[Ao(Eo)[0],So().memoizedState]},useMutableSource:ko,useSyncExternalStore:To,useId:Qo,unstable_isNewReconciler:!1};function os(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ss(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function us(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ls="function"===typeof WeakMap?WeakMap:Map;function cs(e,t,n){(n=Ca(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zu||(zu=!0,ju=r),us(0,t)},n}function fs(e,t,n){(n=Ca(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){us(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){us(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ds(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ls;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_l.bind(null,e,t,n),t.then(e,e))}function hs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ps(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ca(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=w.ReactCurrentOwner,ms=!1;function gs(e,t,n,r){t.child=null===e?qa(t,null,n,r):Va(t,e.child,n,r)}function ys(e,t,n,r,i){n=n.render;var a=t.ref;return wa(t,i),r=wo(e,t,n,r,a,i),n=xo(),null===e||ms?(ea&&n&&Qi(t),t.flags|=1,gs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function bs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Cl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ws(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(o,r)&&e.ref===t.ref)return zs(e,t,i)}return t.flags|=1,(e=Pl(a,r)).ref=t.ref,e.return=t,t.child=e}function ws(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ir(a,r)&&e.ref===t.ref){if(ms=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,zs(e,t,i);0!==(131072&e.flags)&&(ms=!0)}}return Ss(e,t,n,r,i)}function xs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Pu,Cu),Cu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Pu,Cu),Cu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_i(Pu,Cu),Cu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(Pu,Cu),Cu|=r;return gs(e,t,i,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ss(e,t,n,r,i){var a=Ti(n)?Ai:Ei.current;return a=ki(t,a),wa(t,i),n=wo(e,t,n,r,a,i),r=xo(),null===e||ms?(ea&&r&&Qi(t),t.flags|=1,gs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function Es(e,t,n,r,i){if(Ti(n)){var a=!0;Ii(t)}else a=!1;if(wa(t,i),null===t.stateNode)Fs(e,t),Ba(t,n,r),za(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=xa(l):l=ki(t,l=Ti(n)?Ai:Ei.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Fa(t,o,r,l),Aa=!1;var d=t.memoizedState;o.state=d,La(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Mi.current||Aa?("function"===typeof c&&(Na(t,n,c,r),u=t.memoizedState),(s=Aa||Da(t,n,s,r,d,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ta(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:da(t.type,s),o.props=l,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=xa(u):u=ki(t,u=Ti(n)?Ai:Ei.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Fa(t,o,r,u),Aa=!1,d=t.memoizedState,o.state=d,La(t,r,o,i);var p=t.memoizedState;s!==f||d!==p||Mi.current||Aa?("function"===typeof h&&(Na(t,n,h,r),p=t.memoizedState),(l=Aa||Da(t,n,l,r,d,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ms(e,t,n,r,a,i)}function Ms(e,t,n,r,i,a){_s(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),zs(e,t,a);r=t.stateNode,vs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Va(t,e.child,null,a),t.child=Va(t,null,s,a)):gs(e,t,s,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),$a(e,t.containerInfo)}function ks(e,t,n,r,i){return la(),ca(i),t.flags|=256,gs(e,t,n,r),t.child}var Ts,Cs,Ps,Rs,Is={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zs(e,t,n){var r,i=t.pendingProps,o=ro.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(ro,1&o),null===e)return aa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ll(u,i,0,null),e=Il(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Is,e):Os(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Ns(e,t,s,r=ss(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ll({mode:"visible",children:r.children},i,0,null),(o=Il(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Va(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Is,o);if(0===(1&t.mode))return Ns(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Ns(e,t,s,r=ss(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ms||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ma(e,i),$u(r,e,i,-1))}return dl(),Ns(e,t,s,r=ss(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=El.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,$i=ai(i.nextSibling),Ji=t,ea=!0,ta=null,null!==e&&(Hi[Gi++]=Vi,Hi[Gi++]=qi,Hi[Gi++]=Wi,Vi=e.id,qi=e.overflow,Wi=t),t=Os(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Pl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Pl(r,s):(s=Il(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Is,i}return e=(s=e.child).sibling,i=Pl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Os(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ns(e,t,n,r){return null!==r&&ca(r),Va(t,e.child,null,n),(e=Os(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ba(e.return,t,n)}function Ds(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gs(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ds(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ds(t,!0,n,null,a);break;case"together":Ds(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function js(e,t){if(!ea)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(Ki(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Ti(t.type)&&Ci(),Hs(t),null;case 3:return r=t.stateNode,eo(),xi(Mi),xi(Ei),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(sa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ta&&(rl(ta),ta=null))),Cs(e,t),Hs(t),null;case 5:no(t);var i=Ja(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hs(t),null}if(e=Ja(Ya.current),sa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ui]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Or(Rr[i],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":Q(r,o),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Or("invalid",r);break;case"textarea":ie(r,o),Or("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Or("scroll",r)}switch(n){case"input":V(r),$(r,o,!0);break;case"textarea":V(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Yr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[ui]=t,e[li]=r,Ts(e,t,!1,!1),t.stateNode=e;e:{switch(u=ye(n,r),n){case"dialog":Or("cancel",e),Or("close",e),i=r;break;case"iframe":case"object":case"embed":Or("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Or(Rr[i],e);i=r;break;case"source":Or("error",e),i=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),i=r;break;case"details":Or("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),Or("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Or("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ve(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Or("scroll",e):null!=c&&b(e,o,c,u))}switch(n){case"input":V(e),$(e,r,!1);break;case"textarea":V(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Yr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja(Ka.current),Ja(Ya.current),sa(t)){if(r=t.stateNode,n=t.memoizedProps,r[ui]=t,(o=r.nodeValue!==n)&&null!==(e=Ji))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ui]=t,t.stateNode=r}return Hs(t),null;case 13:if(xi(ro),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ea&&null!==$i&&0!==(1&t.mode)&&0===(128&t.flags))ua(),la(),t.flags|=98560,o=!1;else if(o=sa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[ui]=t}else la(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),o=!1}else null!==ta&&(rl(ta),ta=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Ru&&(Ru=3):dl())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return eo(),Cs(e,t),null===e&&Dr(t.stateNode.containerInfo),Hs(t),null;case 10:return ya(t.type._context),Hs(t),null;case 19:if(xi(ro),null===(o=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)js(o,!1);else{if(0!==Ru||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=io(e))){for(t.flags|=128,js(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Bu&&(t.flags|=128,r=!0,js(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),js(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ea)return Hs(t),null}else 2*Qe()-o.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,js(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=ro.current,_i(ro,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return ul(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Cu)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ws(e,t){switch(Ki(t),t.tag){case 1:return Ti(t.type)&&Ci(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),xi(Mi),xi(Ei),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(xi(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));la()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(ro),null;case 4:return eo(),null;case 10:return ya(t.type._context),null;case 22:case 23:return ul(),null;default:return null}}Ts=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Cs=function(){},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja(Ya.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Yr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Or("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Vs=!1,qs=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Ys=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xl(e,t,r)}else n.current=null}function Ks(e,t,n){try{n()}catch(r){xl(e,t,r)}}var Js=!1;function $s(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Ks(t,n,a)}i=i.next}while(i!==r)}}function eu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nu(e){var t=e.alternate;null!==t&&(e.alternate=null,nu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ui],delete t[li],delete t[fi],delete t[di],delete t[hi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yr));else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}var su=null,uu=!1;function lu(e,t,n){for(n=n.child;null!==n;)cu(e,t,n),n=n.sibling}function cu(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:qs||Qs(n,t);case 6:var r=su,i=uu;su=null,lu(e,t,n),uu=i,null!==(su=r)&&(uu?(e=su,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(uu?(e=su,n=n.stateNode,8===e.nodeType?ii(e.parentNode,n):1===e.nodeType&&ii(e,n),zt(e)):ii(su,n.stateNode));break;case 4:r=su,i=uu,su=n.stateNode.containerInfo,uu=!0,lu(e,t,n),su=r,uu=i;break;case 0:case 11:case 14:case 15:if(!qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Ks(n,t,o),i=i.next}while(i!==r)}lu(e,t,n);break;case 1:if(!qs&&(Qs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xl(n,t,s)}lu(e,t,n);break;case 21:lu(e,t,n);break;case 22:1&n.mode?(qs=(r=qs)||null!==n.memoizedState,lu(e,t,n),qs=r):lu(e,t,n);break;default:lu(e,t,n)}}function fu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Ml.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function du(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,uu=!1;break e;case 3:case 4:su=u.stateNode.containerInfo,uu=!0;break e}u=u.return}if(null===su)throw Error(a(160));cu(o,s,i),su=null,uu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){xl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)hu(t,e),t=t.sibling}function hu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(du(t,e),pu(e),4&r){try{$s(3,e,e.return),eu(3,e)}catch(m){xl(e,e.return,m)}try{$s(5,e,e.return)}catch(m){xl(e,e.return,m)}}break;case 1:du(t,e),pu(e),512&r&&null!==n&&Qs(n,n.return);break;case 5:if(du(t,e),pu(e),512&r&&null!==n&&Qs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){xl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&K(i,o),ye(u,s);var c=ye(u,o);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];"style"===f?ve(i,d):"dangerouslySetInnerHTML"===f?ce(i,d):"children"===f?fe(i,d):b(i,f,d,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[li]=o}catch(m){xl(e,e.return,m)}}break;case 6:if(du(t,e),pu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){xl(e,e.return,m)}}break;case 3:if(du(t,e),pu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){xl(e,e.return,m)}break;case 4:default:du(t,e),pu(e);break;case 13:du(t,e),pu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Du=Qe())),4&r&&fu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(qs=(c=qs)||f,du(t,e),qs=c):du(t,e),pu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Ys=e,f=e.child;null!==f;){for(d=Ys=f;null!==Ys;){switch(p=(h=Ys).child,h.tag){case 0:case 11:case 14:case 15:$s(4,h,h.return);break;case 1:Qs(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){xl(r,n,m)}}break;case 5:Qs(h,h.return);break;case 22:if(null!==h.memoizedState){yu(d);continue}}null!==p?(p.return=h,Ys=p):yu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=pe("display",s))}catch(m){xl(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){xl(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:du(t,e),pu(e),4&r&&fu(e);case 21:}}function pu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ru(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ou(e,iu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;au(e,iu(e),o);break;default:throw Error(a(161))}}catch(s){xl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vu(e,t,n){Ys=e,mu(e,t,n)}function mu(e,t,n){for(var r=0!==(1&e.mode);null!==Ys;){var i=Ys,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Vs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||qs;s=Vs;var l=qs;if(Vs=o,(qs=u)&&!l)for(Ys=i;null!==Ys;)u=(o=Ys).child,22===o.tag&&null!==o.memoizedState?bu(i):null!==u?(u.return=o,Ys=u):bu(i);for(;null!==a;)Ys=a,mu(a,t,n),a=a.sibling;Ys=i,Vs=s,qs=l}gu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ys=a):gu(e)}}function gu(e){for(;null!==Ys;){var t=Ys;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:qs||eu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:da(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Za(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Za(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(a(163))}qs||512&t.flags&&tu(t)}catch(h){xl(t,t.return,h)}}if(t===e){Ys=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ys=n;break}Ys=t.return}}function yu(e){for(;null!==Ys;){var t=Ys;if(t===e){Ys=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ys=n;break}Ys=t.return}}function bu(e){for(;null!==Ys;){var t=Ys;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eu(4,t)}catch(u){xl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){xl(t,i,u)}}var a=t.return;try{tu(t)}catch(u){xl(t,a,u)}break;case 5:var o=t.return;try{tu(t)}catch(u){xl(t,o,u)}}}catch(u){xl(t,t.return,u)}if(t===e){Ys=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ys=s;break}Ys=t.return}}var wu,xu=Math.ceil,_u=w.ReactCurrentDispatcher,Su=w.ReactCurrentOwner,Eu=w.ReactCurrentBatchConfig,Mu=0,Au=null,ku=null,Tu=0,Cu=0,Pu=wi(0),Ru=0,Iu=null,Lu=0,Zu=0,Ou=0,Nu=null,Uu=null,Du=0,Bu=1/0,Fu=null,zu=!1,ju=null,Hu=null,Gu=!1,Wu=null,Vu=0,qu=0,Xu=null,Yu=-1,Qu=0;function Ku(){return 0!==(6&Mu)?Qe():-1!==Yu?Yu:Yu=Qe()}function Ju(e){return 0===(1&e.mode)?1:0!==(2&Mu)&&0!==Tu?Tu&-Tu:null!==fa.transition?(0===Qu&&(Qu=pt()),Qu):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function $u(e,t,n,r){if(50<qu)throw qu=0,Xu=null,Error(a(185));mt(e,n,r),0!==(2&Mu)&&e===Au||(e===Au&&(0===(2&Mu)&&(Zu|=n),4===Ru&&il(e,Tu)),el(e,r),1===n&&0===Mu&&0===(1&t.mode)&&(Bu=Qe()+500,Oi&&Di()))}function el(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-at(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Au?Tu:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Oi=!0,Ui(e)}(al.bind(null,e)):Ui(al.bind(null,e)),ni((function(){0===(6&Mu)&&Di()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=$e;break;case 16:default:n=et;break;case 536870912:n=nt}n=Al(n,tl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tl(e,t){if(Yu=-1,Qu=0,0!==(6&Mu))throw Error(a(327));var n=e.callbackNode;if(bl()&&e.callbackNode!==n)return null;var r=ft(e,e===Au?Tu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=hl(e,r);else{t=r;var i=Mu;Mu|=2;var o=fl();for(Au===e&&Tu===t||(Fu=null,Bu=Qe()+500,ll(e,t));;)try{vl();break}catch(u){cl(e,u)}ga(),_u.current=o,Mu=i,null!==ku?t=0:(Au=null,Tu=0,t=Ru)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=nl(e,i))),1===t)throw n=Iu,ll(e,0),il(e,r),el(e,Qe()),n;if(6===t)il(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!rr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=hl(e,r))&&(0!==(o=ht(e))&&(r=o,t=nl(e,o))),1===t))throw n=Iu,ll(e,0),il(e,r),el(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:yl(e,Uu,Fu);break;case 3:if(il(e,r),(130023424&r)===r&&10<(t=Du+500-Qe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Ku(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$r(yl.bind(null,e,Uu,Fu),t);break}yl(e,Uu,Fu);break;case 4:if(il(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xu(r/1960))-r)){e.timeoutHandle=$r(yl.bind(null,e,Uu,Fu),r);break}yl(e,Uu,Fu);break;default:throw Error(a(329))}}}return el(e,Qe()),e.callbackNode===n?tl.bind(null,e):null}function nl(e,t){var n=Nu;return e.current.memoizedState.isDehydrated&&(ll(e,t).flags|=256),2!==(e=hl(e,t))&&(t=Uu,Uu=n,null!==t&&rl(t)),e}function rl(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function il(e,t){for(t&=~Ou,t&=~Zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function al(e){if(0!==(6&Mu))throw Error(a(327));bl();var t=ft(e,0);if(0===(1&t))return el(e,Qe()),null;var n=hl(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=nl(e,r))}if(1===n)throw n=Iu,ll(e,0),il(e,t),el(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yl(e,Uu,Fu),el(e,Qe()),null}function ol(e,t){var n=Mu;Mu|=1;try{return e(t)}finally{0===(Mu=n)&&(Bu=Qe()+500,Oi&&Di())}}function sl(e){null!==Wu&&0===Wu.tag&&0===(6&Mu)&&bl();var t=Mu;Mu|=1;var n=Eu.transition,r=yt;try{if(Eu.transition=null,yt=1,e)return e()}finally{yt=r,Eu.transition=n,0===(6&(Mu=t))&&Di()}}function ul(){Cu=Pu.current,xi(Pu)}function ll(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ei(n)),null!==ku)for(n=ku.return;null!==n;){var r=n;switch(Ki(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ci();break;case 3:eo(),xi(Mi),xi(Ei),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:xi(ro);break;case 10:ya(r.type._context);break;case 22:case 23:ul()}n=n.return}if(Au=e,ku=e=Pl(e.current,null),Tu=Cu=t,Ru=0,Iu=null,Ou=Zu=Lu=0,Uu=Nu=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(r=(n=_a[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}_a=null}return e}function cl(e,t){for(;;){var n=ku;try{if(ga(),so.current=ns,po){for(var r=co.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(lo=0,ho=fo=co=null,vo=!1,mo=0,Su.current=null,null===n||null===n.return){Ru=1,Iu=t,ku=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Tu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=hs(s);if(null!==p){p.flags&=-257,ps(p,s,u,0,t),1&p.mode&&ds(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ds(o,c,t),dl();break e}l=Error(a(426))}else if(ea&&1&u.mode){var g=hs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ps(g,s,u,0,t),ca(os(l,u));break e}}o=l=os(l,u),4!==Ru&&(Ru=2),null===Nu?Nu=[o]:Nu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ia(o,cs(0,l,t));break e;case 1:u=l;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hu||!Hu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ia(o,fs(o,u,t));break e}}o=o.return}while(null!==o)}gl(n)}catch(w){t=w,ku===n&&null!==n&&(ku=n=n.return);continue}break}}function fl(){var e=_u.current;return _u.current=ns,null===e?ns:e}function dl(){0!==Ru&&3!==Ru&&2!==Ru||(Ru=4),null===Au||0===(268435455&Lu)&&0===(268435455&Zu)||il(Au,Tu)}function hl(e,t){var n=Mu;Mu|=2;var r=fl();for(Au===e&&Tu===t||(Fu=null,ll(e,t));;)try{pl();break}catch(i){cl(e,i)}if(ga(),Mu=n,_u.current=r,null!==ku)throw Error(a(261));return Au=null,Tu=0,Ru}function pl(){for(;null!==ku;)ml(ku)}function vl(){for(;null!==ku&&!Xe();)ml(ku)}function ml(e){var t=wu(e.alternate,e,Cu);e.memoizedProps=e.pendingProps,null===t?gl(e):ku=t,Su.current=null}function gl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Cu)))return void(ku=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(ku=n);if(null===e)return Ru=6,void(ku=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ku=t);ku=t=e}while(null!==t);0===Ru&&(Ru=5)}function yl(e,t,n){var r=yt,i=Eu.transition;try{Eu.transition=null,yt=1,function(e,t,n,r){do{bl()}while(null!==Wu);if(0!==(6&Mu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Au&&(ku=Au=null,Tu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Al(et,(function(){return bl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Eu.transition,Eu.transition=null;var s=yt;yt=1;var u=Mu;Mu|=4,Su.current=null,function(e,t){if(Qr=Ht,lr(e=ur())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==o||0!==r&&3!==d.nodeType||(l=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(u=s),h===o&&++f===r&&(l=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kr={focusedElem:e,selectionRange:n},Ht=!1,Ys=t;null!==Ys;)if(e=(t=Ys).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ys=e;else for(;null!==Ys;){t=Ys;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:da(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(x){xl(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ys=e;break}Ys=t.return}v=Js,Js=!1}(e,n),hu(n,e),cr(Kr),Ht=!!Qr,Kr=Qr=null,e.current=n,vu(n,e,i),Ye(),Mu=u,yt=s,Eu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Wu=e,Vu=i),o=e.pendingLanes,0===o&&(Hu=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),el(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zu)throw zu=!1,e=ju,ju=null,e;0!==(1&Vu)&&0!==e.tag&&bl(),o=e.pendingLanes,0!==(1&o)?e===Xu?qu++:(qu=0,Xu=e):qu=0,Di()}(e,t,n,r)}finally{Eu.transition=i,yt=r}return null}function bl(){if(null!==Wu){var e=bt(Vu),t=Eu.transition,n=yt;try{if(Eu.transition=null,yt=16>e?16:e,null===Wu)var r=!1;else{if(e=Wu,Wu=null,Vu=0,0!==(6&Mu))throw Error(a(331));var i=Mu;for(Mu|=4,Ys=e.current;null!==Ys;){var o=Ys,s=o.child;if(0!==(16&Ys.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Ys=c;null!==Ys;){var f=Ys;switch(f.tag){case 0:case 11:case 15:$s(8,f,o)}var d=f.child;if(null!==d)d.return=f,Ys=d;else for(;null!==Ys;){var h=(f=Ys).sibling,p=f.return;if(nu(f),f===c){Ys=null;break}if(null!==h){h.return=p,Ys=h;break}Ys=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Ys=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Ys=s;else e:for(;null!==Ys;){if(0!==(2048&(o=Ys).flags))switch(o.tag){case 0:case 11:case 15:$s(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ys=y;break e}Ys=o.return}}var b=e.current;for(Ys=b;null!==Ys;){var w=(s=Ys).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Ys=w;else e:for(s=b;null!==Ys;){if(0!==(2048&(u=Ys).flags))try{switch(u.tag){case 0:case 11:case 15:eu(9,u)}}catch(_){xl(u,u.return,_)}if(u===s){Ys=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,Ys=x;break e}Ys=u.return}}if(Mu=i,Di(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(_){}r=!0}return r}finally{yt=n,Eu.transition=t}}return!1}function wl(e,t,n){e=Pa(e,t=cs(0,t=os(n,t),1),1),t=Ku(),null!==e&&(mt(e,1,t),el(e,t))}function xl(e,t,n){if(3===e.tag)wl(e,e,n);else for(;null!==t;){if(3===t.tag){wl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=Pa(t,e=fs(t,e=os(n,e),1),1),e=Ku(),null!==t&&(mt(t,1,e),el(t,e));break}}t=t.return}}function _l(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ku(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Tu&n)===n&&(4===Ru||3===Ru&&(130023424&Tu)===Tu&&500>Qe()-Du?ll(e,0):Ou|=n),el(e,t)}function Sl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Ku();null!==(e=Ma(e,t))&&(mt(e,t,n),el(e,n))}function El(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sl(e,n)}function Ml(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sl(e,n)}function Al(e,t){return Ve(e,t)}function kl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tl(e,t,n,r){return new kl(e,t,n,r)}function Cl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pl(e,t){var n=e.alternate;return null===n?((n=Tl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Cl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Il(n.children,i,o,t);case E:s=8,i|=8;break;case M:return(e=Tl(12,n,t,2|i)).elementType=M,e.lanes=o,e;case C:return(e=Tl(13,n,t,i)).elementType=C,e.lanes=o,e;case P:return(e=Tl(19,n,t,i)).elementType=P,e.lanes=o,e;case L:return Ll(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case k:s=9;break e;case T:s=11;break e;case R:s=14;break e;case I:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Tl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Il(e,t,n,r){return(e=Tl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Tl(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Zl(e,t,n){return(e=Tl(6,e,null,t)).lanes=n,e}function Ol(e,t,n){return(t=Tl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ul(e,t,n,r,i,a,o,s,u){return e=new Nl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Tl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ka(a),e}function Dl(e){if(!e)return Si;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ti(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ti(n))return Ri(e,n,t)}return t}function Bl(e,t,n,r,i,a,o,s,u){return(e=Ul(n,r,!0,e,0,a,0,s,u)).context=Dl(null),n=e.current,(a=Ca(r=Ku(),i=Ju(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,mt(e,i,r),el(e,r),e}function Fl(e,t,n,r){var i=t.current,a=Ku(),o=Ju(i);return n=Dl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ca(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&($u(e,i,o,a),Ra(e,i,o)),o}function zl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function jl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hl(e,t){jl(e,t),(e=e.alternate)&&jl(e,t)}wu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)ms=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ms=!1,function(e,t,n){switch(t.tag){case 3:As(t),la();break;case 5:to(t);break;case 1:Ti(t.type)&&Ii(t);break;case 4:$a(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ha,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Zs(e,t,n):(_i(ro,1&ro.current),null!==(e=zs(e,t,n))?e.sibling:null);_i(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return zs(e,t,n)}(e,t,n);ms=0!==(131072&e.flags)}else ms=!1,ea&&0!==(1048576&t.flags)&&Yi(t,ji,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fs(e,t),e=t.pendingProps;var i=ki(t,Ei.current);wa(t,n),i=wo(null,t,r,e,i,n);var o=xo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ti(r)?(o=!0,Ii(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ka(t),i.updater=Ua,t.stateNode=i,i._reactInternals=t,za(t,r,e,n),t=Ms(null,t,r,!0,o,n)):(t.tag=0,ea&&o&&Qi(t),gs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Cl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=da(r,e),i){case 0:t=Ss(null,t,r,e,n);break e;case 1:t=Es(null,t,r,e,n);break e;case 11:t=ys(null,t,r,e,n);break e;case 14:t=bs(null,t,r,da(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:da(r,i),n);case 1:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:da(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ta(e,t),La(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=ks(e,t,r,n,i=os(Error(a(423)),t));break e}if(r!==i){t=ks(e,t,r,n,i=os(Error(a(424)),t));break e}for($i=ai(t.stateNode.containerInfo.firstChild),Ji=t,ea=!0,ta=null,n=qa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(la(),r===i){t=zs(e,t,n);break e}gs(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&aa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Jr(r,i)?s=null:null!==o&&Jr(r,o)&&(t.flags|=32),_s(e,t),gs(e,t,s,n),t.child;case 6:return null===e&&aa(t),null;case 13:return Zs(e,t,n);case 4:return $a(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Va(t,null,r,n):gs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ys(e,t,r,i=t.elementType===r?i:da(r,i),n);case 7:return gs(e,t,t.pendingProps,n),t.child;case 8:case 12:return gs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,_i(ha,r._currentValue),r._currentValue=s,null!==o)if(rr(o.value,s)){if(o.children===i.children&&!Mi.current){t=zs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Ca(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ba(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ba(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}gs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,wa(t,n),r=r(i=xa(i)),t.flags|=1,gs(e,t,r,n),t.child;case 14:return i=da(r=t.type,t.pendingProps),bs(e,t,r,i=da(r.type,i),n);case 15:return ws(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:da(r,i),Fs(e,t),t.tag=1,Ti(r)?(e=!0,Ii(t)):e=!1,wa(t,n),Ba(t,r,i),za(t,r,i,n),Ms(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return xs(e,t,n)}throw Error(a(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function Wl(e){this._internalRoot=e}function Vl(e){this._internalRoot=e}function ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yl(){}function Ql(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=zl(o);s.call(e)}}Fl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=zl(o);a.call(e)}}var o=Bl(t,r,e,0,null,!1,0,"",Yl);return e._reactRootContainer=o,e[ci]=o.current,Dr(8===e.nodeType?e.parentNode:e),sl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=zl(u);s.call(e)}}var u=Ul(e,0,!1,null,0,!1,0,"",Yl);return e._reactRootContainer=u,e[ci]=u.current,Dr(8===e.nodeType?e.parentNode:e),sl((function(){Fl(t,u,n,r)})),u}(n,t,e,i,r);return zl(o)}Vl.prototype.render=Wl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Fl(e,t,null,null)},Vl.prototype.unmount=Wl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;sl((function(){Fl(null,e,null,null)})),t[ci]=null}},Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Nt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ct(t.pendingLanes);0!==n&&(gt(t,1|n),el(t,Qe()),0===(6&Mu)&&(Bu=Qe()+500,Di()))}break;case 13:sl((function(){var t=Ma(e,1);if(null!==t){var n=Ku();$u(t,e,1,n)}})),Hl(e,1)}},xt=function(e){if(13===e.tag){var t=Ma(e,134217728);if(null!==t)$u(t,e,134217728,Ku());Hl(e,134217728)}},_t=function(e){if(13===e.tag){var t=Ju(e),n=Ma(e,t);if(null!==n)$u(n,e,t,Ku());Hl(e,t)}},St=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));q(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=ol,Te=sl;var Kl={usingClientEntryPoint:!1,Events:[vi,mi,gi,Me,Ae,ol]},Jl={findFiberByHostInstance:pi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$l={bundleType:Jl.bundleType,version:Jl.version,rendererPackageName:Jl.rendererPackageName,rendererConfig:Jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:Jl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{rt=ec.inject($l),it=ec}catch(tc){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ql(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!ql(e))throw Error(a(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ul(e,1,!1,null,0,n,0,r,i),e[ci]=t.current,Dr(8===e.nodeType?e.parentNode:e),new Wl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return sl(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(a(200));return Ql(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!ql(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bl(t,null,e,1,null!=n?n:null,i,0,o,s),e[ci]=t.current,Dr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vl(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(a(200));return Ql(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(a(40));return!!e._reactRootContainer&&(sl((function(){Ql(null,null,e,!1,(function(){e._reactRootContainer=null,e[ci]=null}))})),!0)},t.unstable_batchedUpdates=ol,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Ql(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},4976:function(e,t){"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},3721:function(e,t,n){e.exports=function(e){var t={},r=n(2791),i=n(3100),a=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var w=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var x=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=x&&e[x]||e["@@iterator"])?e:null}function S(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case c:return"Fragment";case l:return"Portal";case d:return"Profiler";case f:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case h:return(e._context.displayName||"Context")+".Provider";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:S(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return S(e(t))}catch(n){}}return null}function E(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S(t);case 8:return t===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function M(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function A(e){if(M(e)!==e)throw Error(o(188))}function k(e){var t=e.alternate;if(!t){if(null===(t=M(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return A(i),e;if(a===r)return A(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function T(e){return null!==(e=k(e))?C(e):null}function C(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=C(e);if(null!==t)return t;e=e.sibling}return null}function P(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=P(e);if(null!==t)return t}e=e.sibling}return null}var R,I=Array.isArray,L=e.getPublicInstance,Z=e.getRootHostContext,O=e.getChildHostContext,N=e.prepareForCommit,U=e.resetAfterCommit,D=e.createInstance,B=e.appendInitialChild,F=e.finalizeInitialChildren,z=e.prepareUpdate,j=e.shouldSetTextContent,H=e.createTextInstance,G=e.scheduleTimeout,W=e.cancelTimeout,V=e.noTimeout,q=e.isPrimaryRenderer,X=e.supportsMutation,Y=e.supportsPersistence,Q=e.supportsHydration,K=e.getInstanceFromNode,J=e.preparePortalMount,$=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,ae=e.getBoundingRect,oe=e.getTextContent,se=e.isHiddenSubtree,ue=e.matchAccessibilityRole,le=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,fe=e.appendChild,de=e.appendChildToContainer,he=e.commitTextUpdate,pe=e.commitMount,ve=e.commitUpdate,me=e.insertBefore,ge=e.insertInContainerBefore,ye=e.removeChild,be=e.removeChildFromContainer,we=e.resetTextContent,xe=e.hideInstance,_e=e.hideTextInstance,Se=e.unhideInstance,Ee=e.unhideTextInstance,Me=e.clearContainer,Ae=e.cloneInstance,ke=e.createContainerChildSet,Te=e.appendChildToContainerChildSet,Ce=e.finalizeContainerChildren,Pe=e.replaceContainerChildren,Re=e.cloneHiddenInstance,Ie=e.cloneHiddenTextInstance,Le=e.canHydrateInstance,Ze=e.canHydrateTextInstance,Oe=e.canHydrateSuspenseInstance,Ne=e.isSuspenseInstancePending,Ue=e.isSuspenseInstanceFallback,De=e.registerSuspenseInstanceRetry,Be=e.getNextHydratableSibling,Fe=e.getFirstHydratableChild,ze=e.getFirstHydratableChildWithinContainer,je=e.getFirstHydratableChildWithinSuspenseInstance,He=e.hydrateInstance,Ge=e.hydrateTextInstance,We=e.hydrateSuspenseInstance,Ve=e.getNextHydratableInstanceAfterSuspenseInstance,qe=e.commitHydratedContainer,Xe=e.commitHydratedSuspenseInstance,Ye=e.clearSuspenseBoundary,Qe=e.clearSuspenseBoundaryFromContainer,Ke=e.shouldDeleteUnhydratedTailInstances,Je=e.didNotMatchHydratedContainerTextInstance,$e=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],at=-1;function ot(e){return{current:e}}function st(e){0>at||(e.current=it[at],it[at]=null,at--)}function ut(e,t){at++,it[at]=e.current,e.current=t}var lt={},ct=ot(lt),ft=ot(!1),dt=lt;function ht(e,t){var n=e.type.contextTypes;if(!n)return lt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vt(){st(ft),st(ct)}function mt(e,t,n){if(ct.current!==lt)throw Error(o(168));ut(ct,t),ut(ft,n)}function gt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,E(e)||"Unknown",i));return a({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lt,dt=ct.current,ut(ct,e),ut(ft,ft.current),!0}function bt(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=gt(e,t,dt),r.__reactInternalMemoizedMergedChildContext=e,st(ft),st(ct),ut(ct,e)):st(ft),ut(ft,n)}var wt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xt(e)/_t|0)|0},xt=Math.log,_t=Math.LN2;var St=64,Et=4194304;function Mt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function At(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=Mt(s):0!==(a&=o)&&(r=Mt(a))}else 0!==(o=n&~i)?r=Mt(o):0!==a&&(r=Mt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-wt(t)),r|=e[n],t&=~i;return r}function kt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Tt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ct(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-wt(t)]=n}function Rt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var It=0;function Lt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Zt=i.unstable_scheduleCallback,Ot=i.unstable_cancelCallback,Nt=i.unstable_shouldYield,Ut=i.unstable_requestPaint,Dt=i.unstable_now,Bt=i.unstable_ImmediatePriority,Ft=i.unstable_UserBlockingPriority,zt=i.unstable_NormalPriority,jt=i.unstable_IdlePriority,Ht=null,Gt=null;var Wt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Vt=null,qt=!1,Xt=!1;function Yt(e){null===Vt?Vt=[e]:Vt.push(e)}function Qt(){if(!Xt&&null!==Vt){Xt=!0;var e=0,t=It;try{var n=Vt;for(It=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vt=null,qt=!1}catch(i){throw null!==Vt&&(Vt=Vt.slice(e+1)),Zt(Bt,Qt),i}finally{It=t,Xt=!1}}return null}var Kt=s.ReactCurrentBatchConfig;function Jt(e,t){if(Wt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Wt(e[i],t[i]))return!1}return!0}function $t(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=ot(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function sn(e,t,n){q?(ut(tn,t._currentValue),t._currentValue=n):(ut(tn,t._currentValue2),t._currentValue2=n)}function un(e){var t=tn.current;st(tn),q?e._currentValue=t:e._currentValue2=t}function ln(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ni=!0),e.firstContext=null)}function fn(e){var t=q?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(o(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var dn=null,hn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Xa&&0!==(1&e.mode)&&0===(2&qa)?(null===(e=n.interleaved)?(t.next=t,null===dn?dn=[n]:dn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}function bn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wn(e,t,n,r){var i=e.updateQueue;hn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var f=e.alternate;null!==f&&((u=(f=f.updateQueue).lastBaseUpdate)!==s&&(null===u?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,f=c=l=null,u=o;;){var h=u.lane,p=u.eventTime;if((r&h)===h){null!==f&&(f=f.next={eventTime:p,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=e,m=u;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(v=m.payload)){d=v.call(p,d,h);break e}d=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(h="function"===typeof(v=m.payload)?v.call(p,d,h):v)||void 0===h)break e;d=a({},d,h);break e;case 2:hn=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else p={eventTime:p,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===f?(c=f=p,l=d):f=f.next=p,s|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===f&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);to|=s,e.lanes=s,e.memoizedState=d}}function xn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var _n=(new r.Component).refs;function Sn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var En={isMounted:function(e){return!!(e=e._reactInternals)&&M(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xo(),i=_o(e),a=mn(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=So(e,i,r))&&yn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xo(),i=_o(e),a=mn(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=So(e,i,r))&&yn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xo(),r=_o(e),i=mn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),gn(e,i),null!==(t=So(e,r,n))&&yn(t,e,r)}};function Mn(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Jt(n,r)||!Jt(i,a))}function An(e,t,n){var r=!1,i=lt,a=t.contextType;return"object"===typeof a&&null!==a?a=fn(a):(i=pt(t)?dt:ct.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ht(e,i):lt),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=En,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function kn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&En.enqueueReplaceState(t,t.state,null)}function Tn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=_n,pn(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=fn(a):(a=pt(t)?dt:ct.current,i.context=ht(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Sn(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&En.enqueueReplaceState(i,i.state,null),wn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var Cn=[],Pn=0,Rn=null,In=0,Ln=[],Zn=0,On=null,Nn=1,Un="";function Dn(e,t){Cn[Pn++]=In,Cn[Pn++]=Rn,Rn=e,In=t}function Bn(e,t,n){Ln[Zn++]=Nn,Ln[Zn++]=Un,Ln[Zn++]=On,On=e;var r=Nn;e=Un;var i=32-wt(r)-1;r&=~(1<<i),n+=1;var a=32-wt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Nn=1<<32-wt(t)+i|n<<i|r,Un=a+e}else Nn=1<<a|n<<i|r,Un=e}function Fn(e){null!==e.return&&(Dn(e,1),Bn(e,1,0))}function zn(e){for(;e===Rn;)Rn=Cn[--Pn],Cn[Pn]=null,In=Cn[--Pn],Cn[Pn]=null;for(;e===On;)On=Ln[--Zn],Ln[Zn]=null,Un=Ln[--Zn],Ln[Zn]=null,Nn=Ln[--Zn],Ln[Zn]=null}var jn=null,Hn=null,Gn=!1,Wn=!1,Vn=null;function qn(e,t){var n=Jo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Xn(e,t){switch(e.tag){case 5:return null!==(t=Le(t,e.type,e.pendingProps))&&(e.stateNode=t,jn=e,Hn=Fe(t),!0);case 6:return null!==(t=Ze(t,e.pendingProps))&&(e.stateNode=t,jn=e,Hn=null,!0);case 13:if(null!==(t=Oe(t))){var n=null!==On?{id:Nn,overflow:Un}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Jo(18,null,null,0)).stateNode=t,n.return=e,e.child=n,jn=e,Hn=null,!0}return!1;default:return!1}}function Yn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Qn(e){if(Gn){var t=Hn;if(t){var n=t;if(!Xn(e,t)){if(Yn(e))throw Error(o(418));t=Be(n);var r=jn;t&&Xn(e,t)?qn(r,n):(e.flags=-4097&e.flags|2,Gn=!1,jn=e)}}else{if(Yn(e))throw Error(o(418));e.flags=-4097&e.flags|2,Gn=!1,jn=e}}}function Kn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jn=e}function Jn(e){if(!Q||e!==jn)return!1;if(!Gn)return Kn(e),Gn=!0,!1;if(3!==e.tag&&(5!==e.tag||Ke(e.type)&&!j(e.type,e.memoizedProps))){var t=Hn;if(t){if(Yn(e)){for(e=Hn;e;)e=Be(e);throw Error(o(418))}for(;t;)qn(e,t),t=Be(t)}}if(Kn(e),13===e.tag){if(!Q)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Hn=Ve(e)}else Hn=jn?Be(e.stateNode):null;return!0}function $n(){Q&&(Hn=jn=null,Wn=Gn=!1)}function er(e){null===Vn?Vn=[e]:Vn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===_n&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=es(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function f(e,t,n,r){return null===t||6!==t.tag?((t=is(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n,r){var a=n.type;return a===c?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===b&&rr(a)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=ts(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=as(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=ns(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function v(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=is(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case u:return(n=ts(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case l:return(t=as(t,e.mode,n)).return=e,t;case b:return v(e,(0,t._init)(t._payload),n)}if(I(t)||_(t))return(t=ns(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:f(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case u:return n.key===i?d(e,t,n,r):null;case l:return n.key===i?h(e,t,n,r):null;case b:return m(e,t,(i=n._init)(n._payload),r)}if(I(n)||_(n))return null!==i?null:p(e,t,n,r,null);nr(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return f(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case u:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case l:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return g(e,t,n,(0,r._init)(r._payload),i)}if(I(r)||_(r))return p(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function y(i,o,s,u){for(var l=null,c=null,f=o,d=o=0,h=null;null!==f&&d<s.length;d++){f.index>d?(h=f,f=null):h=f.sibling;var p=m(i,f,s[d],u);if(null===p){null===f&&(f=h);break}e&&f&&null===p.alternate&&t(i,f),o=a(p,o,d),null===c?l=p:c.sibling=p,c=p,f=h}if(d===s.length)return n(i,f),Gn&&Dn(i,d),l;if(null===f){for(;d<s.length;d++)null!==(f=v(i,s[d],u))&&(o=a(f,o,d),null===c?l=f:c.sibling=f,c=f);return Gn&&Dn(i,d),l}for(f=r(i,f);d<s.length;d++)null!==(h=g(f,i,d,s[d],u))&&(e&&null!==h.alternate&&f.delete(null===h.key?d:h.key),o=a(h,o,d),null===c?l=h:c.sibling=h,c=h);return e&&f.forEach((function(e){return t(i,e)})),Gn&&Dn(i,d),l}function w(i,s,u,l){var c=_(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var f=c=null,d=s,h=s=0,p=null,y=u.next();null!==d&&!y.done;h++,y=u.next()){d.index>h?(p=d,d=null):p=d.sibling;var b=m(i,d,y.value,l);if(null===b){null===d&&(d=p);break}e&&d&&null===b.alternate&&t(i,d),s=a(b,s,h),null===f?c=b:f.sibling=b,f=b,d=p}if(y.done)return n(i,d),Gn&&Dn(i,h),c;if(null===d){for(;!y.done;h++,y=u.next())null!==(y=v(i,y.value,l))&&(s=a(y,s,h),null===f?c=y:f.sibling=y,f=y);return Gn&&Dn(i,h),c}for(d=r(i,d);!y.done;h++,y=u.next())null!==(y=g(d,i,h,y.value,l))&&(e&&null!==y.alternate&&d.delete(null===y.key?h:y.key),s=a(y,s,h),null===f?c=y:f.sibling=y,f=y);return e&&d.forEach((function(e){return t(i,e)})),Gn&&Dn(i,h),c}return function e(r,a,o,f){if("object"===typeof o&&null!==o&&o.type===c&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case u:e:{for(var d=o.key,h=a;null!==h;){if(h.key===d){if((d=o.type)===c){if(7===h.tag){n(r,h.sibling),(a=i(h,o.props.children)).return=r,r=a;break e}}else if(h.elementType===d||"object"===typeof d&&null!==d&&d.$$typeof===b&&rr(d)===h.type){n(r,h.sibling),(a=i(h,o.props)).ref=tr(r,h,o),a.return=r,r=a;break e}n(r,h);break}t(r,h),h=h.sibling}o.type===c?((a=ns(o.props.children,r.mode,f,o.key)).return=r,r=a):((f=ts(o.type,o.key,o.props,null,r.mode,f)).ref=tr(r,a,o),f.return=r,r=f)}return s(r);case l:e:{for(h=o.key;null!==a;){if(a.key===h){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=as(o,r.mode,f)).return=r,r=a}return s(r);case b:return e(r,a,(h=o._init)(o._payload),f)}if(I(o))return y(r,a,o,f);if(_(o))return w(r,a,o,f);nr(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=is(o,r.mode,f)).return=r,r=a),s(r)):n(r,a)}}var ar=ir(!0),or=ir(!1),sr={},ur=ot(sr),lr=ot(sr),cr=ot(sr);function fr(e){if(e===sr)throw Error(o(174));return e}function dr(e,t){ut(cr,t),ut(lr,e),ut(ur,sr),e=Z(t),st(ur),ut(ur,e)}function hr(){st(ur),st(lr),st(cr)}function pr(e){var t=fr(cr.current),n=fr(ur.current);n!==(t=O(n,e.type,t))&&(ut(lr,e),ut(ur,t))}function vr(e){lr.current===e&&(st(ur),st(lr))}var mr=ot(0);function gr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ne(n)||Ue(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function br(){for(var e=0;e<yr.length;e++){var t=yr[e];q?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var wr=s.ReactCurrentDispatcher,xr=s.ReactCurrentBatchConfig,_r=0,Sr=null,Er=null,Mr=null,Ar=!1,kr=!1,Tr=0,Cr=0;function Pr(){throw Error(o(321))}function Rr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Ir(e,t,n,r,i,a){if(_r=a,Sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wr.current=null===e||null===e.memoizedState?pi:vi,e=n(r,i),kr){a=0;do{if(kr=!1,Tr=0,25<=a)throw Error(o(301));a+=1,Mr=Er=null,t.updateQueue=null,wr.current=mi,e=n(r,i)}while(kr)}if(wr.current=hi,t=null!==Er&&null!==Er.next,_r=0,Mr=Er=Sr=null,Ar=!1,t)throw Error(o(300));return e}function Lr(){var e=0!==Tr;return Tr=0,e}function Zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Mr?Sr.memoizedState=Mr=e:Mr=Mr.next=e,Mr}function Or(){if(null===Er){var e=Sr.alternate;e=null!==e?e.memoizedState:null}else e=Er.next;var t=null===Mr?Sr.memoizedState:Mr.next;if(null!==t)Mr=t,Er=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Er=e).memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},null===Mr?Sr.memoizedState=Mr=e:Mr=Mr.next=e}return Mr}function Nr(e,t){return"function"===typeof t?t(e):t}function Ur(e){var t=Or(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Er,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var f=c.lane;if((_r&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=r):l=l.next=d,Sr.lanes|=f,to|=f}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,Wt(r,t.memoizedState)||(Ni=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,Sr.lanes|=a,to|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Dr(e){var t=Or(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Wt(a,t.memoizedState)||(Ni=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Br(){}function Fr(e,t){var n=Sr,r=Or(),i=t(),a=!Wt(r.memoizedState,i);if(a&&(r.memoizedState=i,Ni=!0),r=r.queue,Kr(Hr.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Mr&&1&Mr.memoizedState.tag){if(n.flags|=2048,Vr(9,jr.bind(null,n,r,i,t),void 0,null),null===Xa)throw Error(o(349));0!==(30&_r)||zr(n,t,i)}return i}function zr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function jr(e,t,n,r){t.value=n,t.getSnapshot=r,Gr(t)&&So(e,1,-1)}function Hr(e,t,n){return n((function(){Gr(t)&&So(e,1,-1)}))}function Gr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch(r){return!0}}function Wr(e){var t=Zr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:e},t.queue=e,e=e.dispatch=ui.bind(null,Sr,e),[t.memoizedState,e]}function Vr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function qr(){return Or().memoizedState}function Xr(e,t,n,r){var i=Zr();Sr.flags|=e,i.memoizedState=Vr(1|t,n,void 0,void 0===r?null:r)}function Yr(e,t,n,r){var i=Or();r=void 0===r?null:r;var a=void 0;if(null!==Er){var o=Er.memoizedState;if(a=o.destroy,null!==r&&Rr(r,o.deps))return void(i.memoizedState=Vr(t,n,a,r))}Sr.flags|=e,i.memoizedState=Vr(1|t,n,a,r)}function Qr(e,t){return Xr(8390656,8,e,t)}function Kr(e,t){return Yr(2048,8,e,t)}function Jr(e,t){return Yr(4,2,e,t)}function $r(e,t){return Yr(4,4,e,t)}function ei(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Yr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Or();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Rr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Or();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Rr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ai(e,t){var n=It;It=0!==n&&4>n?n:4,e(!0);var r=xr.transition;xr.transition={};try{e(!1),t()}finally{It=n,xr.transition=r}}function oi(){return Or().memoizedState}function si(e,t,n){var r=_o(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},li(e)?ci(t,n):(fi(e,t,n),null!==(e=So(e,r,n=xo()))&&di(e,t,r))}function ui(e,t,n){var r=_o(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(li(e))ci(t,i);else{fi(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Wt(s,o))return}catch(u){}null!==(e=So(e,r,n=xo()))&&di(e,t,r)}}function li(e){var t=e.alternate;return e===Sr||null!==t&&t===Sr}function ci(e,t){kr=Ar=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fi(e,t,n){null!==Xa&&0!==(1&e.mode)&&0===(2&qa)?(null===(e=t.interleaved)?(n.next=n,null===dn?dn=[t]:dn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function di(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}var hi={readContext:fn,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},pi={readContext:fn,useCallback:function(e,t){return Zr().memoizedState=[e,void 0===t?null:t],e},useContext:fn,useEffect:Qr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Xr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xr(4,2,e,t)},useMemo:function(e,t){var n=Zr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=si.bind(null,Sr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Zr().memoizedState=e},useState:Wr,useDebugValue:ni,useDeferredValue:function(e){var t=Wr(e),n=t[0],r=t[1];return Qr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){var e=Wr(!1),t=e[0];return e=ai.bind(null,e[1]),Zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Sr,i=Zr();if(Gn){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Xa)throw Error(o(349));0!==(30&_r)||zr(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Qr(Hr.bind(null,r,a,e),[e]),r.flags|=2048,Vr(9,jr.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Zr(),t=Xa.identifierPrefix;if(Gn){var n=Un;t=":"+t+"R"+(n=(Nn&~(1<<32-wt(Nn)-1)).toString(32)+n),0<(n=Tr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Cr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vi={readContext:fn,useCallback:ri,useContext:fn,useEffect:Kr,useImperativeHandle:ti,useInsertionEffect:Jr,useLayoutEffect:$r,useMemo:ii,useReducer:Ur,useRef:qr,useState:function(){return Ur(Nr)},useDebugValue:ni,useDeferredValue:function(e){var t=Ur(Nr),n=t[0],r=t[1];return Kr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){return[Ur(Nr)[0],Or().memoizedState]},useMutableSource:Br,useSyncExternalStore:Fr,useId:oi,unstable_isNewReconciler:!1},mi={readContext:fn,useCallback:ri,useContext:fn,useEffect:Kr,useImperativeHandle:ti,useInsertionEffect:Jr,useLayoutEffect:$r,useMemo:ii,useReducer:Dr,useRef:qr,useState:function(){return Dr(Nr)},useDebugValue:ni,useDeferredValue:function(e){var t=Dr(Nr),n=t[0],r=t[1];return Kr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){return[Dr(Nr)[0],Or().memoizedState]},useMutableSource:Br,useSyncExternalStore:Fr,useId:oi,unstable_isNewReconciler:!1};function gi(e,t){try{var n="",r=t;do{n+=$t(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function yi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var bi,wi,xi,_i,Si="function"===typeof WeakMap?WeakMap:Map;function Ei(e,t,n){(n=mn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,fo=r),yi(0,t)},n}function Mi(e,t,n){(n=mn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yi(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){yi(0,t),"function"!==typeof r&&(null===ho?ho=new Set([this]):ho.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ai(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Si;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Vo.bind(null,e,t,n),t.then(e,e))}function ki(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ti(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=mn(-1,1)).tag=2,gn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Ci(e){e.flags|=4}function Pi(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(X)bi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)B(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},wi=function(){},xi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=fr(ur.current);n=z(a,n,e,r,i,o),(t.updateQueue=n)&&Ci(t)}},_i=function(e,t,n,r){n!==r&&Ci(t)};else if(Y){bi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Re(a,i.type,i.memoizedProps,i)),B(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Ie(a,i.memoizedProps,i)),B(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),bi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Ri=function e(t,n,r,i){for(var a=n.child;null!==a;){if(5===a.tag){var o=a.stateNode;r&&i&&(o=Re(o,a.type,a.memoizedProps,a)),Te(t,o)}else if(6===a.tag)o=a.stateNode,r&&i&&(o=Ie(o,a.memoizedProps,a)),Te(t,o);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(o=a.child)&&(o.return=a),e(t,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};wi=function(e,t){var n=t.stateNode;if(!Pi(e,t)){e=n.containerInfo;var r=ke(e);Ri(r,t,!1,!1),n.pendingChildren=r,Ci(t),Ce(e,r)}},xi=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=Pi(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,u=fr(ur.current),l=null;o!==r&&(l=z(s,n,o,r,i,u)),e&&null===l?t.stateNode=a:(a=Ae(a,l,n,o,r,t,e,s),F(a,n,r,i,u)&&Ci(t),t.stateNode=a,e?Ci(t):bi(a,t,!1,!1))}},_i=function(e,t,n,r){n!==r?(e=fr(cr.current),n=fr(ur.current),t.stateNode=H(r,e,n,t),Ci(t)):t.stateNode=e.stateNode}}else wi=function(){},xi=function(){},_i=function(){};function Ii(e,t){if(!Gn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Li(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zi(e,t,n){var r=t.pendingProps;switch(zn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(t),null;case 1:case 17:return pt(t.type)&&vt(),Li(t),null;case 3:return r=t.stateNode,hr(),st(ft),st(ct),br(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Jn(t)?Ci(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Vn&&(To(Vn),Vn=null))),wi(e,t),Li(t),null;case 5:vr(t),n=fr(cr.current);var i=t.type;if(null!==e&&null!=t.stateNode)xi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Li(t),null}if(e=fr(ur.current),Jn(t)){if(!Q)throw Error(o(175));e=He(t.stateNode,t.type,t.memoizedProps,n,e,t,!Wn),t.updateQueue=e,null!==e&&Ci(t)}else{var a=D(i,r,n,e,t);bi(a,t,!1,!1),t.stateNode=a,F(a,i,r,n,e)&&Ci(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Li(t),null;case 6:if(e&&null!=t.stateNode)_i(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=fr(cr.current),n=fr(ur.current),Jn(t)){if(!Q)throw Error(o(176));if(e=t.stateNode,r=t.memoizedProps,(n=Ge(e,r,t,!Wn))&&null!==(i=jn))switch(a=0!==(1&i.mode),i.tag){case 3:Je(i.stateNode.containerInfo,e,r,a);break;case 5:$e(i.type,i.memoizedProps,i.stateNode,e,r,a)}n&&Ci(t)}else t.stateNode=H(r,e,n,t)}return Li(t),null;case 13:if(st(mr),r=t.memoizedState,Gn&&null!==Hn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=Hn;e;)e=Be(e);return $n(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Jn(t),null===e){if(!r)throw Error(o(318));if(!Q)throw Error(o(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(317));We(e,t)}else $n(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Li(t),null}return null!==Vn&&(To(Vn),Vn=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Jn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&mr.current)?0===$a&&($a=3):No())),null!==t.updateQueue&&(t.flags|=4),Li(t),null);case 4:return hr(),wi(e,t),null===e&&J(t.stateNode.containerInfo),Li(t),null;case 10:return un(t.type._context),Li(t),null;case 19:if(st(mr),null===(i=t.memoizedState))return Li(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)Ii(i,!1);else{if(0!==$a||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=gr(e))){for(t.flags|=128,Ii(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(a=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return ut(mr,1&mr.current|2),t.child}e=e.sibling}null!==i.tail&&Dt()>so&&(t.flags|=128,r=!0,Ii(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=gr(a))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Ii(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Gn)return Li(t),null}else 2*Dt()-i.renderingStartTime>so&&1073741824!==n&&(t.flags|=128,r=!0,Ii(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Dt(),t.sibling=null,e=mr.current,ut(mr,r?1&e|2:1&e),t):(Li(t),null);case 22:case 23:return Io(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ka)&&(Li(t),X&&6&t.subtreeFlags&&(t.flags|=8192)):Li(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}var Oi=s.ReactCurrentOwner,Ni=!1;function Ui(e,t,n,r){t.child=null===e?or(t,null,n,r):ar(t,e.child,n,r)}function Di(e,t,n,r,i){n=n.render;var a=t.ref;return cn(t,i),r=Ir(e,t,n,r,a,i),n=Lr(),null===e||Ni?(Gn&&n&&Fn(t),t.flags|=1,Ui(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Bi(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||$o(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ts(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fi(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Jt)(o,r)&&e.ref===t.ref)return ia(e,t,i)}return t.flags|=1,(e=es(a,r)).ref=t.ref,e.return=t,t.child=e}function Fi(e,t,n,r,i){if(null!==e&&Jt(e.memoizedProps,r)&&e.ref===t.ref){if(Ni=!1,0===(e.lanes&i))return t.lanes=e.lanes,ia(e,t,i);0!==(131072&e.flags)&&(Ni=!0)}return Hi(e,t,n,r,i)}function zi(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},ut(Ja,Ka),Ka|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,ut(Ja,Ka),Ka|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,ut(Ja,Ka),Ka|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ut(Ja,Ka),Ka|=r;return Ui(e,t,i,n),t.child}function ji(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hi(e,t,n,r,i){var a=pt(n)?dt:ct.current;return a=ht(t,a),cn(t,i),n=Ir(e,t,n,r,a,i),r=Lr(),null===e||Ni?(Gn&&r&&Fn(t),t.flags|=1,Ui(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Gi(e,t,n,r,i){if(pt(n)){var a=!0;yt(t)}else a=!1;if(cn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),An(t,n,r),Tn(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=fn(l):l=ht(t,l=pt(n)?dt:ct.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&kn(t,o,r,l),hn=!1;var d=t.memoizedState;o.state=d,wn(t,r,o,i),u=t.memoizedState,s!==r||d!==u||ft.current||hn?("function"===typeof c&&(Sn(t,n,c,r),u=t.memoizedState),(s=hn||Mn(t,n,s,r,d,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vn(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:en(t.type,s),o.props=l,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=fn(u):u=ht(t,u=pt(n)?dt:ct.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&kn(t,o,r,u),hn=!1,d=t.memoizedState,o.state=d,wn(t,r,o,i);var p=t.memoizedState;s!==f||d!==p||ft.current||hn?("function"===typeof h&&(Sn(t,n,h,r),p=t.memoizedState),(l=hn||Mn(t,n,l,r,d,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Wi(e,t,n,r,a,i)}function Wi(e,t,n,r,i,a){ji(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&bt(t,n,!1),ia(e,t,a);r=t.stateNode,Oi.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ar(t,e.child,null,a),t.child=ar(t,null,s,a)):Ui(e,t,s,a),t.memoizedState=r.state,i&&bt(t,n,!0),t.child}function Vi(e){var t=e.stateNode;t.pendingContext?mt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mt(0,t.context,!1),dr(e,t.containerInfo)}function qi(e,t,n,r,i){return $n(),er(i),t.flags|=256,Ui(e,t,n,r),t.child}var Xi={dehydrated:null,treeContext:null,retryLane:0};function Yi(e){return{baseLanes:e,cachePool:null}}function Qi(e,t,n){var r,i=t.pendingProps,a=mr.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ut(mr,1&a),null===e)return Qn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Ue(e)?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=rs(a,i,0,null),e=ns(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Yi(n),t.memoizedState=Xi,e):Ki(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,ea(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=rs({mode:"visible",children:i.children},a,0,null),(s=ns(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&ar(t,e.child,null,n),t.child.memoizedState=Yi(n),t.memoizedState=Xi,s);if(0===(1&t.mode))t=ea(e,t,n,null);else if(Ue(r))t=ea(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),Ni||i){if(null!==(i=Xa)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&(a.retryLane=i,So(e,i,-1))}No(),t=ea(e,t,n,Error(o(421)))}else Ne(r)?(t.flags|=128,t.child=e.child,t=Xo.bind(null,e),De(r,t),t=null):(n=a.treeContext,Q&&(Hn=je(r),jn=t,Gn=!0,Vn=null,Wn=!1,null!==n&&(Ln[Zn++]=Nn,Ln[Zn++]=Un,Ln[Zn++]=On,Nn=n.id,Un=n.overflow,On=t)),(t=Ki(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=$i(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Yi(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=$i(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Yi(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}function Ki(e,t){return(t=rs({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ji(e,t,n,r){var i=e.child;return e=i.sibling,n=es(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function $i(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=es(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=es(o,r):(r=ns(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ea(e,t,n,r){return null!==r&&er(r),ar(t,e.child,null,n),(e=Ki(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ta(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ln(e.return,t,n)}function na(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ra(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ui(e,t,r.children,n),0!==(2&(r=mr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ta(e,n,t);else if(19===e.tag)ta(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ut(mr,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===gr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),na(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===gr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}na(t,!0,n,null,a);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),to|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=es(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=es(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aa(e,t){switch(zn(t),t.tag){case 1:return pt(t.type)&&vt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return hr(),st(ft),st(ct),br(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return vr(t),null;case 13:if(st(mr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));$n()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return st(mr),null;case 4:return hr(),null;case 10:return un(t.type._context),null;case 22:case 23:return Io(),null;default:return null}}var oa=!1,sa=!1,ua="function"===typeof WeakSet?WeakSet:Set,la=null;function ca(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Wo(e,t,r)}else n.current=null}function fa(e,t,n){try{n()}catch(r){Wo(e,t,r)}}var da=!1;function ha(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&fa(t,n,a)}i=i.next}while(i!==r)}}function pa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function va(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=L(n);else e=n;"function"===typeof t?t(e):t.current=e}}function ma(e,t,n){if(Gt&&"function"===typeof Gt.onCommitFiberUnmount)try{Gt.onCommitFiberUnmount(Ht,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&fa(t,n,a),r=r.next}while(r!==e)}break;case 1:if(ca(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Wo(t,n,o)}break;case 5:ca(t,n);break;case 4:X?Ea(e,t,n):Y&&Y&&(t=t.stateNode.containerInfo,n=ke(t),Pe(t,n))}}function ga(e,t,n){for(var r=t;;)if(ma(e,r,n),null===r.child||X&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ya(e){var t=e.alternate;null!==t&&(e.alternate=null,ya(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ba(e){return 5===e.tag||3===e.tag||4===e.tag}function wa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ba(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function xa(e){if(X){e:{for(var t=e.return;null!==t;){if(ba(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(we(t),n.flags&=-33),Sa(e,n=wa(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,_a(e,n=wa(e),t);break;default:throw Error(o(161))}}}function _a(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function Sa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?me(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(Sa(e,t,n),e=e.sibling;null!==e;)Sa(e,t,n),e=e.sibling}function Ea(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag)ga(e,a,n),i?be(r,a.stateNode):ye(r,a.stateNode);else if(18===a.tag)i?Qe(r,a.stateNode):Ye(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ma(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Ma(e,t){if(X){switch(t.tag){case 0:case 11:case 14:case 15:return ha(3,t,t.return),pa(3,t),void ha(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&ve(n,a,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return n=t.memoizedProps,void he(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Q&&null!==e&&e.memoizedState.isDehydrated&&qe(t.stateNode.containerInfo));case 13:case 19:return void Aa(t)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:return ha(3,t,t.return),pa(3,t),void ha(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Aa(t);case 3:Q&&null!==e&&e.memoizedState.isDehydrated&&qe(t.stateNode.containerInfo)}e:if(Y){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Pe(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Aa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ua),t.forEach((function(t){var r=Yo.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ka(e,t,n){la=e,Ta(e,t,n)}function Ta(e,t,n){for(var r=0!==(1&e.mode);null!==la;){var i=la,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||oa;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||sa;s=oa;var l=sa;if(oa=o,(sa=u)&&!l)for(la=i;null!==la;)u=(o=la).child,22===o.tag&&null!==o.memoizedState?Ra(i):null!==u?(u.return=o,la=u):Ra(i);for(;null!==a;)la=a,Ta(a,t,n),a=a.sibling;la=i,oa=s,sa=l}Ca(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,la=a):Ca(e)}}function Ca(e){for(;null!==la;){var t=la;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sa||pa(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&xn(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=L(t.child.stateNode);break;case 1:n=t.child.stateNode}xn(t,s,n)}break;case 5:var u=t.stateNode;null===n&&4&t.flags&&pe(u,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Q&&null===t.memoizedState){var l=t.alternate;if(null!==l){var c=l.memoizedState;if(null!==c){var f=c.dehydrated;null!==f&&Xe(f)}}}break;default:throw Error(o(163))}sa||512&t.flags&&va(t)}catch(d){Wo(t,t.return,d)}}if(t===e){la=null;break}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}function Pa(e){for(;null!==la;){var t=la;if(t===e){la=null;break}var n=t.sibling;if(null!==n){n.return=t.return,la=n;break}la=t.return}}function Ra(e){for(;null!==la;){var t=la;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pa(4,t)}catch(u){Wo(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Wo(t,i,u)}}var a=t.return;try{va(t)}catch(u){Wo(t,a,u)}break;case 5:var o=t.return;try{va(t)}catch(u){Wo(t,o,u)}}}catch(u){Wo(t,t.return,u)}if(t===e){la=null;break}var s=t.sibling;if(null!==s){s.return=t.return,la=s;break}la=t.return}}var Ia=0,La=1,Za=2,Oa=3,Na=4;if("function"===typeof Symbol&&Symbol.for){var Ua=Symbol.for;Ia=Ua("selector.component"),La=Ua("selector.has_pseudo_class"),Za=Ua("selector.role"),Oa=Ua("selector.test_id"),Na=Ua("selector.text")}function Da(e){var t=K(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ie(e)))throw Error(o(362));return e.stateNode.current}function Ba(e,t){switch(t.$$typeof){case Ia:if(e.type===t.value)return!0;break;case La:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!se(r)){for(;null!=a&&Ba(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Za:if(5===e.tag&&ue(e.stateNode,t.value))return!0;break;case Na:if((5===e.tag||6===e.tag)&&(null!==(e=oe(e))&&0<=e.indexOf(t.value)))return!0;break;case Oa:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Fa(e){switch(e.$$typeof){case Ia:return"<"+(S(e.value)||"Unknown")+">";case La:return":has("+(Fa(e)||"")+")";case Za:return'[role="'+e.value+'"]';case Na:return'"'+e.value+'"';case Oa:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function za(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!se(i)){for(;null!=o&&Ba(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function ja(e,t){if(!re)throw Error(o(363));e=za(e=Da(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Ha=Math.ceil,Ga=s.ReactCurrentDispatcher,Wa=s.ReactCurrentOwner,Va=s.ReactCurrentBatchConfig,qa=0,Xa=null,Ya=null,Qa=0,Ka=0,Ja=ot(0),$a=0,eo=null,to=0,no=0,ro=0,io=null,ao=null,oo=0,so=1/0;function uo(){so=Dt()+500}var lo,co=!1,fo=null,ho=null,po=!1,vo=null,mo=0,go=0,yo=null,bo=-1,wo=0;function xo(){return 0!==(6&qa)?Dt():-1!==bo?bo:bo=Dt()}function _o(e){return 0===(1&e.mode)?1:0!==(2&qa)&&0!==Qa?Qa&-Qa:null!==Kt.transition?(0===wo&&(e=St,0===(4194240&(St<<=1))&&(St=64),wo=e),wo):0!==(e=It)?e:$()}function So(e,t,n){if(50<go)throw go=0,yo=null,Error(o(185));var r=Eo(e,t);return null===r?null:(Pt(r,t,n),0!==(2&qa)&&r===Xa||(r===Xa&&(0===(2&qa)&&(no|=t),4===$a&&Co(r,Qa)),Mo(r,n),1===t&&0===qa&&0===(1&e.mode)&&(uo(),qt&&Qt())),r)}function Eo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Mo(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-wt(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=kt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=At(e,e===Xa?Qa:0);if(0===r)null!==n&&Ot(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ot(n),1===t)0===e.tag?function(e){qt=!0,Yt(e)}(Po.bind(null,e)):Yt(Po.bind(null,e)),te?ne((function(){0===qa&&Qt()})):Zt(Bt,Qt),n=null;else{switch(Lt(r)){case 1:n=Bt;break;case 4:n=Ft;break;case 16:default:n=zt;break;case 536870912:n=jt}n=Qo(n,Ao.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ao(e,t){if(bo=-1,wo=0,0!==(6&qa))throw Error(o(327));var n=e.callbackNode;if(Ho()&&e.callbackNode!==n)return null;var r=At(e,e===Xa?Qa:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Uo(e,r);else{t=r;var i=qa;qa|=2;var a=Oo();for(Xa===e&&Qa===t||(uo(),Lo(e,t));;)try{Bo();break}catch(u){Zo(e,u)}on(),Ga.current=a,qa=i,null!==Ya?t=0:(Xa=null,Qa=0,t=$a)}if(0!==t){if(2===t&&(0!==(i=Tt(e))&&(r=i,t=ko(e,i))),1===t)throw n=eo,Lo(e,0),Co(e,r),Mo(e,Dt()),n;if(6===t)Co(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Wt(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Uo(e,r))&&(0!==(a=Tt(e))&&(r=a,t=ko(e,a))),1===t))throw n=eo,Lo(e,0),Co(e,r),Mo(e,Dt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:jo(e,ao);break;case 3:if(Co(e,r),(130023424&r)===r&&10<(t=oo+500-Dt())){if(0!==At(e,0))break;if(((i=e.suspendedLanes)&r)!==r){xo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=G(jo.bind(null,e,ao),t);break}jo(e,ao);break;case 4:if(Co(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-wt(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Dt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ha(r/1960))-r)){e.timeoutHandle=G(jo.bind(null,e,ao),r);break}jo(e,ao);break;default:throw Error(o(329))}}}return Mo(e,Dt()),e.callbackNode===n?Ao.bind(null,e):null}function ko(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(Lo(e,t).flags|=256),2!==(e=Uo(e,t))&&(t=ao,ao=n,null!==t&&To(t)),e}function To(e){null===ao?ao=e:ao.push.apply(ao,e)}function Co(e,t){for(t&=~ro,t&=~no,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function Po(e){if(0!==(6&qa))throw Error(o(327));Ho();var t=At(e,0);if(0===(1&t))return Mo(e,Dt()),null;var n=Uo(e,t);if(0!==e.tag&&2===n){var r=Tt(e);0!==r&&(t=r,n=ko(e,r))}if(1===n)throw n=eo,Lo(e,0),Co(e,t),Mo(e,Dt()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jo(e,ao),Mo(e,Dt()),null}function Ro(e){null!==vo&&0===vo.tag&&0===(6&qa)&&Ho();var t=qa;qa|=1;var n=Va.transition,r=It;try{if(Va.transition=null,It=1,e)return e()}finally{It=r,Va.transition=n,0===(6&(qa=t))&&Qt()}}function Io(){Ka=Ja.current,st(Ja)}function Lo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==V&&(e.timeoutHandle=V,W(n)),null!==Ya)for(n=Ya.return;null!==n;){var r=n;switch(zn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vt();break;case 3:hr(),st(ft),st(ct),br();break;case 5:vr(r);break;case 4:hr();break;case 13:case 19:st(mr);break;case 10:un(r.type._context);break;case 22:case 23:Io()}n=n.return}if(Xa=e,Ya=e=es(e.current,null),Qa=Ka=t,$a=0,eo=null,ro=no=to=0,ao=io=null,null!==dn){for(t=0;t<dn.length;t++)if(null!==(r=(n=dn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}dn=null}return e}function Zo(e,t){for(;;){var n=Ya;try{if(on(),wr.current=hi,Ar){for(var r=Sr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Ar=!1}if(_r=0,Mr=Er=Sr=null,kr=!1,Tr=0,Wa.current=null,null===n||null===n.return){$a=1,eo=t,Ya=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Qa,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ki(s);if(null!==p){p.flags&=-257,Ti(p,s,u,0,t),1&p.mode&&Ai(a,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){Ai(a,c,t),No();break e}l=Error(o(426))}else if(Gn&&1&u.mode){var g=ki(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),Ti(g,s,u,0,t),er(l);break e}}a=l,4!==$a&&($a=2),null===io?io=[a]:io.push(a),l=gi(l,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,bn(u,Ei(0,l,t));break e;case 1:a=l;var y=u.type,b=u.stateNode;if(0===(128&u.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ho||!ho.has(b)))){u.flags|=65536,t&=-t,u.lanes|=t,bn(u,Mi(u,a,t));break e}}u=u.return}while(null!==u)}zo(n)}catch(w){t=w,Ya===n&&null!==n&&(Ya=n=n.return);continue}break}}function Oo(){var e=Ga.current;return Ga.current=hi,null===e?hi:e}function No(){0!==$a&&3!==$a&&2!==$a||($a=4),null===Xa||0===(268435455&to)&&0===(268435455&no)||Co(Xa,Qa)}function Uo(e,t){var n=qa;qa|=2;var r=Oo();for(Xa===e&&Qa===t||Lo(e,t);;)try{Do();break}catch(i){Zo(e,i)}if(on(),qa=n,Ga.current=r,null!==Ya)throw Error(o(261));return Xa=null,Qa=0,$a}function Do(){for(;null!==Ya;)Fo(Ya)}function Bo(){for(;null!==Ya&&!Nt();)Fo(Ya)}function Fo(e){var t=lo(e.alternate,e,Ka);e.memoizedProps=e.pendingProps,null===t?zo(e):Ya=t,Wa.current=null}function zo(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Zi(n,t,Ka)))return void(Ya=n)}else{if(null!==(n=aa(n,t)))return n.flags&=32767,void(Ya=n);if(null===e)return $a=6,void(Ya=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ya=t);Ya=t=e}while(null!==t);0===$a&&($a=5)}function jo(e,t){var n=It,r=Va.transition;try{Va.transition=null,It=1,function(e,t,n){do{Ho()}while(null!==vo);if(0!==(6&qa))throw Error(o(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-wt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Xa&&(Ya=Xa=null,Qa=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||po||(po=!0,Qo(zt,(function(){return Ho(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=Va.transition,Va.transition=null;var s=It;It=1;var u=qa;qa|=4,Wa.current=null,function(e,t){for(N(e.containerInfo),la=t;null!==la;)if(t=(e=la).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,la=t;else for(;null!==la;){e=la;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,s=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=s}break;case 3:X&&Me(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(u){Wo(e,e.return,u)}if(null!==(t=e.sibling)){t.return=e.return,la=t;break}la=e.return}n=da,da=!1}(e,r),function(e,t){for(la=t;null!==la;){var n=(t=la).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;X?Ea(a,i,t):ga(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(x){Wo(i,t,x)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,la=n;else for(;null!==la;){t=la;try{var s=t.flags;if(32&s&&X&&we(t.stateNode),512&s){var u=t.alternate;if(null!==u){var l=u.ref;null!==l&&("function"===typeof l?l(null):l.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(oo=Dt())}break;case 22:var f=null!==t.memoizedState,d=t.alternate,h=null!==d&&null!==d.memoizedState;if(n=t,X)e:if(r=n,i=f,a=null,X)for(var p=r;;){if(5===p.tag){if(null===a){a=p;var v=p.stateNode;i?xe(v):Se(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===a){var m=p.stateNode;i?_e(m):Ee(m,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;a===p&&(a=null),p=p.return}a===p&&(a=null),p.sibling.return=p.return,p=p.sibling}if(f&&!h&&0!==(1&n.mode)){la=n;for(var g=n.child;null!==g;){for(n=la=g;null!==la;){var y=(r=la).child;switch(r.tag){case 0:case 11:case 14:case 15:ha(4,r,r.return);break;case 1:ca(r,r.return);var b=r.stateNode;if("function"===typeof b.componentWillUnmount){var w=r.return;try{b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(x){Wo(r,w,x)}}break;case 5:ca(r,r.return);break;case 22:if(null!==r.memoizedState){Pa(n);continue}}null!==y?(y.return=r,la=y):Pa(n)}g=g.sibling}}}switch(4102&s){case 2:xa(t),t.flags&=-3;break;case 6:xa(t),t.flags&=-3,Ma(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ma(t.alternate,t);break;case 4:Ma(t.alternate,t)}}catch(x){Wo(t,t.return,x)}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}}(e,r),U(e.containerInfo),e.current=r,ka(r,e,i),Ut(),qa=u,It=s,Va.transition=a}else e.current=r;if(po&&(po=!1,vo=e,mo=i),a=e.pendingLanes,0===a&&(ho=null),function(e){if(Gt&&"function"===typeof Gt.onCommitFiberRoot)try{Gt.onCommitFiberRoot(Ht,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Mo(e,Dt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(co)throw co=!1,e=fo,fo=null,e;0!==(1&mo)&&0!==e.tag&&Ho(),a=e.pendingLanes,0!==(1&a)?e===yo?go++:(go=0,yo=e):go=0,Qt()}(e,t,n)}finally{Va.transition=r,It=n}return null}function Ho(){if(null!==vo){var e=Lt(mo),t=Va.transition,n=It;try{if(Va.transition=null,It=16>e?16:e,null===vo)var r=!1;else{if(e=vo,vo=null,mo=0,0!==(6&qa))throw Error(o(331));var i=qa;for(qa|=4,la=e.current;null!==la;){var a=la,s=a.child;if(0!==(16&la.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(la=c;null!==la;){var f=la;switch(f.tag){case 0:case 11:case 15:ha(8,f,a)}var d=f.child;if(null!==d)d.return=f,la=d;else for(;null!==la;){var h=(f=la).sibling,p=f.return;if(ya(f),f===c){la=null;break}if(null!==h){h.return=p,la=h;break}la=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}la=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,la=s;else e:for(;null!==la;){if(0!==(2048&(a=la).flags))switch(a.tag){case 0:case 11:case 15:ha(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,la=y;break e}la=a.return}}var b=e.current;for(la=b;null!==la;){var w=(s=la).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,la=w;else e:for(s=b;null!==la;){if(0!==(2048&(u=la).flags))try{switch(u.tag){case 0:case 11:case 15:pa(9,u)}}catch(_){Wo(u,u.return,_)}if(u===s){la=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,la=x;break e}la=u.return}}if(qa=i,Qt(),Gt&&"function"===typeof Gt.onPostCommitFiberRoot)try{Gt.onPostCommitFiberRoot(Ht,e)}catch(_){}r=!0}return r}finally{It=n,Va.transition=t}}return!1}function Go(e,t,n){gn(e,t=Ei(0,t=gi(n,t),1)),t=xo(),null!==(e=Eo(e,1))&&(Pt(e,1,t),Mo(e,t))}function Wo(e,t,n){if(3===e.tag)Go(e,e,n);else for(;null!==t;){if(3===t.tag){Go(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ho||!ho.has(r))){gn(t,e=Mi(t,e=gi(n,e),1)),e=xo(),null!==(t=Eo(t,1))&&(Pt(t,1,e),Mo(t,e));break}}t=t.return}}function Vo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=xo(),e.pingedLanes|=e.suspendedLanes&n,Xa===e&&(Qa&n)===n&&(4===$a||3===$a&&(130023424&Qa)===Qa&&500>Dt()-oo?Lo(e,0):ro|=n),Mo(e,t)}function qo(e,t){0===t&&(0===(1&e.mode)?t=1:(t=Et,0===(130023424&(Et<<=1))&&(Et=4194304)));var n=xo();null!==(e=Eo(e,t))&&(Pt(e,t,n),Mo(e,n))}function Xo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),qo(e,n)}function Yo(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),qo(e,n)}function Qo(e,t){return Zt(e,t)}function Ko(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jo(e,t,n,r){return new Ko(e,t,n,r)}function $o(e){return!(!(e=e.prototype)||!e.isReactComponent)}function es(e,t){var n=e.alternate;return null===n?((n=Jo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)$o(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case c:return ns(n.children,i,a,t);case f:s=8,i|=8;break;case d:return(e=Jo(12,n,t,2|i)).elementType=d,e.lanes=a,e;case m:return(e=Jo(13,n,t,i)).elementType=m,e.lanes=a,e;case g:return(e=Jo(19,n,t,i)).elementType=g,e.lanes=a,e;case w:return rs(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case h:s=10;break e;case p:s=9;break e;case v:s=11;break e;case y:s=14;break e;case b:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Jo(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function ns(e,t,n,r){return(e=Jo(7,e,r,t)).lanes=n,e}function rs(e,t,n,r){return(e=Jo(22,e,r,t)).elementType=w,e.lanes=n,e.stateNode={},e}function is(e,t,n){return(e=Jo(6,e,null,t)).lanes=n,e}function as(e,t,n){return(t=Jo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function os(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=V,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ct(0),this.expirationTimes=Ct(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ct(0),this.identifierPrefix=r,this.onRecoverableError=i,Q&&(this.mutableSourceEagerHydrationData=null)}function ss(e,t,n,r,i,a,o,s,u){return e=new os(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Jo(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},pn(a),e}function us(e){if(!e)return lt;e:{if(M(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(pt(n))return gt(e,n,t)}return t}function ls(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=T(t))?null:e.stateNode}function cs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function fs(e,t){cs(e,t),(e=e.alternate)&&cs(e,t)}function ds(e){return null===(e=T(e))?null:e.stateNode}function hs(){return null}return lo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ft.current)Ni=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ni=!1,function(e,t,n){switch(t.tag){case 3:Vi(t),$n();break;case 5:pr(t);break;case 1:pt(t.type)&&yt(t);break;case 4:dr(t,t.stateNode.containerInfo);break;case 10:sn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ut(mr,1&mr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Qi(e,t,n):(ut(mr,1&mr.current),null!==(e=ia(e,t,n))?e.sibling:null);ut(mr,1&mr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ra(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(mr,mr.current),r)break;return null;case 22:case 23:return t.lanes=0,zi(e,t,n)}return ia(e,t,n)}(e,t,n);Ni=0!==(131072&e.flags)}else Ni=!1,Gn&&0!==(1048576&t.flags)&&Bn(t,In,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ht(t,ct.current);cn(t,n),i=Ir(null,t,r,e,i,n);var a=Lr();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(a=!0,yt(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t),i.updater=En,t.stateNode=i,i._reactInternals=t,Tn(t,r,e,n),t=Wi(null,t,r,!0,a,n)):(t.tag=0,Gn&&a&&Fn(t),Ui(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return $o(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===v)return 11;if(e===y)return 14}return 2}(r),e=en(r,e),i){case 0:t=Hi(null,t,r,e,n);break e;case 1:t=Gi(null,t,r,e,n);break e;case 11:t=Di(null,t,r,e,n);break e;case 14:t=Bi(null,t,r,en(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Hi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Gi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(Vi(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,vn(e,t),wn(t,r,null,n);var s=t.memoizedState;if(r=s.element,Q&&a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=qi(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=qi(e,t,r,n,i=Error(o(424)));break e}for(Q&&(Hn=ze(t.stateNode.containerInfo),jn=t,Gn=!0,Vn=null,Wn=!1),n=or(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if($n(),r===i){t=ia(e,t,n);break e}Ui(e,t,r,n)}t=t.child}return t;case 5:return pr(t),null===e&&Qn(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,j(r,i)?s=null:null!==a&&j(r,a)&&(t.flags|=32),ji(e,t),Ui(e,t,s,n),t.child;case 6:return null===e&&Qn(t),null;case 13:return Qi(e,t,n);case 4:return dr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):Ui(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Di(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Ui(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ui(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,sn(0,r,s=i.value),null!==a)if(Wt(a.value,s)){if(a.children===i.children&&!ft.current){t=ia(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=mn(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ln(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ln(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Ui(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cn(t,n),r=r(i=fn(i)),t.flags|=1,Ui(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),Bi(e,t,r,i=en(r.type,i),n);case 15:return Fi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pt(r)?(e=!0,yt(t)):e=!1,cn(t,n),An(t,r,i),Tn(t,r,i,n),Wi(null,t,r,!0,e,n);case 19:return ra(e,t,n);case 22:return zi(e,t,n)}throw Error(o(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(So(e,134217728,xo()),fs(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=xo(),n=_o(e);So(e,n,t),fs(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mt(t.pendingLanes);0!==n&&(Rt(t,1|n),Mo(t,Dt()),0===(6&qa)&&(uo(),Qt()))}break;case 13:var r=xo();Ro((function(){return So(e,1,r)})),fs(e,1)}},t.batchedUpdates=function(e,t){var n=qa;qa|=1;try{return e(t)}finally{0===(qa=n)&&(uo(),qt&&Qt())}},t.createComponentSelector=function(e){return{$$typeof:Ia,value:e}},t.createContainer=function(e,t,n,r,i,a,o){return ss(e,t,!1,null,0,r,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:La,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,o,s,u){return(e=ss(n,r,!0,e,0,a,0,s,u)).context=us(null),n=e.current,(a=mn(r=xo(),i=_o(n))).callback=void 0!==t&&null!==t?t:null,gn(n,a),e.current.lanes=i,Pt(e,i,r),Mo(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Za,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Oa,value:e}},t.createTextSelector=function(e){return{$$typeof:Na,value:e}},t.deferredUpdates=function(e){var t=It,n=Va.transition;try{return Va.transition=null,It=16,e()}finally{It=t,Va.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=It,o=Va.transition;try{return Va.transition=null,It=1,e(t,n,r,i)}finally{It=a,Va.transition=o,0===qa&&uo()}},t.findAllNodes=ja,t.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=ja(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,a=n.y,s=a+n.height,u=t-1;0<=u;u--)if(t!==u){var l=e[u],c=l.x,f=c+l.width,d=l.y,h=d+l.height;if(r>=c&&a>=d&&i<=f&&s<=h){e.splice(t,1);break}if(!(r!==c||n.width!==l.width||h<a||d>s)){d>a&&(l.height+=d-a,l.y=a),h<s&&(l.height=s-d),e.splice(t,1);break}if(!(a!==d||n.height!==l.height||f<r||c>i)){c>r&&(l.width+=c-r,l.x=r),f<i&&(l.width=i-c),e.splice(t,1);break}}return e},t.findHostInstance=ls,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=k(e))?P(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return ls(e)},t.flushControlled=function(e){var t=qa;qa|=1;var n=Va.transition,r=It;try{Va.transition=null,It=1,e()}finally{It=r,Va.transition=n,0===(qa=t)&&(uo(),Qt())}},t.flushPassiveEffects=Ho,t.flushSync=Ro,t.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=za(e=Da(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&le(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return It},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var n=0,r=[];e=[Da(e),0];for(var i=0;i<e.length;){var a=e[i++],s=e[i++],u=t[s];if((5!==a.tag||!se(a))&&(Ba(a,u)&&(r.push(Fa(u)),++s>n&&(n=s)),s<t.length))for(a=a.child;null!==a;)e.push(a,s),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Fa(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?L(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:ds,findFiberByHostInstance:e.findFiberByHostInstance||hs,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Ht=t.inject(e),Gt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(o(363));e=ja(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=It;try{return It=e,t()}finally{It=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=xo(),o=_o(i);return n=us(n),null===t.context?t.context=n:t.pendingContext=n,(t=mn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gn(i,t),null!==(e=So(i,o,a))&&yn(e,i,o),o},t}},4585:function(e,t,n){"use strict";e.exports=n(4976)},258:function(e,t,n){"use strict";e.exports=n(3721)},5783:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function x(e){if(m=!1,w(e),!v)if(null!==r(l))v=!0,L(_);else{var t=r(c);null!==t&&Z(x,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(A),A=-1),p=!0;var a=h;try{for(w(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!C());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&i(l),w(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var f=r(c);null!==f&&Z(x,f.startTime-n),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,M=null,A=-1,k=5,T=-1;function C(){return!(t.unstable_now()-T<k)}function P(){if(null!==M){var e=t.unstable_now();T=e;var n=!0;try{n=M(!0,e)}finally{n?S():(E=!1,M=null)}}else E=!1}if("function"===typeof b)S=function(){b(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,I=R.port2;R.port1.onmessage=P,S=function(){I.postMessage(null)}}else S=function(){g(P,0)};function L(e){M=e,E||(E=!0,S())}function Z(e,n){A=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(A),A=-1):m=!0,Z(x,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,L(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},3100:function(e,t,n){"use strict";e.exports=n(5783)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=b.prototype=new y;w.constructor=b,v(w,g.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+T(u,0):a,x(o)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(A(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",x(e))for(var l=0;l<e.length;l++){var c=a+T(s=e[l],l);u+=C(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,c=a+T(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},L={transition:null},Z={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:L,ReactCurrentOwner:S};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)_.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function x(e){if(m=!1,w(e),!v)if(null!==r(l))v=!0,L(_);else{var t=r(c);null!==t&&Z(x,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(A),A=-1),p=!0;var a=h;try{for(w(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!C());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&i(l),w(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var f=r(c);null!==f&&Z(x,f.startTime-n),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,M=null,A=-1,k=5,T=-1;function C(){return!(t.unstable_now()-T<k)}function P(){if(null!==M){var e=t.unstable_now();T=e;var n=!0;try{n=M(!0,e)}finally{n?S():(E=!1,M=null)}}else E=!1}if("function"===typeof b)S=function(){b(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,I=R.port2;R.port1.onmessage=P,S=function(){I.postMessage(null)}}else S=function(){g(P,0)};function L(e){M=e,E||(E=!0,S())}function Z(e,n){A=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(A),A=-1):m=!0,Z(x,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,L(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},845:function(e){"use strict";e.exports=function(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},499:function(e){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,l(i)&&c({inst:i})}),[e,n,t]),o((function(){return l(i)&&c({inst:i}),e((function(){l(i)&&c({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=l((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,i]);var h=o(e,f[0],f[1]);return u((function(){d.hasValue=!0,d.value=h}),[h]),c(h),h}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},5883:function(){},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},5647:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9611),i=n(8814);function a(e,t,n){return a=(0,i.Z)()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&(0,r.Z)(a,n.prototype),a},a.apply(null,arguments)}},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},9388:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120),i=n(8814),a=n(2963);function o(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1120);function i(){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},i.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},4925:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})},2963:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1002),i=n(7326);function a(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),s=new k(r||[]);return a(o,"_invoke",{value:S(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=f;var h={};function p(){}function v(){}function m(){}var g={};c(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=m.prototype=p.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(a,o,s,u){var l=d(e[a],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,u)}))}u(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return v.prototype=m,a(w,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:v,configurable:!0}),v.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(_.prototype),c(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(w),c(w,l,"Generator"),c(w,s,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},8664:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120),i=n(9611);var a=n(5647);function o(e){var t="function"===typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return(0,a.Z)(e,arguments,(0,r.Z)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(o,e)},o(e)}},5991:function(e,t,n){"use strict";n.d(t,{AV:function(){return h},CV:function(){return S},Ic:function(){return J},Id:function(){return f},Vs:function(){return ee},jb:function(){return W},kD:function(){return H},t0:function(){return x},uA:function(){return g},uc:function(){return z},zb:function(){return b},zv:function(){return p}});var r,i=n(3433),a=n(7762),o=n(4165),s=n(5861),u=n(9439),l=n(1631),c=n(9778),f={ethereumClient:void 0,setEthereumClient:function(e){r=e},client:function(){if(r)return r;throw new Error("ClientCtrl has no client set")}},d=(0,l.sj)({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),h={state:d,subscribe:function(e){return(0,l.Ld)(d,(function(){return e(d)}))},push:function(e,t){e!==d.view&&(d.view=e,t&&(d.data=t),d.history.push(e))},reset:function(e){d.view=e,d.history=[e]},replace:function(e){d.history.length>1&&(d.history[d.history.length-1]=e,d.view=e)},goBack:function(){if(d.history.length>1){d.history.pop();var e=d.history.slice(-1),t=(0,u.Z)(e,1)[0];d.view=t}},setData:function(e){d.data=e}},p={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",W3M_VERSION:"W3M_VERSION",W3M_PREFER_INJECTED_URL_FLAG:"w3mPreferInjected",RECOMMENDED_WALLET_AMOUNT:9,isMobile:function(){return typeof window<"u"&&Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/.test(navigator.userAgent))},isAndroid:function(){return p.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos:function(){var e=navigator.userAgent.toLowerCase();return p.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:function(e){return e.startsWith("http://")||e.startsWith("https://")},isArray:function(e){return Array.isArray(e)&&e.length>0},formatNativeUrl:function(e,t,n){if(p.isHttpUrl(e))return this.formatUniversalUrl(e,t,n);var r=e;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r="".concat(r,"://")),r.endsWith("/")||(r="".concat(r,"/")),this.setWalletConnectDeepLink(r,n);var i=encodeURIComponent(t);return"".concat(r,"wc?uri=").concat(i)},formatUniversalUrl:function(e,t,n){if(!p.isHttpUrl(e))return this.formatNativeUrl(e,t,n);var r=e;r.endsWith("/")||(r="".concat(r,"/")),this.setWalletConnectDeepLink(r,n);var i=encodeURIComponent(t);return"".concat(r,"wc?uri=").concat(i)},wait:function(e){return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})))()},openHref:function(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink:function(e,t){try{localStorage.setItem(p.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch(n){console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink:function(e){try{var t=e.split("?"),n=(0,u.Z)(t,1)[0];localStorage.setItem(p.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:n,name:"Android"}))}catch(r){console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink:function(){try{localStorage.removeItem(p.WALLETCONNECT_DEEPLINK_CHOICE)}catch(e){console.info("Unable to remove WalletConnect deep link")}},setWeb3ModalVersionInStorage:function(){try{typeof localStorage<"u"&&localStorage.setItem(p.W3M_VERSION,"2.6.2")}catch(e){console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData:function(){var e,t=null==(e=h.state.data)?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t},getSwitchNetworkRouterData:function(){var e,t=null==(e=h.state.data)?void 0:e.SwitchNetwork;if(!t)throw new Error('Missing "SwitchNetwork" view data');return t},isPreferInjectedFlag:function(){return typeof location<"u"&&new URLSearchParams(location.search).has(p.W3M_PREFER_INJECTED_URL_FLAG)}},v=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),m=(0,l.sj)({enabled:v,userSessionId:"",events:[],connectedWalletId:void 0}),g={state:m,subscribe:function(e){return(0,l.Ld)(m.events,(function(){return e((0,l.CO)(m.events[m.events.length-1]))}))},initialize:function(){m.enabled&&typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(m.userSessionId=crypto.randomUUID())},setConnectedWalletId:function(e){m.connectedWalletId=e},click:function(e){if(m.enabled){var t={type:"CLICK",name:e.name,userSessionId:m.userSessionId,timestamp:Date.now(),data:e};m.events.push(t)}},track:function(e){if(m.enabled){var t={type:"TRACK",name:e.name,userSessionId:m.userSessionId,timestamp:Date.now(),data:e};m.events.push(t)}},view:function(e){if(m.enabled){var t={type:"VIEW",name:e.name,userSessionId:m.userSessionId,timestamp:Date.now(),data:e};m.events.push(t)}}},y=(0,l.sj)({selectedChain:void 0,chains:void 0,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1,isPreferInjected:!1}),b={state:y,subscribe:function(e){return(0,l.Ld)(y,(function(){return e(y)}))},setChains:function(e){y.chains=e},getSelectedChain:function(){var e=f.client().getNetwork().chain;return e&&(y.selectedChain=e),y.selectedChain},setSelectedChain:function(e){y.selectedChain=e},setIsCustomDesktop:function(e){y.isCustomDesktop=e},setIsCustomMobile:function(e){y.isCustomMobile=e},setIsDataLoaded:function(e){y.isDataLoaded=e},setIsUiLoaded:function(e){y.isUiLoaded=e},setIsPreferInjected:function(e){y.isPreferInjected=e}},w=(0,l.sj)({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,tokenContracts:void 0,enableNetworkView:!1,enableAccountView:!0,enableExplorer:!0,defaultChain:void 0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),x={state:w,subscribe:function(e){return(0,l.Ld)(w,(function(){return e(w)}))},setConfig:function(e){var t,n;g.initialize(),b.setIsCustomMobile(Boolean(null==(t=e.mobileWallets)?void 0:t.length)),b.setIsCustomDesktop(Boolean(null==(n=e.desktopWallets)?void 0:n.length)),b.setChains(f.client().chains),b.setIsPreferInjected(f.client().isInjectedProviderInstalled()&&p.isPreferInjectedFlag()),e.defaultChain&&b.setSelectedChain(e.defaultChain),p.setWeb3ModalVersionInStorage(),Object.assign(w,e)}},_=(0,l.sj)({address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1}),S={state:_,subscribe:function(e){return(0,l.Ld)(_,(function(){return e(_)}))},getAccount:function(){var e=f.client().getAccount();_.address=e.address,_.isConnected=e.isConnected},fetchProfile:function(e,t){return(0,s.Z)((0,o.Z)().mark((function n(){var r,i,a,s,u;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,_.profileLoading=!0,i=null!==t&&void 0!==t?t:_.address,a=null==(r=b.state.chains)?void 0:r.find((function(e){return 1===e.id})),!i||!a){n.next=17;break}return n.next=6,f.client().fetchEnsName({address:i,chainId:1});case 6:if(!(s=n.sent)){n.next=16;break}return n.next=10,f.client().fetchEnsAvatar({name:s,chainId:1});case 10:if(u=n.sent,n.t0=u,!n.t0){n.next=15;break}return n.next=15,e(u);case 15:_.profileAvatar=u;case 16:_.profileName=s;case 17:return n.prev=17,_.profileLoading=!1,n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[0,,17,20]])})))()},fetchBalance:function(e){return(0,s.Z)((0,o.Z)().mark((function t(){var n,r,i,a,s,u;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=f.client().getNetwork(),r=n.chain,i=x.state.tokenContracts,r&&i&&(a=i[r.id]),_.balanceLoading=!0,!(s=null!==e&&void 0!==e?e:_.address)){t.next=9;break}return t.next=7,f.client().fetchBalance({address:s,token:a});case 7:u=t.sent,_.balance={amount:u.formatted,symbol:u.symbol};case 9:return t.prev=9,_.balanceLoading=!1,t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,,9,12]])})))()},setAddress:function(e){_.address=e},setIsConnected:function(e){_.isConnected=e},resetBalance:function(){_.balance=void 0},resetAccount:function(){_.address=void 0,_.isConnected=!1,_.profileName=void 0,_.profileAvatar=void 0,_.balance=void 0}},E="https://explorer-api.walletconnect.com";function M(e,t){return A.apply(this,arguments)}function A(){return(A=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new URL(t,E)).searchParams.append("projectId",x.state.projectId),Object.entries(n).forEach((function(e){var t=(0,u.Z)(e,2),n=t[0],i=t[1];i&&r.searchParams.append(n,String(i))})),e.next=5,fetch(r);case 5:return e.abrupt("return",e.sent.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(e){return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",M("/w3m/v1/getDesktopListings",e));case 1:case"end":return t.stop()}}),t)})))()},T=function(e){return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",M("/w3m/v1/getMobileListings",e));case 1:case"end":return t.stop()}}),t)})))()},C=function(e){return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",M("/w3m/v1/getInjectedListings",e));case 1:case"end":return t.stop()}}),t)})))()},P=function(e){return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",M("/w3m/v1/getAllListings",e));case 1:case"end":return t.stop()}}),t)})))()},R=function(e){return"".concat(E,"/w3m/v1/getWalletImage/").concat(e,"?projectId=").concat(x.state.projectId)},I=function(e){return"".concat(E,"/w3m/v1/getAssetImage/").concat(e,"?projectId=").concat(x.state.projectId)},L=Object.defineProperty,Z=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,U=function(e,t,n){return t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},D=function(e,t){for(var n in t||(t={}))O.call(t,n)&&U(e,n,t[n]);if(Z){var r,i=(0,a.Z)(Z(t));try{for(i.s();!(r=i.n()).done;){n=r.value;N.call(t,n)&&U(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},B=p.isMobile(),F=(0,l.sj)({wallets:{listings:[],total:0,page:1},injectedWallets:[],search:{listings:[],total:0,page:1},recomendedWallets:[]}),z={state:F,getRecomendedWallets:function(){return(0,s.Z)((0,o.Z)().mark((function e(){var t,n,r,i,a,s,u,l,c,f,d;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x.state,n=t.explorerRecommendedWalletIds,r=t.explorerExcludedWalletIds,"NONE"!==n&&("ALL"!==r||n)){e.next=3;break}return e.abrupt("return",F.recomendedWallets);case 3:if(!p.isArray(n)){e.next=13;break}return i={recommendedIds:n.join(",")},e.next=7,P(i);case 7:a=e.sent,s=a.listings,(u=Object.values(s)).sort((function(e,t){return n.indexOf(e.id)-n.indexOf(t.id)})),F.recomendedWallets=u,e.next=27;break;case 13:if(l=p.isArray(r),c={page:1,entries:p.RECOMMENDED_WALLET_AMOUNT,version:2,excludedIds:l?r.join(","):void 0},!B){e.next=21;break}return e.next=18,T(c);case 18:e.t0=e.sent,e.next=24;break;case 21:return e.next=23,k(c);case 23:e.t0=e.sent;case 24:f=e.t0,d=f.listings,F.recomendedWallets=Object.values(d);case 27:return e.abrupt("return",F.recomendedWallets);case 28:case"end":return e.stop()}}),e)})))()},getWallets:function(e){return(0,s.Z)((0,o.Z)().mark((function t(){var n,r,a,s,u,l,c,f,d,h,v,m;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=D({},e),r=x.state,a=r.explorerRecommendedWalletIds,s=r.explorerExcludedWalletIds,u=F.recomendedWallets,"ALL"!==s){t.next=3;break}return t.abrupt("return",F.wallets);case 3:if(u.length?n.excludedIds=u.map((function(e){return e.id})).join(","):p.isArray(a)&&(n.excludedIds=a.join(",")),p.isArray(s)&&(n.excludedIds=[n.excludedIds,s].filter(Boolean).join(",")),l=e.page,c=e.search,!B){t.next=12;break}return t.next=9,T(n);case 9:t.t0=t.sent,t.next=15;break;case 12:return t.next=14,k(n);case 14:t.t0=t.sent;case 15:return f=t.t0,d=f.listings,h=f.total,v=Object.values(d),m=c?"search":"wallets",t.abrupt("return",(F[m]={listings:[].concat((0,i.Z)(F[m].listings),v),total:h,page:null!==l&&void 0!==l?l:1},{listings:v,total:h}));case 21:case"end":return t.stop()}}),t)})))()},getInjectedWallets:function(){return(0,s.Z)((0,o.Z)().mark((function e(){var t,n,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C({});case 2:return t=e.sent,n=t.listings,r=Object.values(n),e.abrupt("return",(F.injectedWallets=r,F.injectedWallets));case 6:case"end":return e.stop()}}),e)})))()},getWalletImageUrl:function(e){return R(e)},getAssetImageUrl:function(e){return I(e)},resetSearch:function(){F.search={listings:[],total:0,page:1}}},j=(0,l.sj)({pairingEnabled:!1,pairingUri:"",pairingError:!1}),H={state:j,subscribe:function(e){return(0,l.Ld)(j,(function(){return e(j)}))},setPairingUri:function(e){j.pairingUri=e},setPairingError:function(e){j.pairingError=e},setPairingEnabled:function(e){j.pairingEnabled=e}},G=(0,l.sj)({open:!1}),W={state:G,subscribe:function(e){return(0,l.Ld)(G,(function(){return e(G)}))},open:function(e){return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n=b.state,r=n.isUiLoaded,i=n.isDataLoaded,a=n.isPreferInjected,o=n.selectedChain,s=S.state.isConnected,u=x.state.enableNetworkView;if(H.setPairingEnabled(!0),null!=e&&e.route)h.reset(e.route);else if(s)h.reset("Account");else if(u)h.reset("SelectNetwork");else{if(a)return f.client().connectConnector("injected",null===o||void 0===o?void 0:o.id).catch((function(e){return console.error(e)})),void t();h.reset("ConnectWallet")}var l=H.state.pairingUri;if(r&&i&&(l||s))G.open=!0,t();else var c=setInterval((function(){var e=b.state,n=H.state;e.isUiLoaded&&e.isDataLoaded&&(n.pairingUri||s)&&(clearInterval(c),G.open=!0,t())}),200)})));case 1:case"end":return t.stop()}}),t)})))()},close:function(){G.open=!1}},V=Object.defineProperty,q=Object.getOwnPropertySymbols,X=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,Q=function(e,t,n){return t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n};var K=(0,l.sj)({themeMode:typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),J={state:K,subscribe:function(e){return(0,l.Ld)(K,(function(){return e(K)}))},setThemeConfig:function(e){var t=e.themeMode,n=e.themeVariables;t&&(K.themeMode=t),n&&(K.themeVariables=function(e,t){for(var n in t||(t={}))X.call(t,n)&&Q(e,n,t[n]);if(q){var r,i=(0,a.Z)(q(t));try{for(i.s();!(r=i.n()).done;)n=r.value,Y.call(t,n)&&Q(e,n,t[n])}catch(o){i.e(o)}finally{i.f()}}return e}({},n))}},$=(0,l.sj)({open:!1,message:"",variant:"success"}),ee={state:$,subscribe:function(e){return(0,l.Ld)($,(function(){return e($)}))},openToast:function(e,t){$.open=!0,$.message=e,$.variant=t},closeToast:function(){$.open=!1}};typeof window<"u"&&(window.Buffer||(window.Buffer=c.lW),window.global||(window.global=window),window.process||(window.process={env:{}}),window.global||(window.global=window))},3089:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var r=n(1799);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?(0,r.P)(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}},3466:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(7762),i=n(3089),a=n(1799);function o(e,t){t||(t=e.reduce((function(e,t){return e+t.length}),0));var n,o=(0,i.E)(t),s=0,u=(0,r.Z)(e);try{for(u.s();!(n=u.n()).done;){var l=n.value;o.set(l,s),s+=l.length}}catch(c){u.e(c)}finally{u.f()}return(0,a.P)(o)}},6765:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(5297),i=n(1799);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",n=r.Z[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):(0,i.P)(globalThis.Buffer.from(e,"utf-8"))}},4301:function(e,t,n){"use strict";n.d(t,{BB:function(){return a.B},mL:function(){return i.m},zo:function(){return r.z}});var r=n(3466),i=n(6765),a=n(2051)},2051:function(e,t,n){"use strict";n.d(t,{B:function(){return i}});var r=n(5297);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",n=r.Z[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},1799:function(e,t,n){"use strict";function r(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}n.d(t,{P:function(){return r}})},5297:function(e,t,n){"use strict";n.d(t,{Z:function(){return ct}});var r={};n.r(r),n.d(r,{identity:function(){return I}});var i={};n.r(i),n.d(i,{base2:function(){return L}});var a={};n.r(a),n.d(a,{base8:function(){return Z}});var o={};n.r(o),n.d(o,{base10:function(){return O}});var s={};n.r(s),n.d(s,{base16:function(){return N},base16upper:function(){return U}});var u={};n.r(u),n.d(u,{base32:function(){return D},base32hex:function(){return j},base32hexpad:function(){return G},base32hexpadupper:function(){return W},base32hexupper:function(){return H},base32pad:function(){return F},base32padupper:function(){return z},base32upper:function(){return B},base32z:function(){return V}});var l={};n.r(l),n.d(l,{base36:function(){return q},base36upper:function(){return X}});var c={};n.r(c),n.d(c,{base58btc:function(){return Y},base58flickr:function(){return Q}});var f={};n.r(f),n.d(f,{base64:function(){return K},base64pad:function(){return J},base64url:function(){return $},base64urlpad:function(){return ee}});var d={};n.r(d),n.d(d,{base256emoji:function(){return ae}});var h={};n.r(h),n.d(h,{sha256:function(){return Ze},sha512:function(){return Oe}});var p={};n.r(p),n.d(p,{identity:function(){return Ue}});var v={};n.r(v),n.d(v,{code:function(){return Be},decode:function(){return ze},encode:function(){return Fe},name:function(){return De}});var m={};n.r(m),n.d(m,{code:function(){return We},decode:function(){return qe},encode:function(){return Ve},name:function(){return Ge}});var g=n(1413),y=n(4942),b=n(5671),w=n(3144);var x=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),o=a.charCodeAt(0);if(255!==n[o])throw new TypeError(a+" is ambiguous");n[o]=i}var s=e.length,u=e.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===u;)r++,t++;for(var a=(e.length-t)*l+1>>>0,o=new Uint8Array(a);e[t];){var c=n[e.charCodeAt(t)];if(255===c)return;for(var f=0,d=a-1;(0!==c||f<i)&&-1!==d;d--,f++)c+=s*o[d]>>>0,o[d]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var h=a-i;h!==a&&0===o[h];)h++;for(var p=new Uint8Array(r+(a-h)),v=r;h!==a;)p[v++]=o[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,a=t.length;i!==a&&0===t[i];)i++,n++;for(var o=(a-i)*c+1>>>0,l=new Uint8Array(o);i!==a;){for(var f=t[i],d=0,h=o-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*l[h]>>>0,l[h]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var v=u.repeat(n);p<o;++p)v+=e.charAt(l[p]);return v},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error("Non-".concat(t," character"))}}},_=x,S=(new Uint8Array(0),function(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}),E=function(){function e(t,n,r){(0,b.Z)(this,e),this.name=t,this.prefix=n,this.baseEncode=r}return(0,w.Z)(e,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),e}(),M=function(){function e(t,n,r){if((0,b.Z)(this,e),this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}return(0,w.Z)(e,[{key:"decode",value:function(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}},{key:"or",value:function(e){return k(this,e)}}]),e}(),A=function(){function e(t){(0,b.Z)(this,e),this.decoders=t}return(0,w.Z)(e,[{key:"or",value:function(e){return k(this,e)}},{key:"decode",value:function(e){var t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),e}(),k=function(e,t){return new A((0,g.Z)((0,g.Z)({},e.decoders||(0,y.Z)({},e.prefix,e)),t.decoders||(0,y.Z)({},t.prefix,t)))},T=function(){function e(t,n,r,i){(0,b.Z)(this,e),this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new E(t,n,r),this.decoder=new M(t,n,i)}return(0,w.Z)(e,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),e}(),C=function(e){var t=e.name,n=e.prefix,r=e.encode,i=e.decode;return new T(t,n,r,i)},P=function(e){var t=e.prefix,n=e.name,r=e.alphabet,i=_(r,n),a=i.encode,o=i.decode;return C({prefix:t,name:n,encode:a,decode:function(e){return S(o(e))}})},R=function(e){var t=e.name,n=e.prefix,r=e.bitsPerChar,i=e.alphabet;return C({prefix:n,name:t,encode:function(e){return function(e,t,n){for(var r="="===t[t.length-1],i=(1<<n)-1,a="",o=0,s=0,u=0;u<e.length;++u)for(s=s<<8|e[u],o+=8;o>n;)a+=t[i&s>>(o-=n)];if(o&&(a+=t[i&s<<n-o]),r)for(;a.length*n&7;)a+="=";return a}(e,i,r)},decode:function(e){return function(e,t,n,r){for(var i={},a=0;a<t.length;++a)i[t[a]]=a;for(var o=e.length;"="===e[o-1];)--o;for(var s=new Uint8Array(o*n/8|0),u=0,l=0,c=0,f=0;f<o;++f){var d=i[e[f]];if(void 0===d)throw new SyntaxError("Non-".concat(r," character"));l=l<<n|d,(u+=n)>=8&&(u-=8,s[c++]=255&l>>u)}if(u>=n||255&l<<8-u)throw new SyntaxError("Unexpected end of data");return s}(e,i,r,t)}})},I=C({prefix:"\0",name:"identity",encode:function(e){return t=e,(new TextDecoder).decode(t);var t},decode:function(e){return function(e){return(new TextEncoder).encode(e)}(e)}}),L=R({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Z=R({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),O=P({prefix:"9",name:"base10",alphabet:"0123456789"}),N=R({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),U=R({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),D=R({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),B=R({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),F=R({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),z=R({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),j=R({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),H=R({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),G=R({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),W=R({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),V=R({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),q=P({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),X=P({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Y=P({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Q=P({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),K=R({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),J=R({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$=R({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ee=R({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),te=n(7762),ne=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),re=ne.reduce((function(e,t,n){return e[n]=t,e}),[]),ie=ne.reduce((function(e,t,n){return e[t.codePointAt(0)]=n,e}),[]);var ae=C({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((function(e,t){return e+=re[t]}),"")},decode:function(e){var t,n=[],r=(0,te.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=ie[i.codePointAt(0)];if(void 0===a)throw new Error("Non-base256emoji character: ".concat(i));n.push(a)}}catch(o){r.e(o)}finally{r.f()}return new Uint8Array(n)}}),oe=n(4165),se=n(5861),ue=n(9439),le=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=de;)n[r++]=255&t|ce,t/=128;for(;t&fe;)n[r++]=255&t|ce,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},ce=128,fe=-128,de=Math.pow(2,31);var he=function e(t,n){var r,i=0,a=0,o=n=n||0,s=t.length;do{if(o>=s)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=a<28?(r&ve)<<a:(r&ve)*Math.pow(2,a),a+=7}while(r>=pe);return e.bytes=o-n,i},pe=128,ve=127;var me=Math.pow(2,7),ge=Math.pow(2,14),ye=Math.pow(2,21),be=Math.pow(2,28),we=Math.pow(2,35),xe=Math.pow(2,42),_e=Math.pow(2,49),Se=Math.pow(2,56),Ee=Math.pow(2,63),Me={encode:le,decode:he,encodingLength:function(e){return e<me?1:e<ge?2:e<ye?3:e<be?4:e<we?5:e<xe?6:e<_e?7:e<Se?8:e<Ee?9:10}},Ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[Me.decode(e,t),Me.decode.bytes]},ke=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Me.encode(e,t,n),t},Te=function(e){return Me.encodingLength(e)},Ce=function(e,t){var n=t.byteLength,r=Te(e),i=r+Te(n),a=new Uint8Array(i+n);return ke(e,a,0),ke(n,a,r),a.set(t,i),new Pe(e,n,t,a)},Pe=(0,w.Z)((function e(t,n,r,i){(0,b.Z)(this,e),this.code=t,this.size=n,this.digest=r,this.bytes=i})),Re=function(e){var t=e.name,n=e.code,r=e.encode;return new Ie(t,n,r)},Ie=function(){function e(t,n,r){(0,b.Z)(this,e),this.name=t,this.code=n,this.encode=r}return(0,w.Z)(e,[{key:"digest",value:function(e){var t=this;if(e instanceof Uint8Array){var n=this.encode(e);return n instanceof Uint8Array?Ce(this.code,n):n.then((function(e){return Ce(t.code,e)}))}throw Error("Unknown type, must be binary type")}}]),e}(),Le=function(e){return function(){var t=(0,se.Z)((0,oe.Z)().mark((function t(n){return(0,oe.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Uint8Array,t.next=3,crypto.subtle.digest(e,n);case 3:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ze=Re({name:"sha2-256",code:18,encode:Le("SHA-256")}),Oe=Re({name:"sha2-512",code:19,encode:Le("SHA-512")}),Ne=S,Ue={code:0,name:"identity",encode:Ne,digest:function(e){return Ce(0,Ne(e))}},De="raw",Be=85,Fe=function(e){return S(e)},ze=function(e){return S(e)},je=new TextEncoder,He=new TextDecoder,Ge="json",We=512,Ve=function(e){return je.encode(JSON.stringify(e))},qe=function(e){return JSON.parse(He.decode(e))},Xe=(Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),function(e,t){switch(e[0]){case"Q":var n=t||Y;return[Y.prefix,n.decode("".concat(Y.prefix).concat(e))];case Y.prefix:var r=t||Y;return[Y.prefix,r.decode(e)];case D.prefix:var i=t||D;return[D.prefix,i.decode(e)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}),Ye=function(e,t,n){var r=n.prefix;if(r!==Y.prefix)throw Error("Cannot string encode V0 in ".concat(n.name," encoding"));var i=t.get(r);if(null==i){var a=n.encode(e).slice(1);return t.set(r,a),a}return i},Qe=function(e,t,n){var r=n.prefix,i=t.get(r);if(null==i){var a=n.encode(e);return t.set(r,a),a}return i},Ke=112,Je=18,$e=function(e,t,n){var r=Te(e),i=r+Te(t),a=new Uint8Array(i+n.byteLength);return ke(e,a,0),ke(t,a,r),a.set(n,i),a},et=Symbol.for("@ipld/js-cid/CID"),tt={writable:!1,configurable:!1,enumerable:!0},nt={writable:!1,enumerable:!1,configurable:!1},rt=function(e,t){if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},it="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n",at=(0,g.Z)((0,g.Z)((0,g.Z)((0,g.Z)((0,g.Z)((0,g.Z)((0,g.Z)((0,g.Z)((0,g.Z)((0,g.Z)({},r),i),a),o),s),u),l),c),f),d),ot=((0,g.Z)((0,g.Z)({},h),p),n(3089));function st(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}var ut=st("utf8","u",(function(e){return"u"+new TextDecoder("utf8").decode(e)}),(function(e){return(new TextEncoder).encode(e.substring(1))})),lt=st("ascii","a",(function(e){for(var t="a",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(function(e){e=e.substring(1);for(var t=(0,ot.E)(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),ct=(0,g.Z)({utf8:ut,"utf-8":ut,hex:at.base16,latin1:lt,ascii:lt,binary:lt},at)},1631:function(e,t,n){"use strict";n.d(t,{sj:function(){return m},CO:function(){return y},Ld:function(){return g}});var r=n(3433),i=n(9439),a=(Symbol(),Symbol()),o=Object.getPrototypeOf,s=new WeakMap,u=function(e){return e&&(s.has(e)?s.get(e):o(e)===Object.prototype||o(e)===Array.prototype)},l=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s.set(e,t)},c=function(e){return"object"===typeof e&&null!==e},f=new WeakMap,d=new WeakSet,h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.is,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return new Proxy(e,t)},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return c(e)&&!d.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new WeakMap,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,r=s.get(e);if((null==r?void 0:r[0])===t)return r[1];var a=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return l(a,!0),s.set(e,[t,a]),Reflect.ownKeys(e).forEach((function(t){if(!Object.getOwnPropertyDescriptor(a,t)){var r=Reflect.get(e,t),o={value:r,enumerable:!0,configurable:!0};if(d.has(r))l(r,!1);else if(r instanceof Promise)delete o.value,o.get=function(){return n(r)};else if(f.has(r)){var s=f.get(r),u=(0,i.Z)(s,2),c=u[0],p=u[1];o.value=h(c,p(),n)}Object.defineProperty(a,t,o)}})),a},p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new WeakMap,v=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[1,1],m=arguments.length>8&&void 0!==arguments[8]?arguments[8]:function(o){if(!c(o))throw new Error("object required");var s=p.get(o);if(s)return s;var l=v[0],g=new Set,y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:++v[0];l!==t&&(l=t,g.forEach((function(n){return n(e,t)})))},b=v[1],w=function(e){return function(t,n){var i=(0,r.Z)(t);i[1]=[e].concat((0,r.Z)(i[1])),y(i,n)}},x=new Map,_=function(e){var t,n=x.get(e);n&&(x.delete(e),null==(t=n[1])||t.call(n))},S=Array.isArray(o)?[]:Object.create(Object.getPrototypeOf(o)),E={deleteProperty:function(e,t){var n=Reflect.get(e,t);_(t);var r=Reflect.deleteProperty(e,t);return r&&y(["delete",[t],n]),r},set:function(t,r,i,o){var s=Reflect.has(t,r),l=Reflect.get(t,r,o);if(s&&(e(l,i)||p.has(i)&&e(l,p.get(i))))return!0;_(r),c(i)&&(i=function(e){return u(e)&&e[a]||null}(i)||i);var h=i;if(i instanceof Promise)i.then((function(e){i.status="fulfilled",i.value=e,y(["resolve",[r],e])})).catch((function(e){i.status="rejected",i.reason=e,y(["reject",[r],e])}));else{!f.has(i)&&n(i)&&(h=m(i));var v=!d.has(h)&&f.get(h);v&&function(e,t){if(x.has(e))throw new Error("prop listener already exists");if(g.size){var n=t[3](w(e));x.set(e,[t,n])}else x.set(e,[t])}(r,v)}return Reflect.set(t,r,h,o),y(["set",[r],i,l]),!0}},M=t(S,E);p.set(o,M);var A=[S,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:++v[1];return b===e||g.size||(b=e,x.forEach((function(t){var n=(0,i.Z)(t,1)[0][1](e);n>l&&(l=n)}))),l},h,function(e){g.add(e),1===g.size&&x.forEach((function(e,t){var n=(0,i.Z)(e,2),r=n[0];if(n[1])throw new Error("remove already exists");var a=r[3](w(t));x.set(t,[r,a])}));return function(){g.delete(e),0===g.size&&x.forEach((function(e,t){var n=(0,i.Z)(e,2),r=n[0],a=n[1];a&&(a(),x.set(t,[r]))}))}}];return f.set(M,A),Reflect.ownKeys(o).forEach((function(e){var t=Object.getOwnPropertyDescriptor(o,e);"value"in t&&(M[e]=o[e],delete t.value,delete t.writable),Object.defineProperty(S,e,t)})),M};return[m,f,d,e,t,n,o,s,h,p,v]},p=h(),v=(0,i.Z)(p,1)[0];function m(){return v(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function g(e,t,n){var r,i=f.get(e);i||console.warn("Please use proxy object");var a=[],o=i[3],s=!1,u=o((function(e){a.push(e),n?t(a.splice(0)):r||(r=Promise.resolve().then((function(){r=void 0,s&&t(a.splice(0))})))}));return s=!0,function(){s=!1,u()}}function y(e,t){var n=f.get(e);n||console.warn("Please use proxy object");var r=(0,i.Z)(n,3),a=r[0],o=r[1];return(0,r[2])(a,o(),t)}},937:function(e,t,n){"use strict";function r(e){return"string"===typeof e?{address:e,type:"json-rpc"}:e}n.d(t,{T:function(){return r}})},6218:function(e,t,n){"use strict";n.d(t,{R:function(){return k}});var r=n(9439),i=n(4165),a=n(1413),o=n(4925),s=n(5861),u=n(937),l=n(6373),c="0x82ad56cb",f=n(8970),d=n(6289),h=n(8553),p=n(3740),v=n(9273),m=n(4094),g=n(5119),y=n(667),b=["docsPath"];function w(e,t){var n=t.docsPath,r=(0,o.Z)(t,b),i=e;return(0,y.B)(e)&&(i=(0,y.k)(e,r)),new h.cg(i,(0,a.Z)({docsPath:n},r))}var x=n(3670),_=n(267),S=n(9558),E=n(6889),M=["data","to"],A=["account","batch","blockNumber","blockTag","accessList","data","gas","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","value"];function k(e,t){return T.apply(this,arguments)}function T(){return(T=(0,s.Z)((0,i.Z)().mark((function e(t,r){var s,l,c,f,h,p,v,m,y,b,S,M,k,T,R,L,Z,O,N,U,D,B,F,z,j,H,G,W;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=r.account,c=r.batch,f=void 0===c?Boolean(null===(s=t.batch)||void 0===s?void 0:s.multicall):c,h=r.blockNumber,p=r.blockTag,v=void 0===p?"latest":p,m=r.accessList,y=r.data,b=r.gas,S=r.gasPrice,M=r.maxFeePerGas,k=r.maxPriorityFeePerGas,T=r.nonce,R=r.to,L=r.value,Z=(0,o.Z)(r,A),O=l?(0,u.T)(l):void 0,e.prev=2,(0,E.F)(r),U=h?(0,g.eC)(h):void 0,D=U||v,B=(null===(N=t.chain)||void 0===N||null===(N=N.formatters)||void 0===N||null===(N=N.transactionRequest)||void 0===N?void 0:N.format)||_.t,F=B((0,a.Z)((0,a.Z)({},(0,x.K)(Z,{format:B})),{},{from:null===O||void 0===O?void 0:O.address,accessList:m,data:y,gas:b,gasPrice:S,maxFeePerGas:M,maxPriorityFeePerGas:k,nonce:T,to:R,value:L})),!f||!C({request:F})){e.next=19;break}return e.prev=9,e.next=12,P(t,(0,a.Z)((0,a.Z)({},F),{},{blockNumber:h,blockTag:v}));case 12:return e.abrupt("return",e.sent);case 15:if(e.prev=15,e.t0=e.catch(9),e.t0 instanceof d.pZ||e.t0 instanceof d.mm){e.next=19;break}throw e.t0;case 19:return e.next=21,t.request({method:"eth_call",params:D?[F,D]:[F]});case 21:if("0x"!==(z=e.sent)){e.next=24;break}return e.abrupt("return",{data:void 0});case 24:return e.abrupt("return",{data:z});case 27:return e.prev=27,e.t1=e.catch(2),j=I(e.t1),e.next=32,n.e(208).then(n.bind(n,9208));case 32:if(H=e.sent,G=H.offchainLookup,W=H.offchainLookupSignature,(null===j||void 0===j?void 0:j.slice(0,10))!==W||!R){e.next=40;break}return e.next=38,G(t,{data:j,to:R});case 38:return e.t2=e.sent,e.abrupt("return",{data:e.t2});case 40:throw w(e.t1,(0,a.Z)((0,a.Z)({},r),{},{account:O,chain:t.chain}));case 41:case"end":return e.stop()}}),e,null,[[2,27],[9,15]])})))).apply(this,arguments)}function C(e){var t=e.request,n=t.data,r=t.to,i=(0,o.Z)(t,M);return!!n&&(!n.startsWith(c)&&(!!r&&!(Object.values(i).filter((function(e){return"undefined"!==typeof e})).length>0)))}function P(e,t){return R.apply(this,arguments)}function R(){return R=(0,s.Z)((0,i.Z)().mark((function e(t,n){var a,o,u,c,f,y,b,w,x,_,E,M,A,k,T,C,P,R,I,L,Z;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o="object"===typeof(null===(a=t.batch)||void 0===a?void 0:a.multicall)?t.batch.multicall:{},u=o.batchSize,c=void 0===u?1024:u,f=o.wait,y=void 0===f?0:f,b=n.blockNumber,w=n.blockTag,x=void 0===w?"latest":w,_=n.data,E=n.multicallAddress,M=n.to,A=E){e.next=7;break}if(t.chain){e.next=6;break}throw new d.pZ;case 6:A=(0,m.LI)({blockNumber:b,chain:t.chain,contract:"multicall3"});case 7:return k=b?(0,g.eC)(b):void 0,T=k||x,C=(0,S.S)({id:"".concat(t.uid,".").concat(T),wait:y,shouldSplitBatch:function(e){return e.reduce((function(e,t){return e+(t.data.length-2)}),0)>2*c},fn:function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var r,a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map((function(e){return{allowFailure:!0,callData:e.data,target:e.to}})),a=(0,v.R)({abi:l.F8,args:[r],functionName:"aggregate3"}),e.next=4,t.request({method:"eth_call",params:[{data:a,to:A},T]});case 4:return o=e.sent,e.abrupt("return",(0,p.k)({abi:l.F8,args:[r],functionName:"aggregate3",data:o||"0x"}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),P=C.schedule,e.next=12,P({data:_,to:M});case 12:if(R=e.sent,I=(0,r.Z)(R,1),L=I[0],Z=L.returnData,L.success){e.next=19;break}throw new h.VQ({data:Z});case 19:if("0x"!==Z){e.next=21;break}return e.abrupt("return",{data:void 0});case 21:return e.abrupt("return",{data:Z});case 22:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function I(e){if(e instanceof f.G){var t=e.walk();return"object"===typeof t.data?t.data.data:t.data}}},6373:function(e,t,n){"use strict";n.d(t,{$o:function(){return s},Ei:function(){return o},F8:function(){return r},lD:function(){return i},nZ:function(){return a}});var r=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],i=[{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],a=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],o=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]}],s=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}]},3027:function(e,t,n){"use strict";n.d(t,{$:function(){return r},Up:function(){return i},hZ:function(){return a}});var r={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},i={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},a={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},4542:function(e,t,n){"use strict";n.d(t,{Bd:function(){return a},Zn:function(){return i},ez:function(){return r}});var r={gwei:9,wei:18},i={ether:-9,wei:9},a={ether:-18,gwei:-9}},1529:function(e,t,n){"use strict";n.d(t,{CI:function(){return T},FM:function(){return b},Gy:function(){return A},KY:function(){return E},M4:function(){return m},MX:function(){return S},SM:function(){return M},cO:function(){return d},dh:function(){return k},fM:function(){return f},fs:function(){return g},gr:function(){return v},hn:function(){return C},lC:function(){return w},mv:function(){return x},wM:function(){return P},wb:function(){return p},xB:function(){return h},xL:function(){return _},yP:function(){return y}});var r=n(3144),i=n(5671),a=n(7326),o=n(136),s=n(9388),u=n(4627),l=n(2975),c=n(8970),f=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.docsPath;return(0,i.Z)(this,n),r=t.call(this,["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:o}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"}),r}return(0,r.Z)(n)}(c.G),d=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.docsPath;return(0,i.Z)(this,n),r=t.call(this,["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:o}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"}),r}return(0,r.Z)(n)}(c.G),h=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.data,s=e.params,l=e.size;return(0,i.Z)(this,n),r=t.call(this,["Data size of ".concat(l," bytes is too small for given parameters.")].join("\n"),{metaMessages:["Params: (".concat((0,u.h)(s,{includeName:!0}),")"),"Data:   ".concat(o," (").concat(l," bytes)")]}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty((0,a.Z)(r),"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,a.Z)(r),"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,a.Z)(r),"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.data=o,r.params=s,r.size=l,r}return(0,r.Z)(n)}(c.G),p=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,i.Z)(this,n),e=t.call(this,'Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty((0,a.Z)(e),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"}),e}return(0,r.Z)(n)}(c.G),v=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.expectedLength,s=e.givenLength,u=e.type;return(0,i.Z)(this,n),r=t.call(this,["ABI encoding array length mismatch for type ".concat(u,"."),"Expected length: ".concat(o),"Given length: ".concat(s)].join("\n")),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"}),r}return(0,r.Z)(n)}(c.G),m=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.expectedSize,s=e.value;return(0,i.Z)(this,n),r=t.call(this,'Size of bytes "'.concat(s,'" (bytes').concat((0,l.d)(s),") does not match expected size (bytes").concat(o,").")),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"}),r}return(0,r.Z)(n)}(c.G),g=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.expectedLength,s=e.givenLength;return(0,i.Z)(this,n),r=t.call(this,["ABI encoding params/values length mismatch.","Expected length (params): ".concat(o),"Given length (values): ".concat(s)].join("\n")),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"}),r}return(0,r.Z)(n)}(c.G),y=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,r){var o,s=r.docsPath;return(0,i.Z)(this,n),o=t.call(this,['Encoded error signature "'.concat(e,'" not found on ABI.'),"Make sure you are using the correct ABI and that the error exists on it.","You can look up the signature here: https://openchain.xyz/signatures?query=".concat(e,".")].join("\n"),{docsPath:s}),Object.defineProperty((0,a.Z)(o),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),o}return(0,r.Z)(n)}(c.G),b=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.docsPath;return(0,i.Z)(this,n),r=t.call(this,"Cannot extract event signature from empty topics.",{docsPath:o}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"}),r}return(0,r.Z)(n)}(c.G),w=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,r){var o,s=r.docsPath;return(0,i.Z)(this,n),o=t.call(this,['Encoded event signature "'.concat(e,'" not found on ABI.'),"Make sure you are using the correct ABI and that the event exists on it.","You can look up the signature here: https://openchain.xyz/signatures?query=".concat(e,".")].join("\n"),{docsPath:s}),Object.defineProperty((0,a.Z)(o),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"}),o}return(0,r.Z)(n)}(c.G),x=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).docsPath;return(0,i.Z)(this,n),r=t.call(this,["Event ".concat(e?'"'.concat(e,'" '):"","not found on ABI."),"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:o}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"}),r}return(0,r.Z)(n)}(c.G),_=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).docsPath;return(0,i.Z)(this,n),r=t.call(this,["Function ".concat(e?'"'.concat(e,'" '):"","not found on ABI."),"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:o}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"}),r}return(0,r.Z)(n)}(c.G),S=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,r){var o,s=r.docsPath;return(0,i.Z)(this,n),o=t.call(this,['Function "'.concat(e,'" does not contain any `outputs` on ABI.'),"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:s}),Object.defineProperty((0,a.Z)(o),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"}),o}return(0,r.Z)(n)}(c.G),E=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.expectedSize,s=e.givenSize;return(0,i.Z)(this,n),r=t.call(this,"Expected bytes".concat(o,", got bytes").concat(s,".")),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"}),r}return(0,r.Z)(n)}(c.G),M=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.abiItem,s=e.data,l=e.params,c=e.size;return(0,i.Z)(this,n),r=t.call(this,["Data size of ".concat(c," bytes is too small for non-indexed event parameters.")].join("\n"),{metaMessages:["Params: (".concat((0,u.h)(l,{includeName:!0}),")"),"Data:   ".concat(s," (").concat(c," bytes)")]}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty((0,a.Z)(r),"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,a.Z)(r),"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,a.Z)(r),"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,a.Z)(r),"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.abiItem=o,r.data=s,r.params=l,r.size=c,r}return(0,r.Z)(n)}(c.G),A=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.abiItem,s=e.param;return(0,i.Z)(this,n),r=t.call(this,["Expected a topic for indexed event parameter".concat(s.name?' "'.concat(s.name,'"'):"",' on event "').concat((0,u.t)(o,{includeName:!0}),'".')].join("\n")),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty((0,a.Z)(r),"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.abiItem=o,r}return(0,r.Z)(n)}(c.G),k=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,r){var o,s=r.docsPath;return(0,i.Z)(this,n),o=t.call(this,['Type "'.concat(e,'" is not a valid encoding type.'),"Please provide a valid ABI type."].join("\n"),{docsPath:s}),Object.defineProperty((0,a.Z)(o),"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"}),o}return(0,r.Z)(n)}(c.G),T=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,r){var o,s=r.docsPath;return(0,i.Z)(this,n),o=t.call(this,['Type "'.concat(e,'" is not a valid decoding type.'),"Please provide a valid ABI type."].join("\n"),{docsPath:s}),Object.defineProperty((0,a.Z)(o),"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"}),o}return(0,r.Z)(n)}(c.G),C=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,['Value "'.concat(e,'" is not a valid array.')].join("\n")),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"}),r}return(0,r.Z)(n)}(c.G),P=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,['"'.concat(e,'" is not a valid definition type.'),'Valid types: "function", "event", "error"'].join("\n")),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"}),r}return(0,r.Z)(n)}(c.G)},7915:function(e,t,n){"use strict";n.d(t,{b:function(){return u}});var r=n(3144),i=n(5671),a=n(7326),o=n(136),s=n(9388),u=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.address;return(0,i.Z)(this,n),r=t.call(this,'Address "'.concat(o,'" is invalid.')),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"}),r}return(0,r.Z)(n)}(n(8970).G)},8970:function(e,t,n){"use strict";n.d(t,{G:function(){return f}});var r=n(3433),i=n(5671),a=n(3144),o=n(7326),s=n(136),u=n(9388),l=n(8664),c=n(6820),f=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var a,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Z)(this,n),s=t.call(this),Object.defineProperty((0,o.Z)(s),"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,o.Z)(s),"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,o.Z)(s),"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,o.Z)(s),"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,o.Z)(s),"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty((0,o.Z)(s),"version",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.bo)()});var l=u.cause instanceof n?u.cause.details:null!==(a=u.cause)&&void 0!==a&&a.message?u.cause.message:u.details,f=u.cause instanceof n&&u.cause.docsPath||u.docsPath;return s.message=[e||"An error occurred.",""].concat((0,r.Z)(u.metaMessages?[].concat((0,r.Z)(u.metaMessages),[""]):[]),(0,r.Z)(f?["Docs: https://viem.sh".concat(f,".html").concat(u.docsSlug?"#".concat(u.docsSlug):"")]:[]),(0,r.Z)(l?["Details: ".concat(l)]:[]),["Version: ".concat(s.version)]).join("\n"),u.cause&&(s.cause=u.cause),s.details=l,s.docsPath=f,s.metaMessages=u.metaMessages,s.shortMessage=e,s}return(0,a.Z)(n,[{key:"walk",value:function(e){return d(this,e)}}]),n}((0,l.Z)(Error));function d(e,t){return null!==t&&void 0!==t&&t(e)?e:e.cause?d(e.cause,t):e}},6289:function(e,t,n){"use strict";n.d(t,{Bk:function(){return d},Yl:function(){return f},hJ:function(){return p},mm:function(){return c},pZ:function(){return h}});var r=n(3433),i=n(3144),a=n(5671),o=n(7326),s=n(136),u=n(9388),l=n(8970),c=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var i,s=e.blockNumber,u=e.chain,l=e.contract;return(0,a.Z)(this,n),i=t.call(this,'Chain "'.concat(u.name,'" does not support contract "').concat(l.name,'".'),{metaMessages:["This could be due to any of the following:"].concat((0,r.Z)(s&&l.blockCreated&&l.blockCreated>s?['- The contract "'.concat(l.name,'" was not deployed until block ').concat(l.blockCreated," (current block ").concat(s,").")]:['- The chain does not have the contract "'.concat(l.name,'" configured.')]))}),Object.defineProperty((0,o.Z)(i),"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"}),i}return(0,i.Z)(n)}(l.G),f=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r,i=e.chain,s=e.currentChainId;return(0,a.Z)(this,n),r=t.call(this,"The current chain of the wallet (id: ".concat(s,") does not match the target chain for the transaction (id: ").concat(i.id," \u2013 ").concat(i.name,")."),{metaMessages:["Current Chain ID:  ".concat(s),"Expected Chain ID: ".concat(i.id," \u2013 ").concat(i.name)]}),Object.defineProperty((0,o.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"}),r}return(0,i.Z)(n)}(l.G),d=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,a.Z)(this,n),e=t.call(this,["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n")),Object.defineProperty((0,o.Z)(e),"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"}),e}return(0,i.Z)(n)}(l.G),h=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,a.Z)(this,n),e=t.call(this,"No chain was provided to the Client."),Object.defineProperty((0,o.Z)(e),"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"}),e}return(0,i.Z)(n)}(l.G),p=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r,i=e.chainId;return(0,a.Z)(this,n),r=t.call(this,'Chain ID "'.concat(i,'" is invalid.')),Object.defineProperty((0,o.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"}),r}return(0,i.Z)(n)}(l.G)},8553:function(e,t,n){"use strict";n.d(t,{cg:function(){return _},uq:function(){return S},Lu:function(){return E},Dk:function(){return M},VQ:function(){return A}});var r=n(9439),i=n(3433),a=n(3144),o=n(5671),s=n(7326),u=n(136),l=n(9388),c=n(937),f=n(3027),d=n(903),h=n(4627),p=n(197);function v(e){var t=e.abiItem,n=e.args,r=e.includeFunctionName,i=void 0===r||r,a=e.includeName,o=void 0!==a&&a;if("name"in t&&"inputs"in t&&t.inputs)return"".concat(i?t.name:"","(").concat(t.inputs.map((function(e,t){return"".concat(o&&e.name?"".concat(e.name,": "):"").concat("object"===typeof n[t]?(0,p.P)(n[t]):n[t])})).join(", "),")")}var m=n(8850),g=n(251),y=n(5514),b=n(8970),w=n(902),x=n(6820),_=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var a,u=r.account,l=r.docsPath,f=r.chain,d=r.data,h=r.gas,p=r.gasPrice,v=r.maxFeePerGas,m=r.maxPriorityFeePerGas,b=r.nonce,x=r.to,_=r.value;(0,o.Z)(this,n);var S=u?(0,c.T)(u):void 0,E=(0,w.xr)({from:null===S||void 0===S?void 0:S.address,to:x,value:"undefined"!==typeof _&&"".concat((0,g.d)(_)," ").concat((null===f||void 0===f?void 0:f.nativeCurrency.symbol)||"ETH"),data:d,gas:h,gasPrice:"undefined"!==typeof p&&"".concat((0,y.o)(p)," gwei"),maxFeePerGas:"undefined"!==typeof v&&"".concat((0,y.o)(v)," gwei"),maxPriorityFeePerGas:"undefined"!==typeof m&&"".concat((0,y.o)(m)," gwei"),nonce:b});return a=t.call(this,e.shortMessage,{cause:e,docsPath:l,metaMessages:[].concat((0,i.Z)(e.metaMessages?[].concat((0,i.Z)(e.metaMessages),[" "]):[]),["Raw Call Arguments:",E]).filter(Boolean)}),Object.defineProperty((0,s.Z)(a),"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,s.Z)(a),"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),a.cause=e,a}return(0,a.Z)(n)}(b.G),S=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var a,u,l=r.abi,c=r.args,f=r.contractAddress,d=r.docsPath,p=r.functionName,g=r.sender;(0,o.Z)(this,n);var y=(0,m.m)({abi:l,args:c,name:p}),b=y?v({abiItem:y,args:c,includeFunctionName:!1,includeName:!1}):void 0,_=y?(0,h.t)(y,{includeName:!0}):void 0,S=(0,w.xr)({address:f&&(0,x.CR)(f),function:_,args:b&&"()"!==b&&"".concat((0,i.Z)(Array(null!==(a=null===p||void 0===p?void 0:p.length)&&void 0!==a?a:0).keys()).map((function(){return" "})).join("")).concat(b),sender:g});return u=t.call(this,e.shortMessage||'An unknown error occurred while executing the contract function "'.concat(p,'".'),{cause:e,docsPath:d,metaMessages:[].concat((0,i.Z)(e.metaMessages?[].concat((0,i.Z)(e.metaMessages),[" "]):[]),["Contract Call:",S]).filter(Boolean)}),Object.defineProperty((0,s.Z)(u),"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,s.Z)(u),"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,s.Z)(u),"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,s.Z)(u),"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,s.Z)(u),"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,s.Z)(u),"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,s.Z)(u),"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,s.Z)(u),"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),u.abi=l,u.args=c,u.cause=e,u.contractAddress=f,u.functionName=p,u.sender=g,u}return(0,a.Z)(n)}(b.G),E=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var a,u=e.abi,l=e.data,c=e.functionName,p=e.message;(0,o.Z)(this,n);var m,g,y=void 0;if(l&&"0x"!==l){var b=y=(0,d.p)({abi:u,data:l}),w=b.abiItem,x=b.errorName,_=b.args;if("Error"===x)g=_[0];else if("Panic"===x){var S=(0,r.Z)(_,1)[0];g=f.$[S]}else{var E,M=w?(0,h.t)(w,{includeName:!0}):void 0,A=w&&_?v({abiItem:w,args:_,includeFunctionName:!1,includeName:!1}):void 0;m=[M?"Error: ".concat(M):"",A&&"()"!==A?"       ".concat((0,i.Z)(Array(null!==(E=null===x||void 0===x?void 0:x.length)&&void 0!==E?E:0).keys()).map((function(){return" "})).join("")).concat(A):""]}}else p&&(g=p);return a=t.call(this,g&&"execution reverted"!==g?['The contract function "'.concat(c,'" reverted with the following reason:'),g].join("\n"):'The contract function "'.concat(c,'" reverted.'),{metaMessages:m}),Object.defineProperty((0,s.Z)(a),"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty((0,s.Z)(a),"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,s.Z)(a),"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a.reason=g,a.data=y,a}return(0,a.Z)(n)}(b.G),M=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r,i=e.functionName;return(0,o.Z)(this,n),r=t.call(this,'The contract function "'.concat(i,'" returned no data ("0x").'),{metaMessages:["This could be due to any of the following:",'  - The contract does not have the function "'.concat(i,'",'),"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty((0,s.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"}),r}return(0,a.Z)(n)}(b.G),A=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r,i=e.data,a=e.message;return(0,o.Z)(this,n),r=t.call(this,a||""),Object.defineProperty((0,s.Z)(r),"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty((0,s.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty((0,s.Z)(r),"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.data=i,r}return(0,a.Z)(n)}(b.G)},242:function(e,t,n){"use strict";n.d(t,{$:function(){return c},m:function(){return l}});var r=n(3144),i=n(5671),a=n(7326),o=n(136),s=n(9388),u=n(8970),l=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.offset,s=e.position,u=e.size;return(0,i.Z)(this,n),r=t.call(this,"Slice ".concat("start"===s?"starting":"ending",' at offset "').concat(o,'" is out-of-bounds (size: ').concat(u,").")),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"}),r}return(0,r.Z)(n)}(u.G),c=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.size,s=e.targetSize,u=e.type;return(0,i.Z)(this,n),r=t.call(this,"".concat(u.charAt(0).toUpperCase()).concat(u.slice(1).toLowerCase()," size (").concat(o,") exceeds padding size (").concat(s,").")),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"}),r}return(0,r.Z)(n)}(u.G)},8821:function(e,t,n){"use strict";n.d(t,{Cd:function(){return c},J5:function(){return l},M6:function(){return f}});var r=n(3144),i=n(5671),a=n(7326),o=n(136),s=n(9388),u=n(8970),l=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.max,s=e.min,u=e.signed,l=e.size,c=e.value;return(0,i.Z)(this,n),r=t.call(this,'Number "'.concat(c,'" is not in safe ').concat(l?"".concat(8*l,"-bit ").concat(u?"signed":"unsigned"," "):"","integer range ").concat(o?"(".concat(s," to ").concat(o,")"):"(above ".concat(s,")"))),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"}),r}return(0,r.Z)(n)}(u.G),c=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,'Hex value "'.concat(e,'" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).')),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"}),r}return(0,r.Z)(n)}(u.G),f=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.givenSize,s=e.maxSize;return(0,i.Z)(this,n),r=t.call(this,"Size cannot exceed ".concat(s," bytes. Given size: ").concat(o," bytes.")),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"}),r}return(0,r.Z)(n)}(u.G)},341:function(e,t,n){"use strict";n.d(t,{C_:function(){return m},G$:function(){return d},Hh:function(){return f},M_:function(){return c},WF:function(){return g},ZI:function(){return h},cj:function(){return x},cs:function(){return w},dR:function(){return y},pZ:function(){return b},se:function(){return v},vU:function(){return p}});var r=n(3144),i=n(5671),a=n(7326),o=n(136),s=n(9388),u=n(5514),l=n(8970),c=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=o.cause,u=o.message;(0,i.Z)(this,n);var l=null===u||void 0===u||null===(e=u.replace("execution reverted: ",""))||void 0===e?void 0:e.replace("execution reverted","");return r=t.call(this,"Execution reverted ".concat(l?"with reason: ".concat(l):"for an unknown reason","."),{cause:s}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"}),r}return(0,r.Z)(n)}(l.G);Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});var f=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.cause,s=r.maxFeePerGas;return(0,i.Z)(this,n),e=t.call(this,"The fee cap (`maxFeePerGas`".concat(s?" = ".concat((0,u.o)(s)," gwei"):"",") cannot be higher than the maximum allowed value (2^256-1)."),{cause:o}),Object.defineProperty((0,a.Z)(e),"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"}),e}return(0,r.Z)(n)}(l.G);Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});var d=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.cause,s=r.maxFeePerGas;return(0,i.Z)(this,n),e=t.call(this,"The fee cap (`maxFeePerGas`".concat(s?" = ".concat((0,u.o)(s)):""," gwei) cannot be lower than the block base fee."),{cause:o}),Object.defineProperty((0,a.Z)(e),"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"}),e}return(0,r.Z)(n)}(l.G);Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});var h=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.cause,s=r.nonce;return(0,i.Z)(this,n),e=t.call(this,"Nonce provided for the transaction ".concat(s?"(".concat(s,") "):"","is higher than the next one expected."),{cause:o}),Object.defineProperty((0,a.Z)(e),"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"}),e}return(0,r.Z)(n)}(l.G);Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});var p=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.cause,s=r.nonce;return(0,i.Z)(this,n),e=t.call(this,["Nonce provided for the transaction ".concat(s?"(".concat(s,") "):"","is lower than the current nonce of the account."),"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:o}),Object.defineProperty((0,a.Z)(e),"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"}),e}return(0,r.Z)(n)}(l.G);Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported/});var v=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.cause,s=r.nonce;return(0,i.Z)(this,n),e=t.call(this,"Nonce provided for the transaction ".concat(s?"(".concat(s,") "):"","exceeds the maximum allowed nonce."),{cause:o}),Object.defineProperty((0,a.Z)(e),"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"}),e}return(0,r.Z)(n)}(l.G);Object.defineProperty(v,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});var m=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).cause;return(0,i.Z)(this,n),e=t.call(this,["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:r,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty((0,a.Z)(e),"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"}),e}return(0,r.Z)(n)}(l.G);Object.defineProperty(m,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});var g=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.cause,s=r.gas;return(0,i.Z)(this,n),e=t.call(this,"The amount of gas ".concat(s?"(".concat(s,") "):"","provided for the transaction exceeds the limit allowed for the block."),{cause:o}),Object.defineProperty((0,a.Z)(e),"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"}),e}return(0,r.Z)(n)}(l.G);Object.defineProperty(g,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});var y=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.cause,s=r.gas;return(0,i.Z)(this,n),e=t.call(this,"The amount of gas ".concat(s?"(".concat(s,") "):"","provided for the transaction is too low."),{cause:o}),Object.defineProperty((0,a.Z)(e),"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"}),e}return(0,r.Z)(n)}(l.G);Object.defineProperty(y,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});var b=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.cause;return(0,i.Z)(this,n),r=t.call(this,"The transaction type is not supported for this chain.",{cause:o}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"}),r}return(0,r.Z)(n)}(l.G);Object.defineProperty(b,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});var w=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.cause,s=r.maxPriorityFeePerGas,l=r.maxFeePerGas;return(0,i.Z)(this,n),e=t.call(this,["The provided tip (`maxPriorityFeePerGas`".concat(s?" = ".concat((0,u.o)(s)," gwei"):"",") cannot be higher than the fee cap (`maxFeePerGas`").concat(l?" = ".concat((0,u.o)(l)," gwei"):"",").")].join("\n"),{cause:o}),Object.defineProperty((0,a.Z)(e),"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"}),e}return(0,r.Z)(n)}(l.G);Object.defineProperty(w,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});var x=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.cause;return(0,i.Z)(this,n),r=t.call(this,"An error occurred while executing: ".concat(null===o||void 0===o?void 0:o.message),{cause:o}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"}),r}return(0,r.Z)(n)}(l.G)},6195:function(e,t,n){"use strict";n.d(t,{Gg:function(){return f},W5:function(){return p},bs:function(){return h},c9:function(){return d}});var r=n(3144),i=n(5671),a=n(7326),o=n(136),s=n(9388),u=n(197),l=n(8970),c=n(6820),f=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.body,s=e.details,l=e.headers,f=e.status,d=e.url;return(0,i.Z)(this,n),r=t.call(this,"HTTP request failed.",{details:s,metaMessages:[f&&"Status: ".concat(f),"URL: ".concat((0,c.Gr)(d)),o&&"Request body: ".concat((0,u.P)(o))].filter(Boolean)}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty((0,a.Z)(r),"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,a.Z)(r),"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,a.Z)(r),"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,a.Z)(r),"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.body=o,r.headers=l,r.status=f,r.url=d,r}return(0,r.Z)(n)}(l.G),d=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.body,s=e.details,l=e.url;return(0,i.Z)(this,n),r=t.call(this,"WebSocket request failed.",{details:s,metaMessages:["URL: ".concat((0,c.Gr)(l)),"Request body: ".concat((0,u.P)(o))]}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"}),r}return(0,r.Z)(n)}(l.G),h=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.body,s=e.error,l=e.url;return(0,i.Z)(this,n),r=t.call(this,"RPC Request failed.",{cause:s,details:s.message,metaMessages:["URL: ".concat((0,c.Gr)(l)),"Request body: ".concat((0,u.P)(o))]}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty((0,a.Z)(r),"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.code=s.code,r}return(0,r.Z)(n)}(l.G),p=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r,o=e.body,s=e.url;return(0,i.Z)(this,n),r=t.call(this,"The request took too long to respond.",{details:"The request timed out.",metaMessages:["URL: ".concat((0,c.Gr)(s)),"Request body: ".concat((0,u.P)(o))]}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"}),r}return(0,r.Z)(n)}(l.G)},5935:function(e,t,n){"use strict";n.d(t,{B:function(){return h},GD:function(){return S},I0:function(){return T},KB:function(){return w},LX:function(){return p},Og:function(){return y},PE:function(){return M},Pv:function(){return _},Ts:function(){return A},XS:function(){return m},ab:function(){return E},gS:function(){return x},ir:function(){return P},nY:function(){return v},pT:function(){return b},s7:function(){return d},u5:function(){return k},x3:function(){return C},yR:function(){return g}});var r=n(3144),i=n(5671),a=n(7326),o=n(136),s=n(9388),u=n(8970),l=n(6195),c=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,r){var o,s=r.code,u=r.docsPath,c=r.metaMessages,f=r.shortMessage;return(0,i.Z)(this,n),o=t.call(this,f,{cause:e,docsPath:u,metaMessages:c||(null===e||void 0===e?void 0:e.metaMessages)}),Object.defineProperty((0,a.Z)(o),"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty((0,a.Z)(o),"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),o.name=e.name,o.code=e instanceof l.bs?e.code:null!==s&&void 0!==s?s:-1,o}return(0,r.Z)(n)}(u.G),f=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,r){var o;return(0,i.Z)(this,n),o=t.call(this,e,r),Object.defineProperty((0,a.Z)(o),"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty((0,a.Z)(o),"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),o.data=r.data,o}return(0,r.Z)(n)}(c),d=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"}),r}return(0,r.Z)(n)}(c);Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});var h=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"}),r}return(0,r.Z)(n)}(c);Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});var p=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"}),r}return(0,r.Z)(n)}(c);Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});var v=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"}),r}return(0,r.Z)(n)}(c);Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});var m=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:"An internal error was received."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"}),r}return(0,r.Z)(n)}(c);Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});var g=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"}),r}return(0,r.Z)(n)}(c);Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});var y=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:"Requested resource not found."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"}),r}return(0,r.Z)(n)}(c);Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});var b=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:"Requested resource not available."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"}),r}return(0,r.Z)(n)}(c);Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});var w=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:"Transaction creation failed."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"}),r}return(0,r.Z)(n)}(c);Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});var x=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:"Method is not implemented."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"}),r}return(0,r.Z)(n)}(c);Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});var _=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"}),r}return(0,r.Z)(n)}(c);Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});var S=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"}),r}return(0,r.Z)(n)}(c);Object.defineProperty(S,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});var E=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:"User rejected the request."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"}),r}return(0,r.Z)(n)}(f);Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});var M=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"}),r}return(0,r.Z)(n)}(f);Object.defineProperty(M,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});var A=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"}),r}return(0,r.Z)(n)}(f);Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});var k=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"}),r}return(0,r.Z)(n)}(f);Object.defineProperty(k,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});var T=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"}),r}return(0,r.Z)(n)}(f);Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});var C=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{code:n.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"}),r}return(0,r.Z)(n)}(f);Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});var P=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty((0,a.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"}),r}return(0,r.Z)(n)}(c)},902:function(e,t,n){"use strict";n.d(t,{Bh:function(){return b},JC:function(){return g},Yb:function(){return w},j3:function(){return m},mc:function(){return x},mk:function(){return y},vl:function(){return v},xY:function(){return p},xr:function(){return h}});var r=n(3433),i=n(3144),a=n(5671),o=n(7326),s=n(136),u=n(9388),l=n(9439),c=n(251),f=n(5514),d=n(8970);function h(e){var t=Object.entries(e).map((function(e){var t=(0,l.Z)(e,2),n=t[0],r=t[1];return void 0===r||!1===r?null:[n,r]})).filter(Boolean),n=t.reduce((function(e,t){var n=(0,l.Z)(t,1)[0];return Math.max(e,n.length)}),0);return t.map((function(e){var t=(0,l.Z)(e,2),r=t[0],i=t[1];return"  ".concat("".concat(r,":").padEnd(n+1),"  ").concat(i)})).join("\n")}var p=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,a.Z)(this,n),e=t.call(this,["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n")),Object.defineProperty((0,o.Z)(e),"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"}),e}return(0,i.Z)(n)}(d.G),v=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r,i=e.v;return(0,a.Z)(this,n),r=t.call(this,'Invalid `v` value "'.concat(i,'". Expected 27 or 28.')),Object.defineProperty((0,o.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"}),r}return(0,i.Z)(n)}(d.G),m=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r,i=e.transaction;return(0,a.Z)(this,n),r=t.call(this,"Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",h(i),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty((0,o.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"}),r}return(0,i.Z)(n)}(d.G),g=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r,i=e.storageKey;return(0,a.Z)(this,n),r=t.call(this,'Size for storage key "'.concat(i,'" is invalid. Expected 32 bytes. Got ').concat(Math.floor((i.length-2)/2)," bytes.")),Object.defineProperty((0,o.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"}),r}return(0,i.Z)(n)}(d.G),y=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,i){var s,u=i.account,l=i.docsPath,d=i.chain,p=i.data,v=i.gas,m=i.gasPrice,g=i.maxFeePerGas,y=i.maxPriorityFeePerGas,b=i.nonce,w=i.to,x=i.value;(0,a.Z)(this,n);var _=h({chain:d&&"".concat(null===d||void 0===d?void 0:d.name," (id: ").concat(null===d||void 0===d?void 0:d.id,")"),from:null===u||void 0===u?void 0:u.address,to:w,value:"undefined"!==typeof x&&"".concat((0,c.d)(x)," ").concat((null===d||void 0===d?void 0:d.nativeCurrency.symbol)||"ETH"),data:p,gas:v,gasPrice:"undefined"!==typeof m&&"".concat((0,f.o)(m)," gwei"),maxFeePerGas:"undefined"!==typeof g&&"".concat((0,f.o)(g)," gwei"),maxPriorityFeePerGas:"undefined"!==typeof y&&"".concat((0,f.o)(y)," gwei"),nonce:b});return s=t.call(this,e.shortMessage,{cause:e,docsPath:l,metaMessages:[].concat((0,r.Z)(e.metaMessages?[].concat((0,r.Z)(e.metaMessages),[" "]):[]),["Request Arguments:",_]).filter(Boolean)}),Object.defineProperty((0,o.Z)(s),"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,o.Z)(s),"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),s.cause=e,s}return(0,i.Z)(n)}(d.G),b=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r,i=e.blockHash,s=e.blockNumber,u=e.blockTag,l=e.hash,c=e.index;(0,a.Z)(this,n);var f="Transaction";return u&&void 0!==c&&(f='Transaction at block time "'.concat(u,'" at index "').concat(c,'"')),i&&void 0!==c&&(f='Transaction at block hash "'.concat(i,'" at index "').concat(c,'"')),s&&void 0!==c&&(f='Transaction at block number "'.concat(s,'" at index "').concat(c,'"')),l&&(f='Transaction with hash "'.concat(l,'"')),r=t.call(this,"".concat(f," could not be found.")),Object.defineProperty((0,o.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"}),r}return(0,i.Z)(n)}(d.G),w=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r,i=e.hash;return(0,a.Z)(this,n),r=t.call(this,'Transaction receipt with hash "'.concat(i,'" could not be found. The Transaction may not be processed on a block yet.')),Object.defineProperty((0,o.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"}),r}return(0,i.Z)(n)}(d.G),x=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r,i=e.hash;return(0,a.Z)(this,n),r=t.call(this,'Timed out while waiting for transaction with hash "'.concat(i,'" to be confirmed.')),Object.defineProperty((0,o.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"}),r}return(0,i.Z)(n)}(d.G)},6820:function(e,t,n){"use strict";n.d(t,{CR:function(){return r},Gr:function(){return i},bo:function(){return a}});var r=function(e){return e},i=function(e){return e},a=function(){return"viem@".concat("1.2.9")}},2860:function(e,t,n){"use strict";n.d(t,{r:function(){return d}});var r=n(1413),i=n(9439),a=n(1529),o=n(1577),s=n(2975),u=n(1264),l=n(5466),c=n(900),f=n(5899);function d(e,t){if("0x"===t&&e.length>0)throw new a.wb;if((0,s.d)(t)&&(0,s.d)(t)<32)throw new a.xB({data:t,params:e,size:(0,s.d)(t)});return function(e){for(var t=e.data,n=e.params,r=[],i=0,o=0;o<n.length;o++){if(i>=(0,s.d)(t))throw new a.xB({data:t,params:n,size:(0,s.d)(t)});var u=h({data:t,param:n[o],position:i}),l=u.consumed,c=u.value;r.push(c),i+=l}return r}({data:t,params:e})}function h(e){var t=e.data,n=e.param,s=e.position,d=(0,f.S)(n.type);if(d){var v=(0,i.Z)(d,2),m=v[0],g=v[1];return function(e,t){var n=t.param,r=t.length,i=t.position;if(!r){for(var a=(0,c.ly)((0,u.tP)(e,i,i+32,{strict:!0})),o=(0,c.ly)((0,u.tP)(e,a,a+32,{strict:!0})),s=0,l=[],d=0;d<o;++d){var v=h({data:(0,u.tP)(e,a+32),param:n,position:s});s+=v.consumed,l.push(v.value)}return{value:l,consumed:32}}if(p(n)){for(var m=(0,f.S)(n.type),g=!(null!==m&&void 0!==m&&m[0]),y=0,b=[],w=0;w<r;++w){var x=(0,c.ly)((0,u.tP)(e,i,i+32,{strict:!0})),_=h({data:(0,u.tP)(e,x),param:n,position:g?y:32*w});y+=_.consumed,b.push(_.value)}return{value:b,consumed:32}}for(var S=0,E=[],M=0;M<r;++M){var A=h({data:e,param:n,position:i+S});S+=A.consumed,E.push(A.value)}return{value:E,consumed:S}}(t,{length:m,param:(0,r.Z)((0,r.Z)({},n),{},{type:g}),position:s})}if("tuple"===n.type)return function(e,t){var n=t.param,r=t.position,i=0===n.components.length||n.components.some((function(e){return!e.name})),a=i?[]:{},o=0;if(p(n)){for(var s=(0,c.ly)((0,u.tP)(e,r,r+32,{strict:!0})),l=0;l<n.components.length;++l){var f=n.components[l],d=h({data:(0,u.tP)(e,s),param:f,position:o});o+=d.consumed,a[i?l:null===f||void 0===f?void 0:f.name]=d.value}return{consumed:32,value:a}}for(var v=0;v<n.components.length;++v){var m=n.components[v],g=h({data:e,param:m,position:r+o});o+=g.consumed,a[i?v:null===m||void 0===m?void 0:m.name]=g.value}return{consumed:o,value:a}}(t,{param:n,position:s});if("string"===n.type)return function(e,t){var n=t.position,r=(0,c.ly)((0,u.tP)(e,n,n+32,{strict:!0})),i=(0,c.ly)((0,u.tP)(e,r,r+32,{strict:!0}));if(0===i)return{consumed:32,value:""};var a=(0,c.rR)((0,l.f)((0,u.tP)(e,r+32,r+32+i,{strict:!0})));return{consumed:32,value:a}}(t,{position:s});if(n.type.startsWith("bytes"))return function(e,t){var n=t.param,r=t.position,a=n.type.split("bytes"),o=(0,i.Z)(a,2),s=(o[0],o[1]);if(!s){var l=(0,c.ly)((0,u.tP)(e,r,r+32,{strict:!0})),f=(0,c.ly)((0,u.tP)(e,l,l+32,{strict:!0}));return 0===f?{consumed:32,value:"0x"}:{consumed:32,value:(0,u.tP)(e,l+32,l+32+f,{strict:!0})}}var d=(0,u.tP)(e,r,r+parseInt(s),{strict:!0});return{consumed:32,value:d}}(t,{param:n,position:s});var y=(0,u.tP)(t,s,s+32,{strict:!0});if(n.type.startsWith("uint")||n.type.startsWith("int"))return function(e,t){var n=t.param,r=n.type.startsWith("int"),i=parseInt(n.type.split("int")[1]||"256");return{consumed:32,value:i>48?(0,c.y_)(e,{signed:r}):(0,c.ly)(e,{signed:r})}}(y,{param:n});if("address"===n.type)return function(e){return{consumed:32,value:(0,o.x)((0,u.tP)(e,-20))}}(y);if("bool"===n.type)return function(e){return{consumed:32,value:(0,c.XA)(e)}}(y);throw new a.CI(n.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function p(e){var t,n=e.type;if("string"===n)return!0;if("bytes"===n)return!0;if(n.endsWith("[]"))return!0;if("tuple"===n)return null===(t=e.components)||void 0===t?void 0:t.some(p);var i=(0,f.S)(e.type);return!(!i||!p((0,r.Z)((0,r.Z)({},e),{},{type:i[1]})))}},903:function(e,t,n){"use strict";n.d(t,{p:function(){return c}});var r=n(3433),i=n(3027),a=n(1529),o=n(1264),s=n(2547),u=n(2860),l=n(4627);function c(e){var t=e.abi,n=e.data,c=(0,o.tP)(n,0,4);if("0x"===c)throw new a.wb;var f=[].concat((0,r.Z)(t||[]),[i.Up,i.hZ]).find((function(e){return"error"===e.type&&c===(0,s.o)((0,l.t)(e))}));if(!f)throw new a.yP(c,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:f,args:"inputs"in f&&f.inputs&&f.inputs.length>0?(0,u.r)(f.inputs,(0,o.tP)(n,4)):void 0,errorName:f.name}}},3740:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var r=n(1529),i=n(2860),a=n(8850),o="/docs/contract/decodeFunctionResult";function s(e){var t=e.abi,n=e.args,s=e.functionName,u=e.data,l=t[0];if(s&&!(l=(0,a.m)({abi:t,args:n,name:s})))throw new r.xL(s,{docsPath:o});if("function"!==l.type)throw new r.xL(void 0,{docsPath:o});if(!l.outputs)throw new r.MX(l.name,{docsPath:o});var c=(0,i.r)(l.outputs,u);return c&&c.length>1?c:c&&1===c.length?c[0]:void 0}},5899:function(e,t,n){"use strict";n.d(t,{E:function(){return h},S:function(){return m}});var r=n(1413),i=n(9439),a=n(1529),o=n(7915),s=n(3724),u=n(9259),l=n(9227),c=n(2975),f=n(1264),d=n(5119);function h(e,t){if(e.length!==t.length)throw new a.fs({expectedLength:e.length,givenLength:t.length});var n=function(e){for(var t=e.params,n=e.values,r=[],i=0;i<t.length;i++)r.push(p({param:t[i],value:n[i]}));return r}({params:e,values:t}),r=v(n);return 0===r.length?"0x":r}function p(e){var t=e.param,n=e.value,h=m(t.type);if(h){var g=(0,i.Z)(h,2),y=g[0],b=g[1];return function(e,t){var n=t.length,r=t.param,i=null===n;if(!Array.isArray(e))throw new a.hn(e);if(!i&&e.length!==n)throw new a.gr({expectedLength:n,givenLength:e.length,type:"".concat(r.type,"[").concat(n,"]")});for(var o=!1,s=[],l=0;l<e.length;l++){var c=p({param:r,value:e[l]});c.dynamic&&(o=!0),s.push(c)}if(i||o){var f=v(s);if(i){var h=(0,d.eC)(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?(0,u.zo)([h,f]):h}}if(o)return{dynamic:!0,encoded:f}}return{dynamic:!1,encoded:(0,u.zo)(s.map((function(e){return e.encoded})))}}(n,{length:y,param:(0,r.Z)((0,r.Z)({},t),{},{type:b})})}if("tuple"===t.type)return function(e,t){for(var n=t.param,r=!1,i=[],a=0;a<n.components.length;a++){var o=n.components[a],s=p({param:o,value:e[Array.isArray(e)?a:o.name]});i.push(s),s.dynamic&&(r=!0)}return{dynamic:r,encoded:r?v(i):(0,u.zo)(i.map((function(e){return e.encoded})))}}(n,{param:t});if("address"===t.type)return function(e){if(!(0,s.U)(e))throw new o.b({address:e});return{dynamic:!1,encoded:(0,l.gc)(e.toLowerCase())}}(n);if("bool"===t.type)return function(e){return{dynamic:!1,encoded:(0,l.gc)((0,d.C4)(e))}}(n);if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,t){var n=t.signed;return{dynamic:!1,encoded:(0,d.eC)(e,{size:32,signed:n})}}(n,{signed:t.type.startsWith("int")});if(t.type.startsWith("bytes"))return function(e,t){var n=t.param,r=n.type.split("bytes"),o=(0,i.Z)(r,2),s=(o[0],o[1]);if(!s){for(var h=Math.ceil((0,c.d)(e)/32),p=[],v=0;v<h;v++)p.push((0,l.gc)((0,f.tP)(e,32*v,32*(v+1)),{dir:"right"}));return{dynamic:!0,encoded:(0,u.zo)([(0,l.gc)((0,d.eC)((0,c.d)(e),{size:32}))].concat(p))}}if((0,c.d)(e)!==parseInt(s))throw new a.M4({expectedSize:parseInt(s),value:e});return{dynamic:!1,encoded:(0,l.gc)(e,{dir:"right"})}}(n,{param:t});if("string"===t.type)return function(e){for(var t=(0,d.$G)(e),n=Math.ceil((0,c.d)(t)/32),r=[],i=0;i<n;i++)r.push((0,l.gc)((0,f.tP)(t,32*i,32*(i+1)),{dir:"right"}));return{dynamic:!0,encoded:(0,u.zo)([(0,l.gc)((0,d.eC)((0,c.d)(t),{size:32}))].concat(r))}}(n);throw new a.dh(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function v(e){for(var t=0,n=0;n<e.length;n++){var r=e[n],i=r.dynamic,a=r.encoded;t+=i?32:(0,c.d)(a)}for(var o=[],s=[],l=0,f=0;f<e.length;f++){var h=e[f],p=h.dynamic,v=h.encoded;p?(o.push((0,d.eC)(t+l,{size:32})),s.push(v),l+=(0,c.d)(v)):o.push(v)}return(0,u.zo)([].concat(o,s))}function m(e){var t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},9273:function(e,t,n){"use strict";n.d(t,{R:function(){return l}});var r=n(1529),i=n(9259),a=n(2547),o=n(5899),s=n(4627),u=n(8850);function l(e){var t=e.abi,n=e.args,l=e.functionName,c=t[0];if(l&&!(c=(0,u.m)({abi:t,args:n,name:l})))throw new r.xL(l,{docsPath:"/docs/contract/encodeFunctionData"});if("function"!==c.type)throw new r.xL(void 0,{docsPath:"/docs/contract/encodeFunctionData"});var f=(0,s.t)(c),d=(0,a.o)(f),h="inputs"in c&&c.inputs?(0,o.E)(c.inputs,null!==n&&void 0!==n?n:[]):void 0;return(0,i.SM)([d,null!==h&&void 0!==h?h:"0x"])}},4627:function(e,t,n){"use strict";n.d(t,{h:function(){return a},t:function(){return i}});var r=n(1529);function i(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).includeName,n=void 0!==t&&t;if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new r.wM(e.type);return"".concat(e.name,"(").concat(a(e.inputs,{includeName:n}),")")}function a(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).includeName,n=void 0!==t&&t;return e?e.map((function(e){return function(e,t){var n=t.includeName;if(e.type.startsWith("tuple"))return"(".concat(a(e.components,{includeName:n}),")").concat(e.type.slice(5));return e.type+(n&&e.name?" ".concat(e.name):"")}(e,{includeName:n})})).join(n?", ":","):""}},8850:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(1413),i=n(7762),a=n(3724);function o(e){var t=e.abi,n=e.args,r=void 0===n?[]:n,a=e.name,o=t.filter((function(e){return"name"in e&&e.name===a}));if(0!==o.length){if(1===o.length)return o[0];var u,l=(0,i.Z)(o);try{var c=function(){var e=u.value;return"inputs"in e?r&&0!==r.length?e.inputs?0===e.inputs.length||e.inputs.length!==r.length?"continue":r.every((function(t,n){var r="inputs"in e&&e.inputs[n];return!!r&&s(t,r)}))?{v:e}:void 0:"continue":e.inputs&&0!==e.inputs.length?"continue":{v:e}:"continue"};for(l.s();!(u=l.n()).done;){var f=c();if("continue"!==f&&"object"===typeof f)return f.v}}catch(d){l.e(d)}finally{l.f()}return o[0]}}function s(e,t){var n=typeof e,i=t.type;switch(i){case"address":return(0,a.U)(e);case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===i&&"components"in t?Object.values(t.components).every((function(t,n){return s(Object.values(e)[n],t)})):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i)&&(Array.isArray(e)&&e.every((function(e){return s(e,(0,r.Z)((0,r.Z)({},t),{},{type:i.replace(/(\[[0-9]{0,}\])$/,"")}))})))}}},1577:function(e,t,n){"use strict";n.d(t,{K:function(){return u},x:function(){return s}});var r=n(7915),i=n(4623),a=n(2149),o=n(3724);function s(e,t){for(var n=t?"".concat(t).concat(e.toLowerCase()):e.substring(2).toLowerCase(),r=(0,a.w)((0,i.qX)(n),"bytes"),o=(t?n.substring("".concat(t,"0x").length):n).split(""),s=0;s<40;s+=2)r[s>>1]>>4>=8&&o[s]&&(o[s]=o[s].toUpperCase()),(15&r[s>>1])>=8&&o[s+1]&&(o[s+1]=o[s+1].toUpperCase());return"0x".concat(o.join(""))}function u(e,t){if(!(0,o.U)(e))throw new r.b({address:e});return s(e,t)}},3724:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=/^0x[a-fA-F0-9]{40}$/;function i(e){return r.test(e)}},4094:function(e,t,n){"use strict";n.d(t,{LI:function(){return s},ax:function(){return o},qg:function(){return a}});var r=n(1413),i=n(6289);function a(e){var t=e.chain,n=e.currentChainId;if(!t)throw new i.Bk;if(n!==t.id)throw new i.Yl({chain:t,currentChainId:n})}function o(e,t){return(0,r.Z)((0,r.Z)({},e),{},{formatters:null===t||void 0===t?void 0:t.formatters,serializers:null===t||void 0===t?void 0:t.serializers})}function s(e){var t,n=e.blockNumber,r=e.chain,a=e.contract,o=null===r||void 0===r||null===(t=r.contracts)||void 0===t?void 0:t[a];if(!o)throw new i.mm({chain:r,contract:{name:a}});if(n&&o.blockCreated&&o.blockCreated>n)throw new i.mm({blockNumber:n,chain:r,contract:{name:a,blockCreated:o.blockCreated}});return o.address}},9259:function(e,t,n){"use strict";n.d(t,{SM:function(){return a},zo:function(){return i}});var r=n(7762);function i(e){return"string"===typeof e[0]?a(e):function(e){var t,n=0,i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){n+=t.value.length}}catch(c){i.e(c)}finally{i.f()}var a,o=new Uint8Array(n),s=0,u=(0,r.Z)(e);try{for(u.s();!(a=u.n()).done;){var l=a.value;o.set(l,s),s+=l.length}}catch(c){u.e(c)}finally{u.f()}return o}(e)}function a(e){return"0x".concat(e.reduce((function(e,t){return e+t.replace("0x","")}),""))}},5273:function(e,t,n){"use strict";function r(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).strict;return!!e&&("string"===typeof e&&(void 0===t||t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}n.d(t,{v:function(){return r}})},9227:function(e,t,n){"use strict";n.d(t,{gc:function(){return a},vk:function(){return i}});var r=n(242);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dir,i=t.size,o=void 0===i?32:i;return"string"===typeof e?a(e,{dir:n,size:o}):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dir,i=t.size,a=void 0===i?32:i;if(null===a)return e;if(e.length>a)throw new r.$({size:e.length,targetSize:a,type:"bytes"});for(var o=new Uint8Array(a),s=0;s<a;s++){var u="right"===n;o[u?s:a-s-1]=e[u?s:e.length-s-1]}return o}(e,{dir:n,size:o})}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dir,i=t.size,a=void 0===i?32:i;if(null===a)return e;var o=e.replace("0x","");if(o.length>2*a)throw new r.$({size:Math.ceil(o.length/2),targetSize:a,type:"hex"});return"0x".concat(o["right"===n?"padEnd":"padStart"](2*a,"0"))}},2975:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(5273);function i(e){return(0,r.v)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},1264:function(e,t,n){"use strict";n.d(t,{tP:function(){return o}});var r=n(242),i=n(5273),a=n(2975);function o(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).strict;return(0,i.v)(e,{strict:!1})?function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.strict;s(e,t);var a="0x".concat(e.replace("0x","").slice(2*(null!==t&&void 0!==t?t:0),2*(null!==n&&void 0!==n?n:e.length)));i&&u(a,t,n);return a}(e,t,n,{strict:r}):function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.strict;s(e,t);var a=e.slice(t,n);i&&u(a,t,n);return a}(e,t,n,{strict:r})}function s(e,t){if("number"===typeof t&&t>0&&t>(0,a.d)(e)-1)throw new r.m({offset:t,position:"start",size:(0,a.d)(e)})}function u(e,t,n){if("number"===typeof t&&"number"===typeof n&&(0,a.d)(e)!==n-t)throw new r.m({offset:n,position:"end",size:(0,a.d)(e)})}},5466:function(e,t,n){"use strict";function r(e){for(var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).dir,n=void 0===t?"left":t,r="string"===typeof e?e.replace("0x",""):e,i=0,a=0;a<r.length-1&&"0"===r["left"===n?a:r.length-a-1].toString();a++)i++;return r="left"===n?r.slice(i):r.slice(0,r.length-i),"string"===typeof e?(1===r.length&&"right"===n&&(r="".concat(r,"0")),"0x".concat(r.length%2===1?"0".concat(r):r)):r}n.d(t,{f:function(){return r}})},900:function(e,t,n){"use strict";n.d(t,{XA:function(){return l},Yf:function(){return s},ly:function(){return c},rR:function(){return f},y_:function(){return u}});var r=n(8821),i=n(2975),a=n(5466),o=n(4623);function s(e,t){var n=t.size;if((0,i.d)(e)>n)throw new r.M6({givenSize:(0,i.d)(e),maxSize:n})}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.signed;t.size&&s(e,{size:t.size});var r=BigInt(e);if(!n)return r;var i=(e.length-2)/2;return r<=(1n<<8n*BigInt(i)-1n)-1n?r:r-BigInt("0x".concat("f".padStart(2*i,"f")))-1n}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if(t.size&&(s(n,{size:t.size}),n=(0,a.f)(n)),"0x00"===(0,a.f)(n))return!1;if("0x01"===(0,a.f)(n))return!0;throw new r.Cd(n)}function c(e){return Number(u(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.nr)(e);return t.size&&(s(n,{size:t.size}),n=(0,a.f)(n,{dir:"right"})),(new TextDecoder).decode(n)}},4623:function(e,t,n){"use strict";n.d(t,{O0:function(){return l},nr:function(){return c},qX:function(){return f}});var r=n(8970),i=n(5273),a=n(9227),o=n(900),s=n(5119),u=new TextEncoder;function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?function(e,t){var n=(0,s.eC)(e,t);return c(n)}(e,t):"boolean"===typeof e?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Uint8Array(1);if(n[0]=Number(e),"number"===typeof t.size)return(0,o.Yf)(n,{size:t.size}),(0,a.vk)(n,{size:t.size});return n}(e,t):(0,i.v)(e)?c(e,t):f(e,t)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;t.size&&((0,o.Yf)(n,{size:t.size}),n=(0,a.vk)(n,{dir:"right",size:t.size}));var i=n.slice(2);i.length%2&&(i="0".concat(i));for(var s=new Uint8Array(i.length/2),u=0;u<s.length;u++){var l=2*u,c=i.slice(l,l+2),f=Number.parseInt(c,16);if(Number.isNaN(f)||f<0)throw new r.G('Invalid byte sequence ("'.concat(c,'" in "').concat(i,'").'));s[u]=f}return s}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u.encode(e);return"number"===typeof t.size?((0,o.Yf)(n,{size:t.size}),(0,a.vk)(n,{dir:"right",size:t.size})):n}},5119:function(e,t,n){"use strict";n.d(t,{$G:function(){return d},C4:function(){return u},NC:function(){return s},ci:function(){return l},eC:function(){return c}});var r=n(8821),i=n(9227),a=n(900),o=Array.from({length:256},(function(e,t){return t.toString(16).padStart(2,"0")}));function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?c(e,t):"string"===typeof e?d(e,t):"boolean"===typeof e?u(e,t):l(e,t)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="0x".concat(Number(e));return"number"===typeof t.size?((0,a.Yf)(n,{size:t.size}),(0,i.vk)(n,{size:t.size})):n}function l(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="",r=0;r<e.length;r++)n+=o[e[r]];var s="0x".concat(n);return"number"===typeof t.size?((0,a.Yf)(s,{size:t.size}),(0,i.vk)(s,{dir:"right",size:t.size})):s}function c(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.signed,o=n.size,s=BigInt(e);o?t=a?(1n<<8n*BigInt(o)-1n)-1n:Math.pow(2n,8n*BigInt(o))-1n:"number"===typeof e&&(t=BigInt(Number.MAX_SAFE_INTEGER));var u="bigint"===typeof t&&a?-t-1n:0;if(t&&s>t||s<u){var l="bigint"===typeof e?"n":"";throw new r.J5({max:t?"".concat(t).concat(l):void 0,min:"".concat(u).concat(l),signed:a,size:o,value:"".concat(e).concat(l)})}var c="0x".concat((a&&s<0?(1n<<BigInt(8*o))+BigInt(s):s).toString(16));return o?(0,i.vk)(c,{size:o}):c}var f=new TextEncoder;function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(f.encode(e),t)}},667:function(e,t,n){"use strict";n.d(t,{B:function(){return o},k:function(){return s}});var r=n(341),i=n(6195),a=n(5935);function o(e){return e instanceof a.KB||e instanceof a.yR||e instanceof i.bs&&e.code===r.M_.code}function s(e,t){var n,i=e.details.toLowerCase();return r.Hh.nodeMessage.test(i)?new r.Hh({cause:e,maxFeePerGas:null===t||void 0===t?void 0:t.maxFeePerGas}):r.G$.nodeMessage.test(i)?new r.G$({cause:e,maxFeePerGas:null===t||void 0===t?void 0:t.maxFeePerGas}):r.ZI.nodeMessage.test(i)?new r.ZI({cause:e,nonce:null===t||void 0===t?void 0:t.nonce}):r.vU.nodeMessage.test(i)?new r.vU({cause:e,nonce:null===t||void 0===t?void 0:t.nonce}):r.se.nodeMessage.test(i)?new r.se({cause:e,nonce:null===t||void 0===t?void 0:t.nonce}):r.C_.nodeMessage.test(i)?new r.C_({cause:e}):r.WF.nodeMessage.test(i)?new r.WF({cause:e,gas:null===t||void 0===t?void 0:t.gas}):r.dR.nodeMessage.test(i)?new r.dR({cause:e,gas:null===t||void 0===t?void 0:t.gas}):r.pZ.nodeMessage.test(i)?new r.pZ({cause:e}):r.cs.nodeMessage.test(i)?new r.cs({cause:e,maxFeePerGas:null===t||void 0===t?void 0:t.maxFeePerGas,maxPriorityFeePerGas:null===t||void 0===t?void 0:t.maxPriorityFeePerGas}):i.match(r.M_.nodeMessage)||"code"in e.cause&&(null===(n=e.cause)||void 0===n?void 0:n.code)===r.M_.code?new r.M_({cause:e,message:e.cause.details||e.details}):new r.cj({cause:e.cause.cause})}},3670:function(e,t,n){"use strict";function r(e,t){var n=t.format;return n?Object.keys(n({})).reduce((function(t,n){return null!==e&&void 0!==e&&e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{}):{}}n.d(t,{K:function(){return r}})},271:function(e,t,n){"use strict";n.d(t,{$:function(){return a}});var r=n(1413),i=n(7762);function a(e,t){return function(n){var a=n.exclude,o=n.format;return{format:function(e){var n=t(e);if(a){var s,u=(0,i.Z)(a);try{for(u.s();!(s=u.n()).done;){delete n[s.value]}}catch(l){u.e(l)}finally{u.f()}}return(0,r.Z)((0,r.Z)({},n),o(e))},type:e}}}},267:function(e,t,n){"use strict";n.d(t,{i:function(){return o},t:function(){return a}});var r=n(1413),i=n(5119);function a(e){return(0,r.Z)((0,r.Z)({},e),{},{gas:"undefined"!==typeof e.gas?(0,i.eC)(e.gas):void 0,gasPrice:"undefined"!==typeof e.gasPrice?(0,i.eC)(e.gasPrice):void 0,maxFeePerGas:"undefined"!==typeof e.maxFeePerGas?(0,i.eC)(e.maxFeePerGas):void 0,maxPriorityFeePerGas:"undefined"!==typeof e.maxPriorityFeePerGas?(0,i.eC)(e.maxPriorityFeePerGas):void 0,nonce:"undefined"!==typeof e.nonce?(0,i.eC)(e.nonce):void 0,value:"undefined"!==typeof e.value?(0,i.eC)(e.value):void 0})}var o=(0,n(271).$)("transactionRequest",a)},2547:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var r=n(1264),i=n(8599),a=function(e){return"string"===typeof e?(0,r.tP)((0,i.F)(e),0,4):(0,r.tP)((0,i.J)(e),0,4)}},8599:function(e,t,n){"use strict";n.d(t,{J:function(){return c},F:function(){return l}});var r=n(1413),i=/((function|event)\s)?(.*)(\((.*)\))/;function a(e){var t=e.match(i);return{type:(null===t||void 0===t?void 0:t[2])||void 0,name:null===t||void 0===t?void 0:t[3],params:(null===t||void 0===t?void 0:t[5])||void 0}}var o=n(4623),s=n(2149),u=function(e){return(0,s.w)((0,o.O0)(e))};function l(e){var t=function(e){return a(e).name}(e),n=function(e){var t=a(e).params,n=null===t||void 0===t?void 0:t.split(",").map((function(e){return e.trim().split(" ")}));return null===n||void 0===n?void 0:n.map((function(e){return(0,r.Z)({type:e[0],name:"indexed"===e[1]?e[2]:e[1]},"indexed"===e[1]?{indexed:!0}:{})}))}(e)||[];return u("".concat(t,"(").concat(n.map((function(e){return e.type})).join(","),")"))}function c(e){return u("".concat(e.name,"(").concat(e.inputs.map((function(e){return e.type})).join(","),")"))}},2149:function(e,t,n){"use strict";n.d(t,{w:function(){return X}});var r=n(5671),i=n(3144),a=n(136),o=n(9388),s=n(9439);function u(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function l(e){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new TypeError("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}var c={number:u,bool:function(e){if("boolean"!==typeof e)throw new Error("Expected boolean, not ".concat(e))},bytes:l,hash:function(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");u(e.outputLen),u(e.blockLen)},exists:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){l(e);var n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}},f=c,d=BigInt(Math.pow(2,32)-1),h=BigInt(32);function p(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&d),l:Number(e>>h&d)}:{h:0|Number(e>>h&d),l:0|Number(e&d)}}var v={fromBig:p,split:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length),i=0;i<e.length;i++){var a=p(e[i],t),o=[a.h,a.l];n[i]=o[0],r[i]=o[1]}return[n,r]},toBig:function(e,t){return BigInt(e>>>0)<<h|BigInt(t>>>0)},shrSH:function(e,t,n){return e>>>n},shrSL:function(e,t,n){return e<<32-n|t>>>n},rotrSH:function(e,t,n){return e>>>n|t<<32-n},rotrSL:function(e,t,n){return e<<32-n|t>>>n},rotrBH:function(e,t,n){return e<<64-n|t>>>n-32},rotrBL:function(e,t,n){return e>>>n-32|t<<64-n},rotr32H:function(e,t){return t},rotr32L:function(e,t){return e},rotlSH:function(e,t,n){return e<<n|t>>>32-n},rotlSL:function(e,t,n){return t<<n|e>>>32-n},rotlBH:function(e,t,n){return t<<n-32|e>>>64-n},rotlBL:function(e,t,n){return e<<n-32|t>>>64-n},add:function(e,t,n,r){var i=(t>>>0)+(r>>>0);return{h:e+n+(i/Math.pow(2,32)|0)|0,l:0|i}},add3L:function(e,t,n){return(e>>>0)+(t>>>0)+(n>>>0)},add3H:function(e,t,n,r){return t+n+r+(e/Math.pow(2,32)|0)|0},add4L:function(e,t,n,r){return(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)},add4H:function(e,t,n,r,i){return t+n+r+i+(e/Math.pow(2,32)|0)|0},add5H:function(e,t,n,r,i,a){return t+n+r+i+a+(e/Math.pow(2,32)|0)|0},add5L:function(e,t,n,r,i){return(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)}},m=v;"object"===typeof globalThis&&"crypto"in globalThis&&globalThis.crypto;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(function(e,t){return t.toString(16).padStart(2,"0")}));function g(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new TypeError("utf8ToBytes expected string, got ".concat(typeof e));return(new TextEncoder).encode(e)}(e)),!(e instanceof Uint8Array))throw new TypeError("Expected input type is Uint8Array (got ".concat(typeof e,")"));return e}var y=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"clone",value:function(){return this._cloneInto()}}]),e}();for(var b=[],w=[],x=[],_=BigInt(0),S=BigInt(1),E=BigInt(2),M=BigInt(7),A=BigInt(256),k=BigInt(113),T=0,C=S,P=1,R=0;T<24;T++){var I=[R,(2*P+3*R)%5];P=I[0],R=I[1],b.push(2*(5*R+P)),w.push((T+1)*(T+2)/2%64);for(var L=_,Z=0;Z<7;Z++)(C=(C<<S^(C>>M)*k)%A)&E&&(L^=S<<(S<<BigInt(Z))-S);x.push(L)}var O=m.split(x,!0),N=(0,s.Z)(O,2),U=N[0],D=N[1],B=function(e,t,n){return n>32?m.rotlBH(e,t,n):m.rotlSH(e,t,n)},F=function(e,t,n){return n>32?m.rotlBL(e,t,n):m.rotlSL(e,t,n)};var z=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){var o,s,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if((0,r.Z)(this,n),(o=t.call(this)).blockLen=e,o.suffix=i,o.outputLen=a,o.enableXOF=u,o.rounds=l,o.pos=0,o.posOut=0,o.finished=!1,o.destroyed=!1,f.number(a),0>=o.blockLen||o.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");return o.state=new Uint8Array(200),o.state32=(s=o.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4))),o}return(0,i.Z)(n,[{key:"keccak",value:function(){!function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n=new Uint32Array(10),r=24-t;r<24;r++){for(var i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(var a=0;a<10;a+=2)for(var o=(a+8)%10,s=(a+2)%10,u=n[s],l=n[s+1],c=B(u,l,1)^n[o],f=F(u,l,1)^n[o+1],d=0;d<50;d+=10)e[a+d]^=c,e[a+d+1]^=f;for(var h=e[2],p=e[3],v=0;v<24;v++){var m=w[v],g=B(h,p,m),y=F(h,p,m),x=b[v];h=e[x],p=e[x+1],e[x]=g,e[x+1]=y}for(var _=0;_<50;_+=10){for(var S=0;S<10;S++)n[S]=e[_+S];for(var E=0;E<10;E++)e[_+E]^=~n[(E+2)%10]&n[(E+4)%10]}e[0]^=U[r],e[1]^=D[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}},{key:"update",value:function(e){f.exists(this);for(var t=this.blockLen,n=this.state,r=(e=g(e)).length,i=0;i<r;){for(var a=Math.min(t-this.pos,r-i),o=0;o<a;o++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}},{key:"finish",value:function(){if(!this.finished){this.finished=!0;var e=this.state,t=this.suffix,n=this.pos,r=this.blockLen;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}}},{key:"writeInto",value:function(e){f.exists(this,!1),f.bytes(e),this.finish();for(var t=this.state,n=this.blockLen,r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();var a=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}},{key:"xofInto",value:function(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}},{key:"xof",value:function(e){return f.number(e),this.xofInto(new Uint8Array(e))}},{key:"digestInto",value:function(e){if(f.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}},{key:"digest",value:function(){return this.digestInto(new Uint8Array(this.outputLen))}},{key:"destroy",value:function(){this.destroyed=!0,this.state.fill(0)}},{key:"_cloneInto",value:function(e){var t=this.blockLen,r=this.suffix,i=this.outputLen,a=this.rounds,o=this.enableXOF;return e||(e=new n(t,r,i,o,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}]),n}(y),j=function(e,t,n){return function(e){var t=function(t){return e().update(g(t)).digest()},n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=function(){return e()},t}((function(){return new z(t,e,n)}))},H=(j(6,144,28),j(6,136,32),j(6,104,48),j(6,72,64),j(1,144,28),j(1,136,32)),G=(j(1,104,48),j(1,72,64),function(e,t,n){return function(e){var t=function(t,n){return e(n).update(g(t)).digest()},n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=function(t){return e(t)},t}((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new z(t,e,void 0===r.dkLen?n:r.dkLen,!0)}))}),W=(G(31,168,16),G(31,136,32),n(5273)),V=n(4623),q=n(5119);function X(e,t){var n=t||"hex",r=H((0,W.v)(e,{strict:!1})?(0,V.O0)(e):e);return"bytes"===n?r:(0,q.NC)(r)}},9558:function(e,t,n){"use strict";n.d(t,{S:function(){return s}});var r=n(3433),i=n(4165),a=n(5861),o=new Map;function s(e){var t=e.fn,n=e.id,s=e.shouldSplitBatch,u=e.wait,l=void 0===u?0:u,c=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d(),f(),0!==(r=n.map((function(e){return e.args}))).length){e.next=5;break}return e.abrupt("return");case 5:t(r).then((function(e){n.forEach((function(t,n){var r,i=t.pendingPromise;return null===(r=i.resolve)||void 0===r?void 0:r.call(i,[e[n],e])}))})).catch((function(e){n.forEach((function(t){var n,r=t.pendingPromise;return null===(n=r.reject)||void 0===n?void 0:n.call(r,e)}))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){return o.delete(n)},d=function(){return o.get(n)||[]},h=function(e){return o.set(n,[].concat((0,r.Z)(d()),[e]))};return{flush:f,schedule:function(e){return(0,a.Z)((0,i.Z)().mark((function t(){var n,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={},a=new Promise((function(e,t){n.resolve=e,n.reject=t})),(null===s||void 0===s?void 0:s([].concat((0,r.Z)(d().map((function(e){return e.args}))),[e])))&&c(),!(d().length>0)){t.next=8;break}return h({args:e,pendingPromise:n}),t.abrupt("return",a);case 8:return h({args:e,pendingPromise:n}),setTimeout(c,l),t.abrupt("return",a);case 11:case"end":return t.stop()}}),t)})))()}}}},197:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var r=function(e,t,n){return JSON.stringify(e,(function(e,n){var r="bigint"===typeof n?n.toString():n;return"function"===typeof t?t(e,r):r}),n)}},6889:function(e,t,n){"use strict";n.d(t,{F:function(){return u}});var r=n(937),i=n(7915),a=n(341),o=n(902),s=n(3724);function u(e){var t=e.account,n=e.gasPrice,u=e.maxFeePerGas,l=e.maxPriorityFeePerGas,c=e.to,f=t?(0,r.T)(t):void 0;if(f&&!(0,s.U)(f.address))throw new i.b({address:f.address});if(c&&!(0,s.U)(c))throw new i.b({address:c});if("undefined"!==typeof n&&("undefined"!==typeof u||"undefined"!==typeof l))throw new o.xY;if(u&&u>Math.pow(2n,256n)-1n)throw new a.Hh({maxFeePerGas:u});if(l&&u&&l>u)throw new a.cs({maxFeePerGas:u,maxPriorityFeePerGas:l})}},251:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var r=n(4542),i=n(9768);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wei";return(0,i.b)(e,r.ez[t])}},5514:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var r=n(4542),i=n(9768);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wei";return(0,i.b)(e,r.Zn[t])}},9768:function(e,t,n){"use strict";function r(e,t){var n=e.toString(),r=n.startsWith("-");r&&(n=n.slice(1));var i=[(n=n.padStart(t,"0")).slice(0,n.length-t),n.slice(n.length-t)],a=i[0],o=i[1];return o=o.replace(/(0+)$/,""),"".concat(r?"-":"").concat(a||"0").concat(o?".".concat(o):"")}n.d(t,{b:function(){return r}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{32:"641795cc",176:"4573835f",208:"5b7c4706",409:"69392db4",631:"f75e2aac",760:"e5338ad5",774:"186dbf1b",787:"6ae12cda"}[e]+".chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="superduper:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunksuperduper=self.webpackChunksuperduper||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:function(){return kc},AddEquation:function(){return Ql},AddOperation:function(){return _c},AdditiveAnimationBlendMode:function(){return rd},AdditiveBlending:function(){return Vl},AlphaFormat:function(){return of},AlwaysCompare:function(){return Fd},AlwaysDepth:function(){return hc},AlwaysStencilFunc:function(){return Id},AmbientLight:function(){return $_},AmbientLightProbe:function(){return vS},AnimationAction:function(){return GS},AnimationClip:function(){return __},AnimationLoader:function(){return I_},AnimationMixer:function(){return VS},AnimationObjectGroup:function(){return HS},AnimationUtils:function(){return l_},ArcCurve:function(){return Aw},ArrayCamera:function(){return Qy},ArrowHelper:function(){return UE},Audio:function(){return kS},AudioAnalyser:function(){return LS},AudioContext:function(){return dS},AudioListener:function(){return AS},AudioLoader:function(){return hS},AxesHelper:function(){return DE},BackSide:function(){return zl},BasicDepthPacking:function(){return ld},BasicShadowMap:function(){return Nl},Bone:function(){return zb},BooleanKeyframeTrack:function(){return v_},Box2:function(){return iE},Box3:function(){return Qh},Box3Helper:function(){return ZE},BoxGeometry:function(){return sm},BoxHelper:function(){return LE},BufferAttribute:function(){return Sv},BufferGeometry:function(){return zv},BufferGeometryLoader:function(){return oS},ByteType:function(){return Yc},Cache:function(){return E_},Camera:function(){return hm},CameraHelper:function(){return TE},CanvasTexture:function(){return Sw},CapsuleGeometry:function(){return qw},CatmullRomCurve3:function(){return Iw},CineonToneMapping:function(){return Ac},CircleGeometry:function(){return Xw},ClampToEdgeWrapping:function(){return Nc},Clock:function(){return wS},Color:function(){return hv},ColorKeyframeTrack:function(){return m_},ColorManagement:function(){return Ih},CompressedArrayTexture:function(){return _w},CompressedTexture:function(){return xw},CompressedTextureLoader:function(){return L_},ConeGeometry:function(){return Qw},CubeCamera:function(){return mm},CubeReflectionMapping:function(){return Pc},CubeRefractionMapping:function(){return Rc},CubeTexture:function(){return gm},CubeTextureLoader:function(){return O_},CubeUVReflectionMapping:function(){return Zc},CubicBezierCurve:function(){return Nw},CubicBezierCurve3:function(){return Uw},CubicInterpolant:function(){return f_},CullFaceBack:function(){return Ll},CullFaceFront:function(){return Zl},CullFaceFrontBack:function(){return Ol},CullFaceNone:function(){return Il},Curve:function(){return Ew},CurvePath:function(){return Gw},CustomBlending:function(){return Yl},CustomToneMapping:function(){return Tc},CylinderGeometry:function(){return Yw},Cylindrical:function(){return nE},Data3DTexture:function(){return Hh},DataArrayTexture:function(){return zh},DataTexture:function(){return jb},DataTextureLoader:function(){return N_},DataUtils:function(){return wv},DecrementStencilOp:function(){return xd},DecrementWrapStencilOp:function(){return Sd},DefaultLoadingManager:function(){return A_},DepthFormat:function(){return cf},DepthStencilFormat:function(){return ff},DepthTexture:function(){return eb},DirectionalLight:function(){return J_},DirectionalLightHelper:function(){return ME},DiscreteInterpolant:function(){return h_},DisplayP3ColorSpace:function(){return md},DodecahedronGeometry:function(){return Jw},DoubleSide:function(){return jl},DstAlphaFactor:function(){return sc},DstColorFactor:function(){return lc},DynamicCopyUsage:function(){return Xd},DynamicDrawUsage:function(){return jd},DynamicReadUsage:function(){return Wd},EdgesGeometry:function(){return rx},EllipseCurve:function(){return Mw},EqualCompare:function(){return Od},EqualDepth:function(){return mc},EqualStencilFunc:function(){return kd},EquirectangularReflectionMapping:function(){return Ic},EquirectangularRefractionMapping:function(){return Lc},Euler:function(){return Lp},EventDispatcher:function(){return th},ExtrudeGeometry:function(){return Lx},FileLoader:function(){return R_},Float16BufferAttribute:function(){return Rv},Float32BufferAttribute:function(){return Iv},Float64BufferAttribute:function(){return Lv},FloatType:function(){return ef},Fog:function(){return ub},FogExp2:function(){return sb},FramebufferTexture:function(){return ww},FrontSide:function(){return Fl},Frustum:function(){return Mm},GLBufferAttribute:function(){return KS},GLSL1:function(){return Qd},GLSL3:function(){return Kd},GreaterCompare:function(){return Ud},GreaterDepth:function(){return yc},GreaterEqualCompare:function(){return Bd},GreaterEqualDepth:function(){return gc},GreaterEqualStencilFunc:function(){return Rd},GreaterStencilFunc:function(){return Cd},GridHelper:function(){return wE},Group:function(){return Ky},HalfFloatType:function(){return tf},HemisphereLight:function(){return B_},HemisphereLightHelper:function(){return bE},HemisphereLightProbe:function(){return pS},IcosahedronGeometry:function(){return Ox},ImageBitmapLoader:function(){return fS},ImageLoader:function(){return Z_},ImageUtils:function(){return Lh},IncrementStencilOp:function(){return wd},IncrementWrapStencilOp:function(){return _d},InstancedBufferAttribute:function(){return Vb},InstancedBufferGeometry:function(){return aS},InstancedInterleavedBuffer:function(){return QS},InstancedMesh:function(){return ew},Int16BufferAttribute:function(){return kv},Int32BufferAttribute:function(){return Cv},Int8BufferAttribute:function(){return Ev},IntType:function(){return Jc},InterleavedBuffer:function(){return cb},InterleavedBufferAttribute:function(){return db},Interpolant:function(){return c_},InterpolateDiscrete:function(){return Qf},InterpolateLinear:function(){return Kf},InterpolateSmooth:function(){return Jf},InvertStencilOp:function(){return Ed},KeepStencilOp:function(){return yd},KeyframeTrack:function(){return p_},LOD:function(){return Pb},LatheGeometry:function(){return Vw},Layers:function(){return Zp},LessCompare:function(){return Zd},LessDepth:function(){return pc},LessEqualCompare:function(){return Nd},LessEqualDepth:function(){return vc},LessEqualStencilFunc:function(){return Td},LessStencilFunc:function(){return Ad},Light:function(){return D_},LightProbe:function(){return nS},Line:function(){return sw},Line3:function(){return sE},LineBasicMaterial:function(){return tw},LineCurve:function(){return Dw},LineCurve3:function(){return Bw},LineDashedMaterial:function(){return n_},LineLoop:function(){return fw},LineSegments:function(){return cw},LinearEncoding:function(){return sd},LinearFilter:function(){return Hc},LinearInterpolant:function(){return d_},LinearMipMapLinearFilter:function(){return qc},LinearMipMapNearestFilter:function(){return Wc},LinearMipmapLinearFilter:function(){return Vc},LinearMipmapNearestFilter:function(){return Gc},LinearSRGBColorSpace:function(){return vd},LinearToneMapping:function(){return Ec},Loader:function(){return k_},LoaderUtils:function(){return iS},LoadingManager:function(){return M_},LoopOnce:function(){return qf},LoopPingPong:function(){return Yf},LoopRepeat:function(){return Xf},LuminanceAlphaFormat:function(){return lf},LuminanceFormat:function(){return uf},MOUSE:function(){return Pl},Material:function(){return uv},MaterialLoader:function(){return rS},MathUtils:function(){return vh},Matrix3:function(){return gh},Matrix4:function(){return Sp},MaxEquation:function(){return ec},Mesh:function(){return am},MeshBasicMaterial:function(){return vv},MeshDepthMaterial:function(){return Gy},MeshDistanceMaterial:function(){return Wy},MeshLambertMaterial:function(){return e_},MeshMatcapMaterial:function(){return t_},MeshNormalMaterial:function(){return $x},MeshPhongMaterial:function(){return Kx},MeshPhysicalMaterial:function(){return Qx},MeshStandardMaterial:function(){return Yx},MeshToonMaterial:function(){return Jx},MinEquation:function(){return $l},MirroredRepeatWrapping:function(){return Uc},MixOperation:function(){return xc},MultiplyBlending:function(){return Xl},MultiplyOperation:function(){return wc},NearestFilter:function(){return Dc},NearestMipMapLinearFilter:function(){return jc},NearestMipMapNearestFilter:function(){return Fc},NearestMipmapLinearFilter:function(){return zc},NearestMipmapNearestFilter:function(){return Bc},NeverCompare:function(){return Ld},NeverDepth:function(){return dc},NeverStencilFunc:function(){return Md},NoBlending:function(){return Gl},NoColorSpace:function(){return hd},NoToneMapping:function(){return Sc},NormalAnimationBlendMode:function(){return nd},NormalBlending:function(){return Wl},NotEqualCompare:function(){return Dd},NotEqualDepth:function(){return bc},NotEqualStencilFunc:function(){return Pd},NumberKeyframeTrack:function(){return g_},Object3D:function(){return Xp},ObjectLoader:function(){return sS},ObjectSpaceNormalMap:function(){return dd},OctahedronGeometry:function(){return Nx},OneFactor:function(){return nc},OneMinusDstAlphaFactor:function(){return uc},OneMinusDstColorFactor:function(){return cc},OneMinusSrcAlphaFactor:function(){return oc},OneMinusSrcColorFactor:function(){return ic},OrthographicCamera:function(){return Bm},PCFShadowMap:function(){return Ul},PCFSoftShadowMap:function(){return Dl},PMREMGenerator:function(){return Xm},Path:function(){return Ww},PerspectiveCamera:function(){return pm},Plane:function(){return _m},PlaneGeometry:function(){return Tm},PlaneHelper:function(){return OE},PointLight:function(){return Q_},PointLightHelper:function(){return vE},Points:function(){return gw},PointsMaterial:function(){return dw},PolarGridHelper:function(){return xE},PolyhedronGeometry:function(){return Kw},PositionalAudio:function(){return IS},PropertyBinding:function(){return jS},PropertyMixer:function(){return ZS},QuadraticBezierCurve:function(){return Fw},QuadraticBezierCurve3:function(){return zw},Quaternion:function(){return Vh},QuaternionKeyframeTrack:function(){return b_},QuaternionLinearInterpolant:function(){return y_},RED_GREEN_RGTC2_Format:function(){return Wf},RED_RGTC1_Format:function(){return Hf},REVISION:function(){return Cl},RGBADepthPacking:function(){return cd},RGBAFormat:function(){return sf},RGBAIntegerFormat:function(){return mf},RGBA_ASTC_10x10_Format:function(){return Bf},RGBA_ASTC_10x5_Format:function(){return Nf},RGBA_ASTC_10x6_Format:function(){return Uf},RGBA_ASTC_10x8_Format:function(){return Df},RGBA_ASTC_12x10_Format:function(){return Ff},RGBA_ASTC_12x12_Format:function(){return zf},RGBA_ASTC_4x4_Format:function(){return Tf},RGBA_ASTC_5x4_Format:function(){return Cf},RGBA_ASTC_5x5_Format:function(){return Pf},RGBA_ASTC_6x5_Format:function(){return Rf},RGBA_ASTC_6x6_Format:function(){return If},RGBA_ASTC_8x5_Format:function(){return Lf},RGBA_ASTC_8x6_Format:function(){return Zf},RGBA_ASTC_8x8_Format:function(){return Of},RGBA_BPTC_Format:function(){return jf},RGBA_ETC2_EAC_Format:function(){return kf},RGBA_PVRTC_2BPPV1_Format:function(){return Ef},RGBA_PVRTC_4BPPV1_Format:function(){return Sf},RGBA_S3TC_DXT1_Format:function(){return yf},RGBA_S3TC_DXT3_Format:function(){return bf},RGBA_S3TC_DXT5_Format:function(){return wf},RGB_ETC1_Format:function(){return Mf},RGB_ETC2_Format:function(){return Af},RGB_PVRTC_2BPPV1_Format:function(){return _f},RGB_PVRTC_4BPPV1_Format:function(){return xf},RGB_S3TC_DXT1_Format:function(){return gf},RGFormat:function(){return pf},RGIntegerFormat:function(){return vf},RawShaderMaterial:function(){return Xx},Ray:function(){return _p},Raycaster:function(){return JS},RectAreaLight:function(){return eS},RedFormat:function(){return df},RedIntegerFormat:function(){return hf},ReinhardToneMapping:function(){return Mc},RepeatWrapping:function(){return Oc},ReplaceStencilOp:function(){return bd},ReverseSubtractEquation:function(){return Jl},RingGeometry:function(){return Ux},SIGNED_RED_GREEN_RGTC2_Format:function(){return Vf},SIGNED_RED_RGTC1_Format:function(){return Gf},SRGBColorSpace:function(){return pd},Scene:function(){return lb},ShaderChunk:function(){return Cm},ShaderLib:function(){return Rm},ShaderMaterial:function(){return dm},ShadowMaterial:function(){return qx},Shape:function(){return ix},ShapeGeometry:function(){return Dx},ShapePath:function(){return BE},ShapeUtils:function(){return Px},ShortType:function(){return Qc},Skeleton:function(){return Wb},SkeletonHelper:function(){return hE},SkinnedMesh:function(){return Fb},Source:function(){return Oh},Sphere:function(){return pp},SphereGeometry:function(){return Bx},Spherical:function(){return tE},SphericalHarmonics3:function(){return tS},SplineCurve:function(){return jw},SpotLight:function(){return W_},SpotLightHelper:function(){return lE},Sprite:function(){return Ab},SpriteMaterial:function(){return hb},SrcAlphaFactor:function(){return ac},SrcAlphaSaturateFactor:function(){return fc},SrcColorFactor:function(){return rc},StaticCopyUsage:function(){return qd},StaticDrawUsage:function(){return zd},StaticReadUsage:function(){return Gd},StereoCamera:function(){return bS},StreamCopyUsage:function(){return Yd},StreamDrawUsage:function(){return Hd},StreamReadUsage:function(){return Vd},StringKeyframeTrack:function(){return w_},SubtractEquation:function(){return Kl},SubtractiveBlending:function(){return ql},TOUCH:function(){return Rl},TangentSpaceNormalMap:function(){return fd},TetrahedronGeometry:function(){return Fx},Texture:function(){return Dh},TextureLoader:function(){return U_},TorusGeometry:function(){return zx},TorusKnotGeometry:function(){return jx},Triangle:function(){return ov},TriangleFanDrawMode:function(){return od},TriangleStripDrawMode:function(){return ad},TrianglesDrawMode:function(){return id},TubeGeometry:function(){return Hx},TwoPassDoubleSide:function(){return Hl},UVMapping:function(){return Cc},Uint16BufferAttribute:function(){return Tv},Uint32BufferAttribute:function(){return Pv},Uint8BufferAttribute:function(){return Mv},Uint8ClampedBufferAttribute:function(){return Av},Uniform:function(){return qS},UniformsGroup:function(){return YS},UniformsLib:function(){return Pm},UniformsUtils:function(){return fm},UnsignedByteType:function(){return Xc},UnsignedInt248Type:function(){return af},UnsignedIntType:function(){return $c},UnsignedShort4444Type:function(){return nf},UnsignedShort5551Type:function(){return rf},UnsignedShortType:function(){return Kc},VSMShadowMap:function(){return Bl},Vector2:function(){return mh},Vector3:function(){return qh},Vector4:function(){return Bh},VectorKeyframeTrack:function(){return x_},VideoTexture:function(){return bw},WebGL1Renderer:function(){return ab},WebGL3DRenderTarget:function(){return Gh},WebGLArrayRenderTarget:function(){return jh},WebGLCoordinateSystem:function(){return $d},WebGLCubeRenderTarget:function(){return ym},WebGLMultipleRenderTargets:function(){return Wh},WebGLRenderTarget:function(){return Fh},WebGLRenderer:function(){return ib},WebGLUtils:function(){return Yy},WebGPUCoordinateSystem:function(){return eh},WireframeGeometry:function(){return Gx},WrapAroundEnding:function(){return td},ZeroCurvatureEnding:function(){return $f},ZeroFactor:function(){return tc},ZeroSlopeEnding:function(){return ed},ZeroStencilOp:function(){return gd},_SRGBAFormat:function(){return Jd},sRGBEncoding:function(){return ud}});var t=n(2791),r=n(1250),i=n(7248),a=n(327),o=n(4164);var s=function(e){e()},u=function(){return s},l=n(4942),c=Symbol.for("react-redux-context-".concat(t.version)),f=globalThis;var d=new Proxy({},new Proxy({},{get:function(e,n){var r=function(){var e=f[c];return e||(e=(0,t.createContext)(null),f[c]=e),e}();return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return Reflect[n].apply(Reflect,[r].concat(i))}}}));function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return function(){return(0,t.useContext)(e)}}var p=h(),v=function(){throw new Error("uSES not initialized!")},m=function(e,t){return e===t};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=e===d?p:h(e);return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="function"===typeof r?{equalityFn:r}:r,a=i.equalityFn,o=void 0===a?m:a,s=i.stabilityCheck,u=void 0===s?void 0:s;i.noopCheck;var c=n(),f=c.store,d=c.subscription,h=c.getServerState,p=c.stabilityCheck,g=(c.noopCheck,(0,t.useRef)(!0),(0,t.useCallback)((0,l.Z)({},e.name,(function(t){return e(t)}))[e.name],[e,p,u])),y=v(d.addNestedSub,f.getState,h||f.getState,g,o);return(0,t.useDebugValue)(y),y}}var y=g();n(2110),n(6900);var b={notify:function(){},get:function(){return[]}};function w(e,t){var n,r=b;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=u(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=b)},getListeners:function(){return r}};return o}var x=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var _=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=e.stabilityCheck,s=void 0===o?"once":o,u=e.noopCheck,l=void 0===u?"once":u,c=(0,t.useMemo)((function(){var e=w(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0,stabilityCheck:s,noopCheck:l}}),[n,a,s,l]),f=(0,t.useMemo)((function(){return n.getState()}),[n]);x((function(){var e=c.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),f!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[c,f]);var h=r||d;return t.createElement(h.Provider,{value:c},i)};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=e===d?p:h(e);return function(){return t().store}}var E=S();function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=e===d?E:S(e);return function(){return t().dispatch}}var A,k,T=M();A=a.useSyncExternalStoreWithSelector,v=A,function(e){e}(i.useSyncExternalStore),k=o.unstable_batchedUpdates,s=k;var C=n(3433),P=n(4165),R=n(5861),I=n(5671),L=n(3144),Z=n(4925),O=n(1413),N=n(9439),U=n(136),D=n(9388),B=n(8664),F=n(7762),z=n(7326),j=n(7143),H={id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0x56522D00C410a43BFfDF00a9A569489297385790",blockCreated:8765204},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0},G={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc0497E381f536Be9ce14B0dD3817cBcAe57d2F62",blockCreated:16966585},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}},W=n(4094),V=n(900),q=n(5119),X=(n(271),{"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"});function Y(e){var t=(0,O.Z)((0,O.Z)({},e),{},{blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,V.ly)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,V.ly)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?X[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0});return"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip2930"===t.type&&(delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t}function Q(e){var t,n=null===(t=e.transactions)||void 0===t?void 0:t.map((function(e){return"string"===typeof e?e:Y(e)}));return(0,O.Z)((0,O.Z)({},e),{},{baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,difficulty:e.difficulty?BigInt(e.difficulty):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null})}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.args,r=t.eventName;return(0,O.Z)((0,O.Z)({},e),{},{blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null},r?{args:n,eventName:r}:{})}var J={"0x0":"reverted","0x1":"success"};function $(e){return(0,O.Z)((0,O.Z)({},e),{},{blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map((function(e){return K(e)})):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,V.ly)(e.transactionIndex):null,status:e.status?J[e.status]:null,type:e.type?X[e.type]||e.type:null})}var ee=n(267),te=n(7915),ne=n(8970),re=(n(6289),n(341),n(3724)),ie=n(9259),ae=n(5466),oe=n(4623);var se=n(902);var ue=(0,W.ax)(H),le=(0,W.ax)(G),ce=["default"],fe=Object.defineProperty,de=function(e,t,n){return function(e,t,n){t in e?fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},he=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},pe=function(e,t,n){return he(e,t,"read from private field"),n?n.call(e):t.get(e)},ve=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},me=function(e,t,n,r){return he(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},ge=function(e,t,n){return he(e,t,"access private method"),n},ye=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r,i=e.chains,a=void 0===i?[le,ue]:i,o=e.options;return(0,I.Z)(this,n),r=t.call(this),de((0,z.Z)(r),"chains"),de((0,z.Z)(r),"options"),de((0,z.Z)(r),"storage"),r.chains=a,r.options=o,r}return(0,L.Z)(n,[{key:"getBlockExplorerUrls",value:function(e){var t,n=null!==(t=e.blockExplorers)&&void 0!==t?t:{},r=n.default,i=(0,Z.Z)(n,ce);if(r)return[r.url].concat((0,C.Z)(Object.values(i).map((function(e){return e.url}))))}},{key:"isChainUnsupported",value:function(e){return!this.chains.some((function(t){return t.id===e}))}},{key:"setStorage",value:function(e){this.storage=e}}]),n}(j),be=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r,i=e.chainId,a=e.connectorId;return(0,I.Z)(this,n),r=t.call(this,'Chain "'.concat(i,'" not configured for connector "').concat(a,'".')),de((0,z.Z)(r),"name","ChainNotConfiguredForConnectorError"),r}return(0,L.Z)(n)}((0,B.Z)(Error)),we=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),e=t.apply(this,arguments),de((0,z.Z)(e),"name","ConnectorNotFoundError"),de((0,z.Z)(e),"message","Connector not found"),e}return(0,L.Z)(n)}((0,B.Z)(Error));function xe(e){return"string"===typeof e?Number.parseInt(e,"0x"===e.trim().substring(0,2)?16:10):"bigint"===typeof e?Number(e):e}var _e,Se=n(1577),Ee=n(5935),Me=n(937),Ae=256,ke=Ae;function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11;if(!_e||ke+e>2*Ae){_e="",ke=0;for(var t=0;t<Ae;t++)_e+=(256+256*Math.random()|0).toString(16).substring(1)}return _e.substring(ke,ke+++e)}function Ce(e){var t=e.account,n=e.batch,r=e.chain,i=e.key,a=void 0===i?"base":i,o=e.name,s=void 0===o?"Base Client":o,u=e.pollingInterval,l=void 0===u?4e3:u,c=e.transport,f=e.type,d=void 0===f?"base":f,h=c({chain:r,pollingInterval:l}),p=h.config,v=h.request,m=h.value,g={account:t?(0,Me.T)(t):void 0,batch:n,chain:r,key:a,name:s,pollingInterval:l,request:v,transport:(0,O.Z)((0,O.Z)({},p),m),type:d,uid:Te()};return Object.assign(g,{extend:function e(t){return function(n){var r=n(t);for(var i in g)delete r[i];var a=(0,O.Z)((0,O.Z)({},t),r);return Object.assign(a,{extend:e(a)})}}(g)})}function Pe(e){return Re.apply(this,arguments)}function Re(){return Re=(0,R.Z)((0,P.Z)().mark((function e(t){var n;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"eth_chainId"});case 2:return n=e.sent,e.abrupt("return",(0,V.ly)(n));case 4:case"end":return e.stop()}}),e)}))),Re.apply(this,arguments)}function Ie(){return Ie=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.chain,i=r.id,a=r.name,o=r.nativeCurrency,s=r.rpcUrls,u=r.blockExplorers,e.next=4,t.request({method:"wallet_addEthereumChain",params:[{chainId:(0,q.eC)(i),chainName:a,nativeCurrency:o,rpcUrls:s.default.http,blockExplorerUrls:u?Object.values(u).map((function(e){return e.url})):void 0}]});case 4:case"end":return e.stop()}}),e)}))),Ie.apply(this,arguments)}var Le=n(1529),Ze=n(5899),Oe="/docs/contract/encodeDeployData";function Ne(e){var t=e.abi,n=e.args,r=e.bytecode;if(!n||0===n.length)return r;var i=t.find((function(e){return"type"in e&&"constructor"===e.type}));if(!i)throw new Le.fM({docsPath:Oe});if(!("inputs"in i))throw new Le.cO({docsPath:Oe});if(!i.inputs||0===i.inputs.length)throw new Le.cO({docsPath:Oe});var a=(0,Ze.E)(i.inputs,n);return(0,ie.SM)([r,a])}var Ue=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).docsPath;return(0,I.Z)(this,n),e=t.call(this,["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join("\n"),{docsPath:r,docsSlug:"account"}),Object.defineProperty((0,z.Z)(e),"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"}),e}return(0,L.Z)(n)}(ne.G),De=n(667),Be=["docsPath"];function Fe(e,t){var n=t.docsPath,r=(0,Z.Z)(t,Be),i=e;return(0,De.B)(e)&&(i=(0,De.k)(e,r)),new se.mk(i,(0,O.Z)({docsPath:n},r))}var ze=n(3670),je=n(6889),He=n(251),Ge=n(5514),We=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r){var i,a=r.account,o=r.docsPath,s=r.chain,u=r.data,l=r.gas,c=r.gasPrice,f=r.maxFeePerGas,d=r.maxPriorityFeePerGas,h=r.nonce,p=r.to,v=r.value;(0,I.Z)(this,n);var m=(0,se.xr)({from:null===a||void 0===a?void 0:a.address,to:p,value:"undefined"!==typeof v&&"".concat((0,He.d)(v)," ").concat((null===s||void 0===s?void 0:s.nativeCurrency.symbol)||"ETH"),data:u,gas:l,gasPrice:"undefined"!==typeof c&&"".concat((0,Ge.o)(c)," gwei"),maxFeePerGas:"undefined"!==typeof f&&"".concat((0,Ge.o)(f)," gwei"),maxPriorityFeePerGas:"undefined"!==typeof d&&"".concat((0,Ge.o)(d)," gwei"),nonce:h});return i=t.call(this,e.shortMessage,{cause:e,docsPath:o,metaMessages:[].concat((0,C.Z)(e.metaMessages?[].concat((0,C.Z)(e.metaMessages),[" "]):[]),["Estimate Gas Arguments:",m]).filter(Boolean)}),Object.defineProperty((0,z.Z)(i),"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,z.Z)(i),"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),i.cause=e,i}return(0,L.Z)(n)}(ne.G),Ve=["docsPath"];function qe(e,t){var n=t.docsPath,r=(0,Z.Z)(t,Ve),i=e;return(0,De.B)(e)&&(i=(0,De.k)(e,r)),new We(i,(0,O.Z)({docsPath:n},r))}var Xe=["accessList","blockNumber","blockTag","data","gas","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","value"];function Ye(e,t){return Qe.apply(this,arguments)}function Qe(){return Qe=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c,f,d,h,p,v,m,g,y,b,w,x,_,S,E;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null!==(r=n.account)&&void 0!==r?r:t.account){e.next=3;break}throw new Ue({docsPath:"/docs/actions/public/estimateGas"});case 3:if(a=(0,Me.T)(i),e.prev=4,"local"!==a.type){e.next=11;break}return e.next=8,at(t,n);case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=n;case 12:return s=e.t0,u=s.accessList,l=s.blockNumber,c=s.blockTag,f=s.data,d=s.gas,h=s.gasPrice,p=s.maxFeePerGas,v=s.maxPriorityFeePerGas,m=s.nonce,g=s.to,y=s.value,b=(0,Z.Z)(s,Xe),w=l?(0,q.eC)(l):void 0,x=w||c,(0,je.F)(n),_=(null===(o=t.chain)||void 0===o||null===(o=o.formatters)||void 0===o||null===(o=o.transactionRequest)||void 0===o?void 0:o.format)||ee.t,S=_((0,O.Z)((0,O.Z)({},(0,ze.K)(b,{format:_})),{},{from:a.address,accessList:u,data:f,gas:d,gasPrice:h,maxFeePerGas:p,maxPriorityFeePerGas:v,nonce:m,to:g,value:y})),e.next=32,t.request({method:"eth_estimateGas",params:x?[S,x]:[S]});case 32:return E=e.sent,e.abrupt("return",BigInt(E));case 36:throw e.prev=36,e.t1=e.catch(4),qe(e.t1,(0,O.Z)((0,O.Z)({},n),{},{account:a,chain:t.chain}));case 39:case"end":return e.stop()}}),e,null,[[4,36]])}))),Qe.apply(this,arguments)}var Ke=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r,i=e.blockHash,a=e.blockNumber;(0,I.Z)(this,n);var o="Block";return i&&(o='Block at hash "'.concat(i,'"')),a&&(o='Block at number "'.concat(a,'"')),r=t.call(this,"".concat(o," could not be found.")),Object.defineProperty((0,z.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"}),r}return(0,L.Z)(n)}(ne.G);function Je(e){return $e.apply(this,arguments)}function $e(){return $e=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a,o,s,u,l,c,f,d,h=arguments;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(r=h.length>1&&void 0!==h[1]?h[1]:{}).blockHash,a=r.blockNumber,o=r.blockTag,s=void 0===o?"latest":o,u=r.includeTransactions,l=void 0!==u&&u,c=void 0!==a?(0,q.eC)(a):void 0,f=null,!i){e.next=9;break}return e.next=6,t.request({method:"eth_getBlockByHash",params:[i,l]});case 6:f=e.sent,e.next=12;break;case 9:return e.next=11,t.request({method:"eth_getBlockByNumber",params:[c||s,l]});case 11:f=e.sent;case 12:if(f){e.next=14;break}throw new Ke({blockHash:i,blockNumber:a});case 14:return d=(null===(n=t.chain)||void 0===n||null===(n=n.formatters)||void 0===n||null===(n=n.block)||void 0===n?void 0:n.format)||Q,e.abrupt("return",d(f));case 16:case"end":return e.stop()}}),e)}))),$e.apply(this,arguments)}function et(e){return tt.apply(this,arguments)}function tt(){return tt=(0,R.Z)((0,P.Z)().mark((function e(t){var n;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"eth_gasPrice"});case 2:return n=e.sent,e.abrupt("return",BigInt(n));case 4:case"end":return e.stop()}}),e)}))),tt.apply(this,arguments)}function nt(e,t){return rt.apply(this,arguments)}function rt(){return rt=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.address,i=n.blockTag,a=void 0===i?"latest":i,o=n.blockNumber,e.next=3,t.request({method:"eth_getTransactionCount",params:[r,o?(0,q.eC)(o):a]});case 3:return s=e.sent,e.abrupt("return",(0,V.ly)(s));case 5:case"end":return e.stop()}}),e)}))),rt.apply(this,arguments)}var it=1500000000n;function at(e,t){return ot.apply(this,arguments)}function ot(){return ot=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c,f;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.account,i=n.gas,a=n.gasPrice,o=n.maxFeePerGas,s=n.maxPriorityFeePerGas,u=n.nonce,r){e.next=3;break}throw new Ue;case 3:return l=(0,Me.T)(r),e.next=6,Je(t,{blockTag:"latest"});case 6:if(c=e.sent,f=(0,O.Z)((0,O.Z)({},n),{},{from:l.address}),"undefined"!==typeof u){e.next=12;break}return e.next=11,nt(t,{address:l.address,blockTag:"pending"});case 11:f.nonce=e.sent;case 12:if(!c.baseFeePerGas){e.next=26;break}if("undefined"===typeof a){e.next=15;break}throw new ne.G("Chain does not support legacy `gasPrice`.");case 15:if("undefined"!==typeof o){e.next=20;break}f.maxPriorityFeePerGas=null!==s&&void 0!==s?s:it,f.maxFeePerGas=120n*c.baseFeePerGas/100n+f.maxPriorityFeePerGas,e.next=24;break;case 20:if(!("undefined"===typeof s&&o<it)){e.next=22;break}throw new ne.G("`maxFeePerGas` cannot be less than the default `maxPriorityFeePerGas` (1.5 gwei).");case 22:f.maxFeePerGas=o,f.maxPriorityFeePerGas=null!==s&&void 0!==s?s:it;case 24:e.next=34;break;case 26:if("undefined"===typeof o&&"undefined"===typeof s){e.next=28;break}throw new ne.G("Chain does not support EIP-1559 fees.");case 28:if("undefined"!==typeof a){e.next=34;break}return e.next=31,et(t);case 31:e.t0=e.sent,e.t1=120n*e.t0,f.gasPrice=e.t1/100n;case 34:if("undefined"!==typeof i){e.next=38;break}return e.next=37,Ye(t,(0,O.Z)((0,O.Z)({},f),{},{account:{address:l.address,type:"json-rpc"}}));case 37:f.gas=e.sent;case 38:return(0,je.F)(f),e.abrupt("return",f);case 40:case"end":return e.stop()}}),e)}))),ot.apply(this,arguments)}var st=["account","chain","accessList","data","gas","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","value"];function ut(e,t){return lt.apply(this,arguments)}function lt(){return lt=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c,f,d,h,p,v,m,g,y,b,w,x,_,S,E,M;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.account,i=void 0===r?t.account:r,a=n.chain,o=void 0===a?t.chain:a,s=n.accessList,u=n.data,l=n.gas,c=n.gasPrice,f=n.maxFeePerGas,d=n.maxPriorityFeePerGas,h=n.nonce,p=n.to,v=n.value,m=(0,Z.Z)(n,st),i){e.next=3;break}throw new Ue({docsPath:"/docs/actions/wallet/sendTransaction"});case 3:if(g=(0,Me.T)(i),e.prev=4,(0,je.F)(n),null===o){e.next=11;break}return e.next=9,Pe(t);case 9:b=e.sent,(0,W.qg)({currentChainId:b,chain:o});case 11:if("local"!==g.type){e.next=26;break}return e.next=14,at(t,(0,O.Z)({account:g,accessList:s,chain:o,data:u,gas:l,gasPrice:c,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,to:p,value:v},m));case 14:if(x=e.sent,b){e.next=19;break}return e.next=18,Pe(t);case 18:b=e.sent;case 19:return _=null===o||void 0===o||null===(w=o.serializers)||void 0===w?void 0:w.transaction,e.next=22,g.signTransaction((0,O.Z)((0,O.Z)({},x),{},{chainId:b}),{serializer:_});case 22:return S=e.sent,e.next=25,t.request({method:"eth_sendRawTransaction",params:[S]});case 25:return e.abrupt("return",e.sent);case 26:return E=(null===o||void 0===o||null===(y=o.formatters)||void 0===y||null===(y=y.transactionRequest)||void 0===y?void 0:y.format)||ee.t,M=E((0,O.Z)((0,O.Z)({},(0,ze.K)(m,{format:E})),{},{accessList:s,data:u,from:g.address,gas:l,gasPrice:c,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,to:p,value:v})),e.next=30,t.request({method:"eth_sendTransaction",params:[M]});case 30:return e.abrupt("return",e.sent);case 33:throw e.prev=33,e.t0=e.catch(4),Fe(e.t0,(0,O.Z)((0,O.Z)({},n),{},{account:g,chain:n.chain||void 0}));case 36:case"end":return e.stop()}}),e,null,[[4,33]])}))),lt.apply(this,arguments)}var ct=["abi","args","bytecode"];function ft(){return ft=(0,R.Z)((0,P.Z)().mark((function e(t){var n;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"eth_accounts"});case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return(0,Se.x)(e)})));case 4:case"end":return e.stop()}}),e)}))),ft.apply(this,arguments)}function dt(){return dt=(0,R.Z)((0,P.Z)().mark((function e(t){var n;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"wallet_getPermissions"});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),dt.apply(this,arguments)}function ht(){return ht=(0,R.Z)((0,P.Z)().mark((function e(t){var n;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"eth_requestAccounts"});case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return(0,Se.K)(e)})));case 4:case"end":return e.stop()}}),e)}))),ht.apply(this,arguments)}function pt(){return pt=(0,R.Z)((0,P.Z)().mark((function e(t,n){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.request({method:"wallet_requestPermissions",params:[n]}));case 1:case"end":return e.stop()}}),e)}))),pt.apply(this,arguments)}function vt(){return vt=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.account,i=void 0===r?t.account:r,a=n.message,i){e.next=3;break}throw new Ue({docsPath:"/docs/actions/wallet/signMessage"});case 3:if("local"!==(o=(0,Me.T)(i)).type){e.next=6;break}return e.abrupt("return",o.signMessage({message:a}));case 6:return s="string"===typeof a?(0,q.$G)(a):a.raw instanceof Uint8Array?(0,q.NC)(a.raw):a.raw,e.abrupt("return",t.request({method:"personal_sign",params:[s,o.address]}));case 8:case"end":return e.stop()}}),e)}))),vt.apply(this,arguments)}var mt=n(5273),gt=n(197),yt=n(2975),bt=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,wt=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function xt(e){var t=e.domain,n=e.message,r=e.primaryType,i=e.types,a=function e(t,n){var r,a=(0,F.Z)(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.name,u=o.type,l=n[s],c=u.match(wt);if(c&&("number"===typeof l||"bigint"===typeof l)){var f=(0,N.Z)(c,3),d=(f[0],f[1]),h=f[2];(0,q.eC)(l,{signed:"int"===d,size:parseInt(h)/8})}if("address"===u&&"string"===typeof l&&!(0,re.U)(l))throw new te.b({address:l});var p=u.match(bt);if(p){var v=(0,N.Z)(p,2),m=(v[0],v[1]);if(m&&(0,yt.d)(l)!==parseInt(m))throw new Le.KY({expectedSize:parseInt(m),givenSize:(0,yt.d)(l)})}var g=i[u];g&&e(g,l)}}catch(y){a.e(y)}finally{a.f()}};(i.EIP712Domain&&t&&a(i.EIP712Domain,t),"EIP712Domain"!==r)&&a(i[r],n)}function _t(){return _t=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c,f;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.account,i=void 0===r?t.account:r,a=n.domain,o=n.message,s=n.primaryType,u=n.types,i){e.next=3;break}throw new Ue({docsPath:"/docs/actions/wallet/signTypedData"});case 3:if(l=(0,Me.T)(i),c=(0,O.Z)({EIP712Domain:["string"===typeof(null===a||void 0===a?void 0:a.name)&&{name:"name",type:"string"},(null===a||void 0===a?void 0:a.version)&&{name:"version",type:"string"},"number"===typeof(null===a||void 0===a?void 0:a.chainId)&&{name:"chainId",type:"uint256"},(null===a||void 0===a?void 0:a.verifyingContract)&&{name:"verifyingContract",type:"address"},(null===a||void 0===a?void 0:a.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)},u),xt({domain:a,message:o,primaryType:s,types:c}),"local"!==l.type){e.next=8;break}return e.abrupt("return",l.signTypedData({domain:a,primaryType:s,types:c,message:o}));case 8:return f=(0,gt.P)({domain:null!==a&&void 0!==a?a:{},primaryType:s,types:c,message:o},(function(e,t){return(0,mt.v)(t)?t.toLowerCase():t})),e.abrupt("return",t.request({method:"eth_signTypedData_v4",params:[l.address,f]}));case 10:case"end":return e.stop()}}),e)}))),_t.apply(this,arguments)}function St(){return St=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,e.next=3,t.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,q.eC)(r)}]});case 3:case"end":return e.stop()}}),e)}))),St.apply(this,arguments)}function Et(){return Et=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"wallet_watchAsset",params:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),Et.apply(this,arguments)}var Mt=n(9273),At=["abi","address","args","dataSuffix","functionName"];function kt(){return kt=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.abi,i=n.address,a=n.args,o=n.dataSuffix,s=n.functionName,u=(0,Z.Z)(n,At),l=(0,Mt.R)({abi:r,args:a,functionName:s}),e.next=4,ut(t,(0,O.Z)({data:"".concat(l).concat(o?o.replace("0x",""):""),to:i},u));case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)}))),kt.apply(this,arguments)}var Tt=function(e){return{addChain:function(t){return function(e,t){return Ie.apply(this,arguments)}(e,t)},deployContract:function(t){return function(e,t){var n=t.abi,r=t.args,i=t.bytecode,a=(0,Z.Z)(t,ct),o=Ne({abi:n,args:r,bytecode:i});return ut(e,(0,O.Z)((0,O.Z)({},a),{},{data:o}))}(e,t)},getAddresses:function(){return function(e){return ft.apply(this,arguments)}(e)},getChainId:function(){return Pe(e)},getPermissions:function(){return function(e){return dt.apply(this,arguments)}(e)},requestAddresses:function(){return function(e){return ht.apply(this,arguments)}(e)},requestPermissions:function(t){return function(e,t){return pt.apply(this,arguments)}(e,t)},sendTransaction:function(t){return ut(e,t)},signMessage:function(t){return function(e,t){return vt.apply(this,arguments)}(e,t)},signTypedData:function(t){return function(e,t){return _t.apply(this,arguments)}(e,t)},switchChain:function(t){return function(e,t){return St.apply(this,arguments)}(e,t)},watchAsset:function(t){return function(e,t){return Et.apply(this,arguments)}(e,t)},writeContract:function(t){return function(e,t){return kt.apply(this,arguments)}(e,t)}}};function Ct(e){var t=e.account,n=e.chain,r=e.transport,i=e.key,a=void 0===i?"wallet":i,o=e.name;return Ce({account:t,chain:n,key:a,name:void 0===o?"Wallet Client":o,pollingInterval:e.pollingInterval,transport:function(e){return r((0,O.Z)((0,O.Z)({},e),{},{retryCount:0}))},type:"walletClient"}).extend(Tt)}var Pt=n(6195);function Rt(e){return It.apply(this,arguments)}function It(){return It=(0,R.Z)((0,P.Z)().mark((function e(t){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)}))),It.apply(this,arguments)}function Lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,r=void 0===n?100:n,i=t.retryCount,a=void 0===i?2:i,o=t.shouldRetry,s=void 0===o?function(){return!0}:o;return new Promise((function(t,n){var i=function(){var o=(0,R.Z)((0,P.Z)().mark((function o(){var u,l,c,f,d=arguments;return(0,P.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return u=(d.length>0&&void 0!==d[0]?d[0]:{}).count,l=void 0===u?0:u,c=function(){var e=(0,R.Z)((0,P.Z)().mark((function e(t){var n,a;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.error,!(a="function"===typeof r?r({count:l,error:n}):r)){e.next=5;break}return e.next=5,Rt(a);case 5:i({count:l+1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.prev=2,o.next=5,e();case 5:f=o.sent,t(f),o.next=19;break;case 9:if(o.prev=9,o.t0=o.catch(2),o.t1=l<a,!o.t1){o.next=16;break}return o.next=15,s({count:l,error:o.t0});case 15:o.t1=o.sent;case 16:if(!o.t1){o.next=18;break}return o.abrupt("return",c({error:o.t0}));case 18:n(o.t0);case 19:case"end":return o.stop()}}),o,null,[[2,9]])})));return function(){return o.apply(this,arguments)}}();i()}))}var Zt,Ot=function(e){return"code"in e?-1!==e.code&&-32004!==e.code&&-32005!==e.code&&-32042!==e.code&&-32603!==e.code:!!(e instanceof Pt.Gg&&e.status)&&(403!==e.status&&408!==e.status&&413!==e.status&&429!==e.status&&500!==e.status&&502!==e.status&&503!==e.status&&504!==e.status)};function Nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.retryDelay,r=void 0===n?150:n,i=t.retryCount,a=void 0===i?3:i;return function(){var t=(0,R.Z)((0,P.Z)().mark((function t(n){return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Lt((0,R.Z)((0,P.Z)().mark((function t(){var r;return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(n);case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),r=t.t0,t.t1=r.code,t.next=t.t1===Ee.s7.code?12:t.t1===Ee.B.code?13:t.t1===Ee.LX.code?14:t.t1===Ee.nY.code?15:t.t1===Ee.XS.code?16:t.t1===Ee.yR.code?17:t.t1===Ee.Og.code?18:t.t1===Ee.pT.code?19:t.t1===Ee.KB.code?20:t.t1===Ee.gS.code?21:t.t1===Ee.Pv.code?22:t.t1===Ee.GD.code?23:t.t1===Ee.ab.code?24:t.t1===Ee.PE.code?25:t.t1===Ee.Ts.code?26:t.t1===Ee.u5.code?27:t.t1===Ee.I0.code?28:t.t1===Ee.x3.code?29:30;break;case 12:throw new Ee.s7(r);case 13:throw new Ee.B(r);case 14:throw new Ee.LX(r);case 15:throw new Ee.nY(r);case 16:throw new Ee.XS(r);case 17:throw new Ee.yR(r);case 18:throw new Ee.Og(r);case 19:throw new Ee.pT(r);case 20:throw new Ee.KB(r);case 21:throw new Ee.gS(r);case 22:throw new Ee.Pv(r);case 23:throw new Ee.GD(r);case 24:throw new Ee.ab(r);case 25:throw new Ee.PE(r);case 26:throw new Ee.Ts(r);case 27:throw new Ee.u5(r);case 28:throw new Ee.I0(r);case 29:throw new Ee.x3(r);case 30:if(!(t.t0 instanceof ne.G)){t.next=32;break}throw t.t0;case 32:throw new Ee.ir(r);case 33:case"end":return t.stop()}}),t,null,[[0,6]])}))),{delay:function(e){var t=e.count,n=e.error;if(n&&n instanceof Pt.Gg){var i,a=null===n||void 0===n||null===(i=n.headers)||void 0===i?void 0:i.get("Retry-After");if(null!==a&&void 0!==a&&a.match(/\d/))return 1e3*parseInt(a)}return~~(1<<t)*r},retryCount:a,shouldRetry:function(e){var t=e.error;return!Ot(t)}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ut(e,t){var n=e.key,r=e.name,i=e.request,a=e.retryCount,o=void 0===a?3:a,s=e.retryDelay,u=void 0===s?150:s;return{config:{key:n,name:r,request:i,retryCount:o,retryDelay:u,timeout:e.timeout,type:e.type},request:Nt(i,{retryCount:o,retryDelay:u}),value:t}}function Dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.key,r=void 0===n?"custom":n,i=t.name,a=void 0===i?"Custom Provider":i,o=t.retryDelay;return function(n){var i,s=n.retryCount;return Ut({key:r,name:a,request:e.request.bind(e),retryCount:null!==(i=t.retryCount)&&void 0!==i?i:s,retryDelay:o,type:"custom"})}}var Bt=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.chains,a=r.options;(0,I.Z)(this,n);var o=(0,O.Z)({shimDisconnect:!0,getProvider:function(){if("undefined"!==typeof window){var e=window.ethereum;return null!==e&&void 0!==e&&e.providers?e.providers[0]:e}}},a);e=t.call(this,{chains:i,options:o}),de((0,z.Z)(e),"id","injected"),de((0,z.Z)(e),"name"),de((0,z.Z)(e),"ready"),ve((0,z.Z)(e),Zt,void 0),de((0,z.Z)(e),"shimDisconnectKey","".concat(e.id,".shimDisconnect")),de((0,z.Z)(e),"onAccountsChanged",(function(t){0===t.length?e.emit("disconnect"):e.emit("change",{account:(0,Se.K)(t[0])})})),de((0,z.Z)(e),"onChainChanged",(function(t){var n=xe(t),r=e.isChainUnsupported(n);e.emit("change",{chain:{id:n,unsupported:r}})})),de((0,z.Z)(e),"onDisconnect",function(){var t=(0,R.Z)((0,P.Z)().mark((function t(n){var r;return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1013!==n.code){t.next=10;break}return t.next=3,e.getProvider();case 3:if(!t.sent){t.next=10;break}return t.next=7,e.getAccount();case 7:if(!t.sent){t.next=10;break}return t.abrupt("return");case 10:e.emit("disconnect"),e.options.shimDisconnect&&(null===(r=e.storage)||void 0===r||r.removeItem(e.shimDisconnectKey));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var s=o.getProvider();if("string"===typeof o.name)e.name=o.name;else if(s){var u=function(e){var t,n;if(!e)return"Injected";var r=function(e){return e.isApexWallet?"Apex Wallet":e.isAvalanche?"Core Wallet":e.isBackpack?"Backpack":e.isBifrost?"Bifrost Wallet":e.isBitKeep?"BitKeep":e.isBitski?"Bitski":e.isBlockWallet?"BlockWallet":e.isBraveWallet?"Brave Wallet":e.isCoinbaseWallet?"Coinbase Wallet":e.isDawn?"Dawn Wallet":e.isDefiant?"Defiant":e.isEnkrypt?"Enkrypt":e.isExodus?"Exodus":e.isFrame?"Frame":e.isFrontier?"Frontier Wallet":e.isGamestop?"GameStop Wallet":e.isHaqqWallet?"HAQQ Wallet":e.isHyperPay?"HyperPay Wallet":e.isImToken?"ImToken":e.isHaloWallet?"Halo Wallet":e.isKuCoinWallet?"KuCoin Wallet":e.isMathWallet?"MathWallet":e.isNovaWallet?"Nova Wallet":e.isOkxWallet||e.isOKExWallet?"OKX Wallet":e.isOneInchIOSWallet||e.isOneInchAndroidWallet?"1inch Wallet":e.isOpera?"Opera":e.isPhantom?"Phantom":e.isPortal?"Ripio Portal":e.isRabby?"Rabby Wallet":e.isRainbow?"Rainbow":e.isStatus?"Status":e.isTalisman?"Talisman":e.isTally?"Taho":e.isTokenPocket?"TokenPocket":e.isTokenary?"Tokenary":e.isTrust||e.isTrustWallet?"Trust Wallet":e.isTTWallet?"TTWallet":e.isXDEFI?"XDEFI Wallet":e.isZerion?"Zerion":e.isMetaMask?"MetaMask":void 0};if(null!==(t=e.providers)&&void 0!==t&&t.length){var i,a,o=new Set,s=1,u=(0,F.Z)(e.providers);try{for(u.s();!(a=u.n()).done;){var l=r(a.value);l||(l="Unknown Wallet #".concat(s),s+=1),o.add(l)}}catch(f){u.e(f)}finally{u.f()}var c=(0,C.Z)(o);return c.length?c:null!==(i=c[0])&&void 0!==i?i:"Injected"}return null!==(n=r(e))&&void 0!==n?n:"Injected"}(s);o.name?e.name=o.name(u):e.name="string"===typeof u?u:u[0]}else e.name="Injected";return e.ready=!!s,e}return(0,L.Z)(n,[{key:"connect",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,n,r,i,a,o,s,u,l=arguments;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(l.length>0&&void 0!==l[0]?l[0]:{}).chainId,e.prev=1,e.next=4,this.getProvider();case 4:if(r=e.sent){e.next=7;break}throw new we;case 7:return r.on&&(r.on("accountsChanged",this.onAccountsChanged),r.on("chainChanged",this.onChainChanged),r.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"}),e.next=11,r.request({method:"eth_requestAccounts"});case 11:return i=e.sent,a=(0,Se.K)(i[0]),e.next=15,this.getChainId();case 15:if(o=e.sent,s=this.isChainUnsupported(o),!t||o===t){e.next=23;break}return e.next=20,this.switchChain(t);case 20:u=e.sent,o=u.id,s=this.isChainUnsupported(o);case 23:return this.options.shimDisconnect&&(null===(n=this.storage)||void 0===n||n.setItem(this.shimDisconnectKey,!0)),e.abrupt("return",{account:a,chain:{id:o,unsupported:s}});case 27:if(e.prev=27,e.t0=e.catch(1),!this.isUserRejectedRequestError(e.t0)){e.next=31;break}throw new Ee.ab(e.t0);case 31:if(-32002!==e.t0.code){e.next=33;break}throw new Ee.pT(e.t0);case 33:throw e.t0;case 34:case"end":return e.stop()}}),e,this,[[1,27]])})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,n;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProvider();case 2:if(null!==(n=e.sent)&&void 0!==n&&n.removeListener){e.next=5;break}return e.abrupt("return");case 5:n.removeListener("accountsChanged",this.onAccountsChanged),n.removeListener("chainChanged",this.onChainChanged),n.removeListener("disconnect",this.onDisconnect),this.options.shimDisconnect&&(null===(t=this.storage)||void 0===t||t.removeItem(this.shimDisconnectKey));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccount",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,n;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProvider();case 2:if(t=e.sent){e.next=5;break}throw new we;case 5:return e.next=7,t.request({method:"eth_accounts"});case 7:return n=e.sent,e.abrupt("return",(0,Se.K)(n[0]));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getChainId",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProvider();case 2:if(t=e.sent){e.next=5;break}throw new we;case 5:return e.abrupt("return",t.request({method:"eth_chainId"}).then(xe));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProvider",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.options.getProvider())&&me(this,Zt,t),e.abrupt("return",pe(this,Zt));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWalletClient",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,n,r,i,a,o,s=arguments;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(s.length>0&&void 0!==s[0]?s[0]:{}).chainId,e.next=3,Promise.all([this.getProvider(),this.getAccount()]);case 3:if(n=e.sent,r=(0,N.Z)(n,2),i=r[0],a=r[1],o=this.chains.find((function(e){return e.id===t})),i){e.next=10;break}throw new Error("provider is required.");case 10:return e.abrupt("return",Ct({account:a,chain:o,transport:Dt(i)}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isAuthorized",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,n;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.options.shimDisconnect||null!==(t=this.storage)&&void 0!==t&&t.getItem(this.shimDisconnectKey)){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,this.getProvider();case 5:if(e.sent){e.next=8;break}throw new we;case 8:return e.next=10,this.getAccount();case 10:return n=e.sent,e.abrupt("return",!!n);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"switchChain",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a,o,s,u,l=this;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProvider();case 2:if(n=e.sent){e.next=5;break}throw new we;case 5:return r=(0,q.eC)(t),e.prev=6,e.next=9,Promise.all([n.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),new Promise((function(e){return l.on("change",(function(n){var r=n.chain;(null===r||void 0===r?void 0:r.id)===t&&e()}))}))]);case 9:return e.abrupt("return",null!==(i=this.chains.find((function(e){return e.id===t})))&&void 0!==i?i:{id:t,name:"Chain ".concat(r),network:"".concat(r),nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}});case 12:if(e.prev=12,e.t0=e.catch(6),o=this.chains.find((function(e){return e.id===t})),o){e.next=17;break}throw new be({chainId:t,connectorId:this.id});case 17:if(4902!==e.t0.code&&4902!==(null===e.t0||void 0===e.t0||null===(a=e.t0.data)||void 0===a||null===(a=a.originalError)||void 0===a?void 0:a.code)){e.next=32;break}return e.prev=18,e.next=21,n.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:o.name,nativeCurrency:o.nativeCurrency,rpcUrls:[null!==(s=null===(u=o.rpcUrls.public)||void 0===u?void 0:u.http[0])&&void 0!==s?s:""],blockExplorerUrls:this.getBlockExplorerUrls(o)}]});case 21:return e.next=23,this.getChainId();case 23:if(e.sent===t){e.next=26;break}throw new Ee.ab(new Error("User rejected switch after adding network."));case 26:return e.abrupt("return",o);case 29:throw e.prev=29,e.t1=e.catch(18),new Ee.ab(e.t1);case 32:if(!this.isUserRejectedRequestError(e.t0)){e.next=34;break}throw new Ee.ab(e.t0);case 34:throw new Ee.x3(e.t0);case 35:case"end":return e.stop()}}),e,this,[[6,12],[18,29]])})));return function(t){return e.apply(this,arguments)}}()},{key:"watchAsset",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a,o,s;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,r=t.decimals,i=void 0===r?18:r,a=t.image,o=t.symbol,e.next=3,this.getProvider();case 3:if(s=e.sent){e.next=6;break}throw new we;case 6:return e.abrupt("return",s.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:n,decimals:i,image:a,symbol:o}}}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isUserRejectedRequestError",value:function(e){return 4001===e.code}}]),n}(ye);Zt=new WeakMap;var Ft=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},zt=function(e,t,n){return Ft(e,t,"read from private field"),n?n.call(e):t.get(e)},jt=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ht=function(e,t,n,r){return Ft(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},Gt=n(6373),Wt=n(8553),Vt=n(3740),qt=n(2149);function Xt(e){if(66!==e.length)return null;if(0!==e.indexOf("["))return null;if(65!==e.indexOf("]"))return null;var t="0x".concat(e.slice(1,65));return(0,mt.v)(t)?t:null}function Yt(e){var t=new Uint8Array(32).fill(0);if(!e)return(0,q.ci)(t);for(var n=e.split("."),r=n.length-1;r>=0;r-=1){var i=Xt(n[r]),a=i?(0,oe.O0)(i):(0,qt.w)((0,oe.qX)(n[r]),"bytes");t=(0,qt.w)((0,ie.zo)([t,a]),"bytes")}return(0,q.ci)(t)}function Qt(e){var t=new Uint8Array(32).fill(0);return e?Xt(e)||(0,qt.w)((0,oe.qX)(e)):(0,q.ci)(t)}function Kt(e){var t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);for(var n,r=new Uint8Array((0,oe.qX)(t).byteLength+2),i=0,a=t.split("."),o=0;o<a.length;o++){var s=(0,oe.qX)(a[o]);s.byteLength>255&&(s=(0,oe.qX)((n=Qt(a[o]),"[".concat(n.slice(2),"]")))),r[i]=s.length,r.set(s,i+1),i+=s.length+1}return r.byteLength!==i+1?r.slice(0,i+1):r}var Jt=3;function $t(e,t){var n=t.abi,r=t.address,i=t.args,a=t.docsPath,o=t.functionName,s=t.sender,u=e instanceof Wt.VQ?e:e instanceof ne.G?e.walk((function(e){return"data"in e})):{},l=u.code,c=u.data,f=u.message,d=u.shortMessage,h=e;return e instanceof Le.wb?h=new Wt.Dk({functionName:o}):l===Jt&&(c||f||d)&&(h=new Wt.Lu({abi:n,data:"object"===typeof c?c.data:c,functionName:o,message:null!==d&&void 0!==d?d:f})),new Wt.uq(h,{abi:n,args:i,contractAddress:r,docsPath:a,functionName:o,sender:s})}var en=n(6218),tn=["abi","address","args","functionName"];function nn(e,t){return rn.apply(this,arguments)}function rn(){return rn=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.abi,i=n.address,a=n.args,o=n.functionName,s=(0,Z.Z)(n,tn),u=(0,Mt.R)({abi:r,args:a,functionName:o}),e.prev=2,e.next=5,(0,en.R)(t,(0,O.Z)({data:u,to:i},s));case 5:return l=e.sent,c=l.data,e.abrupt("return",(0,Vt.k)({abi:r,args:a,functionName:o,data:c||"0x"}));case 10:throw e.prev=10,e.t0=e.catch(2),$t(e.t0,{abi:r,address:i,args:a,docsPath:"/docs/contract/readContract",functionName:o});case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),rn.apply(this,arguments)}function an(){return an=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c,f;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.blockNumber,i=n.blockTag,a=n.name,o=n.universalResolverAddress,s=o){e.next=6;break}if(t.chain){e.next=5;break}throw new Error("client chain not configured. universalResolverAddress is required.");case 5:s=(0,W.LI)({blockNumber:r,chain:t.chain,contract:"ensUniversalResolver"});case 6:return e.prev=6,e.next=9,nn(t,{address:s,abi:Gt.lD,functionName:"resolve",args:[(0,q.NC)(Kt(a)),(0,Mt.R)({abi:Gt.Ei,functionName:"addr",args:[Yt(a)]})],blockNumber:r,blockTag:i});case 9:if("0x"!==(u=e.sent)[0]){e.next=12;break}return e.abrupt("return",null);case 12:return l=(0,Vt.k)({abi:Gt.Ei,functionName:"addr",data:u[0]}),e.abrupt("return","0x00"===(0,ae.f)(l)?null:l);case 16:if(e.prev=16,e.t0=e.catch(6),!(e.t0 instanceof Wt.uq)){e.next=22;break}if(null===(f=null===(c=e.t0.cause)||void 0===c?void 0:c.reason)||void 0===f||!f.includes("Wildcard on non-extended resolvers is not supported")){e.next=22;break}return e.abrupt("return",null);case 22:throw e.t0;case 23:case"end":return e.stop()}}),e,null,[[6,16]])}))),an.apply(this,arguments)}var on=n(1002),sn=n(9611);function un(){un=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var a=new RegExp(e,r);return t.set(a,i||t.get(e)),(0,sn.Z)(a,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){var i=r[n];if("number"==typeof i)t[n]=e[i];else{for(var a=0;void 0===e[i[a]]&&a+1<i.length;)a++;t[n]=e[i[a]]}return t}),Object.create(null))}return(0,U.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=r(n,this);var i=n.indices;i&&(i.groups=r(i,this))}return n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var a=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){var n=a[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof i){var o=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,on.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(r(e,o)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},un.apply(this,arguments)}var ln=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r,i=e.data;return(0,I.Z)(this,n),r=t.call(this,"Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","","Provided data: ".concat(JSON.stringify(i))]}),Object.defineProperty((0,z.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"}),r}return(0,L.Z)(n)}(ne.G),cn=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r,i=e.reason;return(0,I.Z)(this,n),r=t.call(this,"ENS NFT avatar URI is invalid. ".concat(i)),Object.defineProperty((0,z.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"}),r}return(0,L.Z)(n)}(ne.G),fn=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r,i=e.uri;return(0,I.Z)(this,n),r=t.call(this,'Unable to resolve ENS avatar URI "'.concat(i,'". The URI may be malformed, invalid, or does not respond with a valid image.')),Object.defineProperty((0,z.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"}),r}return(0,L.Z)(n)}(ne.G),dn=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r,i=e.namespace;return(0,I.Z)(this,n),r=t.call(this,'ENS NFT avatar namespace "'.concat(i,'" is not supported. Must be "erc721" or "erc1155".')),Object.defineProperty((0,z.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"}),r}return(0,L.Z)(n)}(ne.G),hn=un(/(https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(\/)?(ipfs\/|ipns\/)?([\w\-.]+)(\/.*)?/,{protocol:1,root:2,subpath:3,target:4,subtarget:5}),pn=un(/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/([\w\-.]+))?(\/.*)?$/,{target:3,subtarget:4}),vn=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,mn=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function gn(e){return yn.apply(this,arguments)}function yn(){return yn=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"HEAD"});case 3:if(200!==(n=e.sent).status){e.next=7;break}return r=n.headers.get("content-type"),e.abrupt("return",null===r||void 0===r?void 0:r.startsWith("image/"));case 7:return e.abrupt("return",!1);case 10:if(e.prev=10,e.t0=e.catch(0),"object"!==typeof e.t0||"undefined"===typeof e.t0.response){e.next=14;break}return e.abrupt("return",!1);case 14:if(globalThis.hasOwnProperty("Image")){e.next=16;break}return e.abrupt("return",!1);case 16:return e.abrupt("return",new Promise((function(e){var n=new Image;n.onload=function(){e(!0)},n.onerror=function(){e(!1)},n.src=t})));case 17:case"end":return e.stop()}}),e,null,[[0,10]])}))),yn.apply(this,arguments)}function bn(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function wn(e){var t=e.uri,n=e.gatewayUrls,r=vn.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};var i=bn(null===n||void 0===n?void 0:n.ipfs,"https://ipfs.io"),a=bn(null===n||void 0===n?void 0:n.arweave,"https://arweave.net"),o=t.match(hn),s=(null===o||void 0===o?void 0:o.groups)||{},u=s.protocol,l=s.subpath,c=s.target,f=s.subtarget,d=void 0===f?"":f,h="ipns:/"===u||"ipns/"===l,p="ipfs:/"===u||"ipfs/"===l||pn.test(t);if(t.startsWith("http")&&!h&&!p){var v=t;return null!==n&&void 0!==n&&n.arweave&&(v=t.replace(/https:\/\/arweave.net/g,null===n||void 0===n?void 0:n.arweave)),{uri:v,isOnChain:!1,isEncoded:!1}}if((h||p)&&c)return{uri:"".concat(i,"/").concat(h?"ipns":"ipfs","/").concat(c).concat(d),isOnChain:!1,isEncoded:!1};if("ar:/"===u&&c)return{uri:"".concat(a,"/").concat(c).concat(d||""),isOnChain:!1,isEncoded:!1};var m=t.replace(mn,"");if(m.startsWith("<svg")&&(m="data:image/svg+xml;base64,".concat(btoa(m))),m.startsWith("data:")||m.startsWith("{"))return{uri:m,isOnChain:!0,isEncoded:!1};throw new fn({uri:t})}function xn(e){if("object"!==typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new ln({data:e});return e.image||e.image_url||e.image_data}function _n(e){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gatewayUrls,r=t.uri,e.prev=1,e.next=4,fetch(r).then((function(e){return e.json()}));case 4:return i=e.sent,e.next=7,En({gatewayUrls:n,uri:xn(i)});case 7:return a=e.sent,e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(1),new fn({uri:r});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function En(e){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.gatewayUrls,r=t.uri,i=wn({uri:r,gatewayUrls:n}),a=i.uri,!i.isOnChain){e.next=4;break}return e.abrupt("return",a);case 4:return e.next=6,gn(a);case 6:if(!e.sent){e.next=9;break}return e.abrupt("return",a);case 9:throw new fn({uri:r});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function An(e){e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));var t=e.split("/"),n=(0,N.Z)(t,3),r=n[0],i=n[1],a=n[2],o=r.split(":"),s=(0,N.Z)(o,2),u=s[0],l=s[1],c=i.split(":"),f=(0,N.Z)(c,2),d=f[0],h=f[1];if(!u||"eip155"!==u.toLowerCase())throw new cn({reason:"Only EIP-155 supported"});if(!l)throw new cn({reason:"Chain ID not found"});if(!h)throw new cn({reason:"Contract address not found"});if(!a)throw new cn({reason:"Token ID not found"});if(!d)throw new cn({reason:"ERC namespace not found"});return{chainID:parseInt(l),namespace:d.toLowerCase(),contractAddress:h,tokenID:a}}function kn(e,t){return Tn.apply(this,arguments)}function Tn(){return Tn=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("erc721"!==(r=n.nft).namespace){e.next=3;break}return e.abrupt("return",nn(t,{address:r.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(r.tokenID)]}));case 3:if("erc1155"!==r.namespace){e.next=5;break}return e.abrupt("return",nn(t,{address:r.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(r.tokenID)]}));case 5:throw new dn({namespace:r.namespace});case 6:case"end":return e.stop()}}),e)}))),Tn.apply(this,arguments)}function Cn(e,t){return Pn.apply(this,arguments)}function Pn(){return Pn=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.gatewayUrls,i=n.record,!/eip155:/i.test(i)){e.next=3;break}return e.abrupt("return",Rn(t,{gatewayUrls:r,record:i}));case 3:return e.abrupt("return",En({uri:i,gatewayUrls:r}));case 4:case"end":return e.stop()}}),e)}))),Pn.apply(this,arguments)}function Rn(e,t){return In.apply(this,arguments)}function In(){return In=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c,f,d,h;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.gatewayUrls,i=n.record,a=An(i),e.next=4,kn(t,{nft:a});case 4:if(o=e.sent,s=wn({uri:o,gatewayUrls:r}),u=s.uri,l=s.isOnChain,c=s.isEncoded,!l||!u.includes("data:application/json;base64,")&&!u.startsWith("{")){e.next=10;break}return f=c?atob(u.replace("data:application/json;base64,","")):u,d=JSON.parse(f),e.abrupt("return",En({uri:xn(d),gatewayUrls:r}));case 10:return h=a.tokenID,"erc1155"===a.namespace&&(h=h.replace("0x","").padStart(64,"0")),e.abrupt("return",_n({gatewayUrls:r,uri:u.replace(/(?:0x)?{id}/,h)}));case 13:case"end":return e.stop()}}),e)}))),In.apply(this,arguments)}function Ln(e,t){return Zn.apply(this,arguments)}function Zn(){return Zn=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.blockNumber,i=n.blockTag,a=n.name,o=n.key,s=n.universalResolverAddress,u=s){e.next=6;break}if(t.chain){e.next=5;break}throw new Error("client chain not configured. universalResolverAddress is required.");case 5:u=(0,W.LI)({blockNumber:r,chain:t.chain,contract:"ensUniversalResolver"});case 6:return e.next=8,nn(t,{address:u,abi:Gt.lD,functionName:"resolve",args:[(0,q.NC)(Kt(a)),(0,Mt.R)({abi:Gt.nZ,functionName:"text",args:[Yt(a),o]})],blockNumber:r,blockTag:i});case 8:if("0x"!==(l=e.sent)[0]){e.next=11;break}return e.abrupt("return",null);case 11:return c=(0,Vt.k)({abi:Gt.nZ,functionName:"text",data:l[0]}),e.abrupt("return",""===c?null:c);case 13:case"end":return e.stop()}}),e)}))),Zn.apply(this,arguments)}function On(){return On=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.blockNumber,i=n.blockTag,a=n.gatewayUrls,o=n.name,s=n.universalResolverAddress,e.next=3,Ln(t,{blockNumber:r,blockTag:i,key:"avatar",name:o,universalResolverAddress:s});case 3:if(u=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:return e.prev=6,e.next=9,Cn(t,{record:u,gatewayUrls:a});case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(6),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[6,12]])}))),On.apply(this,arguments)}var Nn=n(3027);function Un(){return Un=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.address,i=n.blockNumber,a=n.blockTag,o=n.universalResolverAddress,s=o){e.next=6;break}if(t.chain){e.next=5;break}throw new Error("client chain not configured. universalResolverAddress is required.");case 5:s=(0,W.LI)({blockNumber:i,chain:t.chain,contract:"ensUniversalResolver"});case 6:return u="".concat(r.toLowerCase().substring(2),".addr.reverse"),e.prev=7,e.next=10,nn(t,{address:s,abi:[{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],functionName:"reverse",args:[(0,q.NC)(Kt(u))],blockNumber:i,blockTag:a});case 10:return l=e.sent,e.abrupt("return",l[0]);case 14:if(e.prev=14,e.t0=e.catch(7),!(e.t0 instanceof Wt.uq&&e.t0.cause.reason===Nn.$[50])){e.next=18;break}return e.abrupt("return",null);case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,null,[[7,14]])}))),Un.apply(this,arguments)}function Dn(){return Dn=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.blockNumber,i=n.blockTag,a=n.name,o=n.universalResolverAddress,s=o){e.next=6;break}if(t.chain){e.next=5;break}throw new Error("client chain not configured. universalResolverAddress is required.");case 5:s=(0,W.LI)({blockNumber:r,chain:t.chain,contract:"ensUniversalResolver"});case 6:return e.next=8,nn(t,{address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,q.NC)(Kt(a))],blockNumber:r,blockTag:i});case 8:return u=e.sent,l=(0,N.Z)(u,1),c=l[0],e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)}))),Dn.apply(this,arguments)}function Bn(e,t){var n,r,i=t.method,a={};return"fallback"===e.transport.type&&(null===(n=(r=e.transport).onResponse)||void 0===n||n.call(r,(function(e){var t=e.method,n=e.response,r=e.status,o=e.transport;"success"===r&&i===t&&(a[n]=o.request)}))),function(t){return a[t]||e.request}}function Fn(){return Fn=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bn(t,{method:"eth_newBlockFilter"}),e.next=3,t.request({method:"eth_newBlockFilter"});case 3:return r=e.sent,e.abrupt("return",{id:r,request:n(r),type:"block"});case 5:case"end":return e.stop()}}),e)}))),Fn.apply(this,arguments)}var zn=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),r=t.call(this,'Filter type "'.concat(e,'" is not supported.')),Object.defineProperty((0,z.Z)(r),"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"}),r}return(0,L.Z)(n)}(ne.G),jn=n(8599),Hn=function(e){return"string"===typeof e?(0,jn.F)(e):(0,jn.J)(e)},Gn=n(4627),Wn=n(8850);function Vn(e){var t=e.abi,n=e.eventName,r=e.args,i=t[0];if(n&&!(i=(0,Wn.m)({abi:t,args:r,name:n})))throw new Le.mv(n,{docsPath:"/docs/contract/encodeEventTopics"});if("event"!==i.type)throw new Le.mv(void 0,{docsPath:"/docs/contract/encodeEventTopics"});var a=(0,Gn.t)(i),o=Hn(a),s=[];if(r&&"inputs"in i){var u,l,c,f=null===(u=i.inputs)||void 0===u?void 0:u.filter((function(e){return"indexed"in e&&e.indexed})),d=Array.isArray(r)?r:Object.values(r).length>0&&null!==(l=null===f||void 0===f?void 0:f.map((function(e){return r[e.name]})))&&void 0!==l?l:[];if(d.length>0)s=null!==(c=null===f||void 0===f?void 0:f.map((function(e,t){return Array.isArray(d[t])?d[t].map((function(n,r){return qn({param:e,value:d[t][r]})})):d[t]?qn({param:e,value:d[t]}):null})))&&void 0!==c?c:[]}return[o].concat((0,C.Z)(s))}function qn(e){var t=e.param,n=e.value;if("string"===t.type||"bytes"===t.type)return(0,qt.w)((0,oe.O0)(n));if("tuple"===t.type||t.type.match(/^(.*)\[(\d+)?\]$/))throw new zn(t.type);return(0,Ze.E)([t],[n])}function Xn(e,t){return Yn.apply(this,arguments)}function Yn(){return Yn=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c,f,d;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.address,i=n.abi,a=n.args,o=n.eventName,s=n.fromBlock,u=n.strict,l=n.toBlock,c=Bn(t,{method:"eth_newFilter"}),f=o?Vn({abi:i,args:a,eventName:o}):void 0,e.next=5,t.request({method:"eth_newFilter",params:[{address:r,fromBlock:"bigint"===typeof s?(0,q.eC)(s):s,toBlock:"bigint"===typeof l?(0,q.eC)(l):l,topics:f}]});case 5:return d=e.sent,e.abrupt("return",{abi:i,args:a,eventName:o,id:d,request:c(d),strict:u,type:"event"});case 7:case"end":return e.stop()}}),e)}))),Yn.apply(this,arguments)}function Qn(e){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a,o,s,u,l,c,f,d=arguments;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=d.length>1&&void 0!==d[1]?d[1]:{}).address,i=n.args,a=n.event,o=n.fromBlock,s=n.strict,u=n.toBlock,l=Bn(t,{method:"eth_newFilter"}),c=[],a&&(c=Vn({abi:[a],eventName:a.name,args:i})),e.next=6,t.request({method:"eth_newFilter",params:[(0,O.Z)({address:r,fromBlock:"bigint"===typeof o?(0,q.eC)(o):o,toBlock:"bigint"===typeof u?(0,q.eC)(u):u},c.length?{topics:c}:{})]});case 6:return f=e.sent,e.abrupt("return",{abi:a?[a]:void 0,args:i,eventName:a?a.name:void 0,id:f,request:l(f),strict:s,type:"event"});case 8:case"end":return e.stop()}}),e)}))),Kn.apply(this,arguments)}function Jn(e){return $n.apply(this,arguments)}function $n(){return $n=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bn(t,{method:"eth_newPendingTransactionFilter"}),e.next=3,t.request({method:"eth_newPendingTransactionFilter"});case 3:return r=e.sent,e.abrupt("return",{id:r,request:n(r),type:"transaction"});case 5:case"end":return e.stop()}}),e)}))),$n.apply(this,arguments)}var er=["abi","address","args","functionName"];function tr(){return tr=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.abi,i=n.address,a=n.args,o=n.functionName,s=(0,Z.Z)(n,er),u=(0,Mt.R)({abi:r,args:a,functionName:o}),e.prev=2,e.next=5,Ye(t,(0,O.Z)({data:u,to:i},s));case 5:return l=e.sent,e.abrupt("return",l);case 9:throw e.prev=9,e.t0=e.catch(2),c=s.account?(0,Me.T)(s.account):void 0,$t(e.t0,{abi:r,address:i,args:a,docsPath:"/docs/contract/simulateContract",functionName:o,sender:null===c||void 0===c?void 0:c.address});case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),tr.apply(this,arguments)}function nr(){return nr=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.address,i=n.blockNumber,a=n.blockTag,o=void 0===a?"latest":a,s=i?(0,q.eC)(i):void 0,e.next=4,t.request({method:"eth_getBalance",params:[r,s||o]});case 4:return u=e.sent,e.abrupt("return",BigInt(u));case 6:case"end":return e.stop()}}),e)}))),nr.apply(this,arguments)}var rr=new Map,ir=new Map;function ar(e){var t=function(e,t){return{clear:function(){return t.delete(e)},get:function(){return t.get(e)},set:function(n){return t.set(e,n)}}},n=t(e,rr),r=t(e,ir);return{clear:function(){n.clear(),r.clear()},promise:n,response:r}}function or(e,t){return sr.apply(this,arguments)}function sr(){return sr=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.cacheKey,i=n.maxAge,a=void 0===i?1/0:i,o=ar(r),!((s=o.response.get())&&a>0)){e.next=7;break}if(!((new Date).getTime()-s.created.getTime()<a)){e.next=7;break}return e.abrupt("return",s.data);case 7:return(u=o.promise.get())||(u=t(),o.promise.set(u)),e.prev=9,e.next=12,u;case 12:return l=e.sent,o.response.set({created:new Date,data:l}),e.abrupt("return",l);case 15:return e.prev=15,o.promise.clear(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[9,,15,18]])}))),sr.apply(this,arguments)}var ur=function(e){return"blockNumber.".concat(e)};function lr(e){return cr.apply(this,arguments)}function cr(){return cr=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a=arguments;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(a.length>1&&void 0!==a[1]?a[1]:{}).maxAge,r=void 0===n?t.pollingInterval:n,e.next=3,or((function(){return t.request({method:"eth_blockNumber"})}),{cacheKey:ur(t.uid),maxAge:r});case 3:return i=e.sent,e.abrupt("return",BigInt(i));case 5:case"end":return e.stop()}}),e)}))),cr.apply(this,arguments)}function fr(){return fr=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a,o,s,u,l=arguments;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=l.length>1&&void 0!==l[1]?l[1]:{}).blockHash,i=n.blockNumber,a=n.blockTag,o=void 0===a?"latest":a,s=void 0!==i?(0,q.eC)(i):void 0,!r){e.next=8;break}return e.next=5,t.request({method:"eth_getBlockTransactionCountByHash",params:[r]});case 5:u=e.sent,e.next=11;break;case 8:return e.next=10,t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||o]});case 10:u=e.sent;case 11:return e.abrupt("return",(0,V.ly)(u));case 12:case"end":return e.stop()}}),e)}))),fr.apply(this,arguments)}function dr(){return dr=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.address,i=n.blockNumber,a=n.blockTag,o=void 0===a?"latest":a,s=void 0!==i?(0,q.eC)(i):void 0,e.next=4,t.request({method:"eth_getCode",params:[r,s||o]});case 4:if("0x"!==(u=e.sent)){e.next=7;break}return e.abrupt("return",void 0);case 7:return e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)}))),dr.apply(this,arguments)}function hr(e){var t;return{baseFeePerGas:e.baseFeePerGas.map((function(e){return BigInt(e)})),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:null===(t=e.reward)||void 0===t?void 0:t.map((function(e){return e.map((function(e){return BigInt(e)}))}))}}function pr(){return pr=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.blockCount,i=n.blockNumber,a=n.blockTag,o=void 0===a?"latest":a,s=n.rewardPercentiles,u=i?(0,q.eC)(i):void 0,e.next=4,t.request({method:"eth_feeHistory",params:[(0,q.eC)(r),u||o,s]});case 4:return l=e.sent,e.abrupt("return",hr(l));case 6:case"end":return e.stop()}}),e)}))),pr.apply(this,arguments)}var vr=n(3878),mr=n(9199),gr=n(181),yr=n(5267);function br(e){return(0,vr.Z)(e)||(0,mr.Z)(e)||(0,gr.Z)(e)||(0,yr.Z)()}var wr=n(2860),xr="/docs/contract/decodeEventLog";function _r(e){var t=e.abi,n=e.data,r=e.strict,i=null===r||void 0===r||r,a=br(e.topics),o=a[0],s=a.slice(1);if(!o)throw new Le.FM({docsPath:xr});var u=t.find((function(e){return"event"===e.type&&o===Hn((0,Gn.t)(e))}));if(!u||!("name"in u)||"event"!==u.type)throw new Le.lC(o,{docsPath:xr});var l=u.name,c=u.inputs,f=null===c||void 0===c?void 0:c.some((function(e){return!("name"in e&&e.name)})),d=f?[]:{},h=c.filter((function(e){return"indexed"in e&&e.indexed}));if(s.length>0)for(var p=0;p<h.length;p++){var v=h[p],m=s[p];if(!m)throw new Le.Gy({abiItem:u,param:v});d[v.name||p]=Sr({param:v,value:m})}var g=c.filter((function(e){return!("indexed"in e&&e.indexed)}));if(g.length>0)if(n&&"0x"!==n)try{var y=(0,wr.r)(g,n);if(y)if(f)d=[].concat((0,C.Z)(d),(0,C.Z)(y));else for(var b=0;b<g.length;b++)d[g[b].name]=y[b]}catch(w){if(i){if(w instanceof Le.xB)throw new Le.SM({abiItem:u,data:w.data,params:w.params,size:w.size});throw w}}else if(i)throw new Le.SM({abiItem:u,data:"0x",params:g,size:0});return{eventName:l,args:Object.values(d).length>0?d:void 0}}function Sr(e){var t=e.param,n=e.value;return"string"===t.type||"bytes"===t.type||"tuple"===t.type||t.type.match(/^(.*)\[(\d+)?\]$/)?n:((0,wr.r)([t],n)||[])[0]}function Er(e,t){return Mr.apply(this,arguments)}function Mr(){return Mr=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.filter,i="strict"in r&&r.strict,e.next=4,r.request({method:"eth_getFilterChanges",params:[r.id]});case 4:return a=e.sent,e.abrupt("return",a.map((function(e){if("string"===typeof e)return e;try{var t="abi"in r&&r.abi?_r({abi:r.abi,data:e.data,topics:e.topics,strict:i}):{eventName:void 0,args:void 0},n=t.eventName;return K(e,{args:t.args,eventName:n})}catch(u){var a,o;if(u instanceof Le.SM||u instanceof Le.Gy){var s;if("strict"in r&&r.strict)return;a=u.abiItem.name,o=null===(s=u.abiItem.inputs)||void 0===s?void 0:s.some((function(e){return!("name"in e&&e.name)}))}return K(e,{args:o?[]:{},eventName:a})}})).filter(Boolean));case 6:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}function Ar(){return Ar=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.filter,a=null!==(r=i.strict)&&void 0!==r&&r,e.next=4,i.request({method:"eth_getFilterLogs",params:[i.id]});case 4:return o=e.sent,e.abrupt("return",o.map((function(e){try{var t="abi"in i&&i.abi?_r({abi:i.abi,data:e.data,topics:e.topics,strict:a}):{eventName:void 0,args:void 0},n=t.eventName;return K(e,{args:t.args,eventName:n})}catch(u){var r,o;if(u instanceof Le.SM||u instanceof Le.Gy){var s;if("strict"in i&&i.strict)return;r=u.abiItem.name,o=null===(s=u.abiItem.inputs)||void 0===s?void 0:s.some((function(e){return!("name"in e&&e.name)}))}return K(e,{args:o?[]:{},eventName:r})}})).filter(Boolean));case 6:case"end":return e.stop()}}),e)}))),Ar.apply(this,arguments)}function kr(e){return Tr.apply(this,arguments)}function Tr(){return Tr=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a,o,s,u,l,c,f,d,h=arguments;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=h.length>1&&void 0!==h[1]?h[1]:{}).address,i=n.blockHash,a=n.fromBlock,o=n.toBlock,s=n.event,u=n.args,l=n.strict,c=null!==l&&void 0!==l&&l,f=[],s&&(f=Vn({abi:[s],eventName:s.name,args:u})),!i){e.next=10;break}return e.next=7,t.request({method:"eth_getLogs",params:[{address:r,topics:f,blockHash:i}]});case 7:d=e.sent,e.next=13;break;case 10:return e.next=12,t.request({method:"eth_getLogs",params:[{address:r,topics:f,fromBlock:"bigint"===typeof a?(0,q.eC)(a):a,toBlock:"bigint"===typeof o?(0,q.eC)(o):o}]});case 12:d=e.sent;case 13:return e.abrupt("return",d.map((function(e){try{var t=s?_r({abi:[s],data:e.data,topics:e.topics,strict:c}):{eventName:void 0,args:void 0},n=t.eventName;return K(e,{args:t.args,eventName:n})}catch(o){var r,i;if(o instanceof Le.SM||o instanceof Le.Gy){var a;if(c)return;r=o.abiItem.name,i=null===(a=o.abiItem.inputs)||void 0===a?void 0:a.some((function(e){return!("name"in e&&e.name)}))}return K(e,{args:i?[]:{},eventName:r})}})).filter(Boolean));case 14:case"end":return e.stop()}}),e)}))),Tr.apply(this,arguments)}function Cr(){return Cr=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.address,i=n.blockNumber,a=n.blockTag,o=void 0===a?"latest":a,s=n.slot,u=void 0!==i?(0,q.eC)(i):void 0,e.next=4,t.request({method:"eth_getStorageAt",params:[r,s,u||o]});case 4:return l=e.sent,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)}))),Cr.apply(this,arguments)}function Pr(e,t){return Rr.apply(this,arguments)}function Rr(){return Rr=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c,f,d;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.blockHash,a=n.blockNumber,o=n.blockTag,s=void 0===o?"latest":o,u=n.hash,l=n.index,c=void 0!==a?(0,q.eC)(a):void 0,f=null,!u){e.next=9;break}return e.next=6,t.request({method:"eth_getTransactionByHash",params:[u]});case 6:f=e.sent,e.next=19;break;case 9:if(!i){e.next=15;break}return e.next=12,t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[i,(0,q.eC)(l)]});case 12:f=e.sent,e.next=19;break;case 15:if(!c&&!s){e.next=19;break}return e.next=18,t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[c||s,(0,q.eC)(l)]});case 18:f=e.sent;case 19:if(f){e.next=21;break}throw new se.Bh({blockHash:i,blockNumber:a,blockTag:s,hash:u,index:l});case 21:return d=(null===(r=t.chain)||void 0===r||null===(r=r.formatters)||void 0===r||null===(r=r.transaction)||void 0===r?void 0:r.format)||Y,e.abrupt("return",d(f));case 23:case"end":return e.stop()}}),e)}))),Rr.apply(this,arguments)}function Ir(){return Ir=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.hash,i=n.transactionReceipt,e.next=3,Promise.all([lr(t),r?Pr(t,{hash:r}):void 0]);case 3:if(a=e.sent,o=(0,N.Z)(a,2),s=o[0],u=o[1],l=(null===i||void 0===i?void 0:i.blockNumber)||(null===u||void 0===u?void 0:u.blockNumber)){e.next=10;break}return e.abrupt("return",0n);case 10:return e.abrupt("return",s-l+1n);case 11:case"end":return e.stop()}}),e)}))),Ir.apply(this,arguments)}function Lr(e,t){return Zr.apply(this,arguments)}function Zr(){return Zr=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.hash,e.next=3,t.request({method:"eth_getTransactionReceipt",params:[i]});case 3:if(a=e.sent){e.next=6;break}throw new se.Yb({hash:i});case 6:return o=(null===(r=t.chain)||void 0===r||null===(r=r.formatters)||void 0===r||null===(r=r.transactionReceipt)||void 0===r?void 0:r.format)||$,e.abrupt("return",o(a));case 8:case"end":return e.stop()}}),e)}))),Zr.apply(this,arguments)}function Or(){return Or=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c,f,d,h,p,v,m,g,y,b,w,x,_,S,E,M;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.allowFailure,a=void 0===i||i,o=n.batchSize,s=n.blockNumber,u=n.blockTag,l=n.contracts,c=n.multicallAddress,f=null!==o&&void 0!==o?o:"object"===typeof(null===(r=t.batch)||void 0===r?void 0:r.multicall)&&t.batch.multicall.batchSize||1024,d=l,h=c){e.next=8;break}if(t.chain){e.next=7;break}throw new Error("client chain not configured. multicallAddress is required.");case 7:h=(0,W.LI)({blockNumber:s,chain:t.chain,contract:"multicall3"});case 8:p=[[]],v=0,m=0,g=0;case 12:if(!(g<d.length)){e.next=30;break}y=d[g],b=y.abi,w=y.address,x=y.args,_=y.functionName,e.prev=14,S=(0,Mt.R)({abi:b,args:x,functionName:_}),m+=S.length,f>0&&m>f&&(v++,m=(S.length-2)/2,p[v]=[]),p[v]=[].concat((0,C.Z)(p[v]),[{allowFailure:!0,callData:S,target:w}]),e.next=27;break;case 21:if(e.prev=21,e.t0=e.catch(14),E=$t(e.t0,{abi:b,address:w,args:x,docsPath:"/docs/contract/multicall",functionName:_}),a){e.next=26;break}throw E;case 26:p[v]=[].concat((0,C.Z)(p[v]),[{allowFailure:!0,callData:"0x",target:w}]);case 27:g++,e.next=12;break;case 30:return e.next=32,Promise.all(p.map((function(e){return nn(t,{abi:Gt.F8,address:h,args:[e],blockNumber:s,blockTag:u,functionName:"aggregate3"})})));case 32:return M=e.sent,e.abrupt("return",M.flat().map((function(e,t){var n=e.returnData,r=e.success,i=p.flat()[t].callData,o=d[t],s=o.abi,u=o.address,l=o.functionName,c=o.args;try{if("0x"===i)throw new Le.wb;if(!r)throw new Wt.VQ({data:n});var f=(0,Vt.k)({abi:s,args:c,data:n,functionName:l});return a?{result:f,status:"success"}:f}catch(v){var h=$t(v,{abi:s,address:u,args:c,docsPath:"/docs/contract/multicall",functionName:l});if(!a)throw h;return{error:h,result:void 0,status:"failure"}}})));case 34:case"end":return e.stop()}}),e,null,[[14,21]])}))),Or.apply(this,arguments)}var Nr=["abi","address","args","dataSuffix","functionName"];function Ur(){return Ur=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c,f,d,h;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.abi,i=n.address,a=n.args,o=n.dataSuffix,s=n.functionName,u=(0,Z.Z)(n,Nr),l=u.account?(0,Me.T)(u.account):void 0,c=(0,Mt.R)({abi:r,args:a,functionName:s}),e.prev=3,e.next=6,(0,en.R)(t,(0,O.Z)({batch:!1,data:"".concat(c).concat(o?o.replace("0x",""):""),to:i},u));case 6:return f=e.sent,d=f.data,h=(0,Vt.k)({abi:r,args:a,functionName:s,data:d||"0x"}),e.abrupt("return",{result:h,request:(0,O.Z)({abi:r,address:i,args:a,functionName:s},u)});case 12:throw e.prev=12,e.t0=e.catch(3),$t(e.t0,{abi:r,address:i,args:a,docsPath:"/docs/contract/simulateContract",functionName:s,sender:null===l||void 0===l?void 0:l.address});case 15:case"end":return e.stop()}}),e,null,[[3,12]])}))),Ur.apply(this,arguments)}function Dr(e,t){return Br.apply(this,arguments)}function Br(){return Br=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.filter,e.abrupt("return",r.request({method:"eth_uninstallFilter",params:[r.id]}));case 2:case"end":return e.stop()}}),e)}))),Br.apply(this,arguments)}function Fr(e,t){var n="string"===typeof e?(0,oe.qX)(e):e.raw instanceof Uint8Array?e.raw:(0,oe.O0)(e.raw),r=(0,oe.qX)("\x19Ethereum Signed Message:\n".concat(n.length));return(0,qt.w)((0,ie.zo)([r,n]),t)}var zr="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";BigInt(0),BigInt(1),BigInt(2),Array.from({length:256},(function(e,t){return t.toString(16).padStart(2,"0")}));var jr=["address","hash","signature"];function Hr(e,t){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.address,i=n.hash,a=n.signature,o=(0,Z.Z)(n,jr),s=(0,mt.v)(a)?a:(0,q.NC)(a),e.prev=2,e.next=5,(0,en.R)(t,(0,O.Z)({data:Ne({abi:Gt.$o,args:[r,i,s],bytecode:zr})},o));case 5:return u=e.sent,l=u.data,e.abrupt("return",(c=null!==l&&void 0!==l?l:"0x0",f="0x1",function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}((0,mt.v)(c)?(0,oe.O0)(c):c,(0,mt.v)(f)?(0,oe.O0)(f):f)));case 10:if(e.prev=10,e.t0=e.catch(2),!(e.t0 instanceof Wt.cg)){e.next=14;break}return e.abrupt("return",!1);case 14:throw e.t0;case 15:case"end":return e.stop()}var c,f}),e,null,[[2,10]])}))),Gr.apply(this,arguments)}var Wr=["address","message","signature"];function Vr(){return Vr=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.address,i=n.message,a=n.signature,o=(0,Z.Z)(n,Wr),s=Fr(i),e.abrupt("return",Hr(t,(0,O.Z)({address:r,hash:s,signature:a},o)));case 3:case"end":return e.stop()}}),e)}))),Vr.apply(this,arguments)}function qr(e){var t=e.domain,n=e.message,r=e.primaryType,i=e.types,a="undefined"===typeof t?{}:t,o=(0,O.Z)({EIP712Domain:["string"===typeof(null===a||void 0===a?void 0:a.name)&&{name:"name",type:"string"},(null===a||void 0===a?void 0:a.version)&&{name:"version",type:"string"},"number"===typeof(null===a||void 0===a?void 0:a.chainId)&&{name:"chainId",type:"uint256"},(null===a||void 0===a?void 0:a.verifyingContract)&&{name:"verifyingContract",type:"address"},(null===a||void 0===a?void 0:a.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)},i);xt({domain:a,message:n,primaryType:r,types:o});var s=["0x1901"];return a&&s.push(function(e){var t=e.domain,n=e.types;return Xr({data:t,primaryType:"EIP712Domain",types:n})}({domain:a,types:o})),"EIP712Domain"!==r&&s.push(Xr({data:n,primaryType:r,types:o})),(0,qt.w)((0,ie.zo)(s))}function Xr(e){var t=Yr({data:e.data,primaryType:e.primaryType,types:e.types});return(0,qt.w)(t)}function Yr(e){var t,n=e.data,r=e.primaryType,i=e.types,a=[{type:"bytes32"}],o=[Qr({primaryType:r,types:i})],s=(0,F.Z)(i[r]);try{for(s.s();!(t=s.n()).done;){var u=t.value,l=Jr({types:i,name:u.name,type:u.type,value:n[u.name]}),c=(0,N.Z)(l,2),f=c[0],d=c[1];a.push(f),o.push(d)}}catch(h){s.e(h)}finally{s.f()}return(0,Ze.E)(a,o)}function Qr(e){var t=e.primaryType,n=e.types,r=(0,q.NC)(function(e){var t=e.primaryType,n=e.types,r="",i=Kr({primaryType:t,types:n});i.delete(t);var a,o=[t].concat((0,C.Z)(Array.from(i).sort())),s=(0,F.Z)(o);try{for(s.s();!(a=s.n()).done;){var u=a.value;r+="".concat(u,"(").concat(n[u].map((function(e){var t=e.name,n=e.type;return"".concat(n," ").concat(t)})).join(","),")")}}catch(l){s.e(l)}finally{s.f()}return r}({primaryType:t,types:n}));return(0,qt.w)(r)}function Kr(e){var t=e.primaryType,n=e.types,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,i=t.match(/^[0-9A-Z_a-z]*/),a=null===i||void 0===i?void 0:i[0];if(r.has(a)||void 0===n[a])return r;r.add(a);var o,s=(0,F.Z)(n[a]);try{for(s.s();!(o=s.n()).done;){Kr({primaryType:o.value.type,types:n},r)}}catch(u){s.e(u)}finally{s.f()}return r}function Jr(e){var t=e.types,n=e.name,r=e.type,i=e.value;if(void 0!==t[r])return[{type:"bytes32"},(0,qt.w)(Yr({data:i,primaryType:r,types:t}))];if("bytes"===r){var a=i.length%2?"0":"";return i="0x".concat(a+i.slice(2)),[{type:"bytes32"},(0,qt.w)(i)]}if("string"===r)return[{type:"bytes32"},(0,qt.w)((0,q.NC)(i))];if(r.lastIndexOf("]")===r.length-1){var o=r.slice(0,r.lastIndexOf("[")),s=i.map((function(e){return Jr({name:n,type:o,types:t,value:e})}));return[{type:"bytes32"},(0,qt.w)((0,Ze.E)(s.map((function(e){return(0,N.Z)(e,1)[0]})),s.map((function(e){return(0,N.Z)(e,2)[1]}))))]}return[{type:r},i]}var $r=["address","signature","message","primaryType","types","domain"];function ei(){return ei=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.address,i=n.signature,a=n.message,o=n.primaryType,s=n.types,u=n.domain,l=(0,Z.Z)(n,$r),c=qr({message:a,primaryType:o,types:s,domain:u}),e.abrupt("return",Hr(t,(0,O.Z)({address:r,hash:c,signature:i},l)));case 3:case"end":return e.stop()}}),e)}))),ei.apply(this,arguments)}var ti=new Map,ni=new Map,ri=0;function ii(e,t,n){var r=++ri,i=function(){return ti.get(e)||[]},a=function(){var t=ni.get(e);1===i().length&&t&&t(),function(){var t=i();ti.set(e,t.filter((function(e){return e.id!==r})))}()},o=i();if(ti.set(e,[].concat((0,C.Z)(o),[{id:r,fns:t}])),o&&o.length>0)return a;var s={},u=function(e){s[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=i();0!==a.length&&a.forEach((function(t){var r,i;return null===(r=(i=t.fns)[e])||void 0===r?void 0:r.call.apply(r,[i].concat(n))}))}};for(var l in t)u(l);var c=n(s);return"function"===typeof c&&ni.set(e,c),a}function ai(e,t){var n=t.emitOnBegin,r=t.initialWaitTime,i=t.interval,a=!0,o=function(){return a=!1},s=function(){var t=(0,R.Z)((0,P.Z)().mark((function t(){var s,u,l,c;return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}return t.next=3,e({unpoll:o});case 3:u=t.sent;case 4:return t.next=6,null===r||void 0===r?void 0:r(u);case 6:if(t.t1=s=t.sent,t.t0=null!==t.t1,!t.t0){t.next=10;break}t.t0=void 0!==s;case 10:if(!t.t0){t.next=14;break}t.t2=s,t.next=15;break;case 14:t.t2=i;case 15:return l=t.t2,t.next=18,Rt(l);case 18:c=function(){var t=(0,R.Z)((0,P.Z)().mark((function t(){return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e({unpoll:o});case 4:return t.next=6,Rt(i);case 6:c();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c();case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return s(),o}function oi(e,t){var n,r=t.emitOnBegin,i=void 0!==r&&r,a=t.emitMissed,o=void 0!==a&&a,s=t.onBlockNumber,u=t.onError,l=t.poll,c=t.pollingInterval,f=void 0===c?e.pollingInterval:c;return("undefined"!==typeof l?l:"webSocket"!==e.transport.type)?ii((0,gt.P)(["watchBlockNumber",e.uid,i,o,f]),{onBlockNumber:s,onError:u},(function(t){return ai((0,R.Z)((0,P.Z)().mark((function r(){var i,a,s;return(0,P.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,lr(e,{maxAge:0});case 3:if(i=r.sent,!n){r.next=8;break}if(i!==n){r.next=7;break}return r.abrupt("return");case 7:if(i-n>1&&o)for(a=n+1n;a<i;a++)t.onBlockNumber(a,n),n=a;case 8:(!n||i>n)&&(t.onBlockNumber(i,n),n=i),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),null===(s=t.onError)||void 0===s||s.call(t,r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,11]])}))),{emitOnBegin:i,interval:f})})):function(){var t=!0,r=function(){return t=!1};return(0,R.Z)((0,P.Z)().mark((function i(){var a,o;return(0,P.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,e.transport.subscribe({params:["newHeads"],onData:function(e){var r;if(t){var i=(0,V.y_)(null===(r=e.result)||void 0===r?void 0:r.number);s(i,n),n=i}},onError:function(e){null===u||void 0===u||u(e)}});case 3:a=i.sent,o=a.unsubscribe,r=o,t||r(),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(0),null===u||void 0===u||u(i.t0);case 12:case"end":return i.stop()}}),i,null,[[0,9]])})))(),r}()}function si(){return si=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c,f,d,h,p;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.confirmations,i=void 0===r?1:r,a=n.hash,o=n.onReplaced,s=n.pollingInterval,u=void 0===s?t.pollingInterval:s,l=n.timeout,c=(0,gt.P)(["waitForTransactionReceipt",t.uid,a]),p=!1,e.abrupt("return",new Promise((function(e,n){l&&setTimeout((function(){return n(new se.mc({hash:a}))}),l);var r=ii(c,{onReplaced:o,resolve:e,reject:n},(function(e){var n=oi(t,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,onBlockNumber:function(o){return(0,R.Z)((0,P.Z)().mark((function s(){var u,l,c,v,m;return(0,P.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!p){s.next=2;break}return s.abrupt("return");case 2:if(u=o,l=function(e){n(),e(),r()},s.prev=4,!h){s.next=10;break}if(!(u-h.blockNumber+1n<i)){s.next=8;break}return s.abrupt("return");case 8:return l((function(){return e.resolve(h)})),s.abrupt("return");case 10:if(f){s.next=15;break}return p=!0,s.next=14,Lt((0,R.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pr(t,{hash:a});case 2:(f=e.sent).blockNumber&&(u=f.blockNumber);case 4:case"end":return e.stop()}}),e)}))),{delay:function(e){return 200*~~(1<<e.count)},retryCount:6});case 14:p=!1;case 15:return s.next=17,Lr(t,{hash:a});case 17:if(h=s.sent,!(i>0&&u-h.blockNumber+1n<i)){s.next=20;break}return s.abrupt("return");case 20:l((function(){return e.resolve(h)})),s.next=44;break;case 23:if(s.prev=23,s.t0=s.catch(4),!f||!(s.t0 instanceof se.Bh||s.t0 instanceof se.Yb)){s.next=43;break}return d=f,s.next=29,Je(t,{blockNumber:u,includeTransactions:!0});case 29:if(c=s.sent,v=c.transactions.find((function(e){var t=e.from,n=e.nonce;return t===d.from&&n===d.nonce}))){s.next=33;break}return s.abrupt("return");case 33:return s.next=35,Lr(t,{hash:v.hash});case 35:if(h=s.sent,!(u-h.blockNumber+1n<i)){s.next=38;break}return s.abrupt("return");case 38:m="replaced",v.to===d.to&&v.value===d.value?m="repriced":v.from===v.to&&0n===v.value&&(m="cancelled"),l((function(){var t;null===(t=e.onReplaced)||void 0===t||t.call(e,{reason:m,replacedTransaction:d,transaction:v,transactionReceipt:h}),e.resolve(h)})),s.next=44;break;case 43:l((function(){return e.reject(s.t0)}));case 44:case"end":return s.stop()}}),s,null,[[4,23]])})))()}})}))})));case 4:case"end":return e.stop()}}),e)}))),si.apply(this,arguments)}var ui=function(e){return{call:function(t){return(0,en.R)(e,t)},createBlockFilter:function(){return function(e){return Fn.apply(this,arguments)}(e)},createContractEventFilter:function(t){return Xn(e,t)},createEventFilter:function(t){return Qn(e,t)},createPendingTransactionFilter:function(){return Jn(e)},estimateContractGas:function(t){return function(e,t){return tr.apply(this,arguments)}(e,t)},estimateGas:function(t){return Ye(e,t)},getBalance:function(t){return function(e,t){return nr.apply(this,arguments)}(e,t)},getBlock:function(t){return Je(e,t)},getBlockNumber:function(t){return lr(e,t)},getBlockTransactionCount:function(t){return function(e){return fr.apply(this,arguments)}(e,t)},getBytecode:function(t){return function(e,t){return dr.apply(this,arguments)}(e,t)},getChainId:function(){return Pe(e)},getEnsAddress:function(t){return function(e,t){return an.apply(this,arguments)}(e,t)},getEnsAvatar:function(t){return function(e,t){return On.apply(this,arguments)}(e,t)},getEnsName:function(t){return function(e,t){return Un.apply(this,arguments)}(e,t)},getEnsResolver:function(t){return function(e,t){return Dn.apply(this,arguments)}(e,t)},getEnsText:function(t){return Ln(e,t)},getFeeHistory:function(t){return function(e,t){return pr.apply(this,arguments)}(e,t)},getFilterChanges:function(t){return Er(e,t)},getFilterLogs:function(t){return function(e,t){return Ar.apply(this,arguments)}(e,t)},getGasPrice:function(){return et(e)},getLogs:function(t){return kr(e,t)},getStorageAt:function(t){return function(e,t){return Cr.apply(this,arguments)}(e,t)},getTransaction:function(t){return Pr(e,t)},getTransactionConfirmations:function(t){return function(e,t){return Ir.apply(this,arguments)}(e,t)},getTransactionCount:function(t){return nt(e,t)},getTransactionReceipt:function(t){return Lr(e,t)},multicall:function(t){return function(e,t){return Or.apply(this,arguments)}(e,t)},readContract:function(t){return nn(e,t)},simulateContract:function(t){return function(e,t){return Ur.apply(this,arguments)}(e,t)},verifyMessage:function(t){return function(e,t){return Vr.apply(this,arguments)}(e,t)},verifyTypedData:function(t){return function(e,t){return ei.apply(this,arguments)}(e,t)},uninstallFilter:function(t){return Dr(e,t)},waitForTransactionReceipt:function(t){return function(e,t){return si.apply(this,arguments)}(e,t)},watchBlocks:function(t){return function(e,t){var n,r=t.blockTag,i=void 0===r?"latest":r,a=t.emitMissed,o=void 0!==a&&a,s=t.emitOnBegin,u=void 0!==s&&s,l=t.onBlock,c=t.onError,f=t.includeTransactions,d=void 0!==f&&f,h=t.poll,p=t.pollingInterval,v=void 0===p?e.pollingInterval:p;return("undefined"!==typeof h?h:"webSocket"!==e.transport.type)?ii((0,gt.P)(["watchBlocks",e.uid,o,u,d,v]),{onBlock:l,onError:c},(function(t){return ai((0,R.Z)((0,P.Z)().mark((function r(){var a,s,u,l,c,f,h;return(0,P.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Je(e,{blockTag:i,includeTransactions:d});case 3:if(!(u=r.sent).number||null===(a=n)||void 0===a||!a.number){r.next=18;break}if(u.number!==n.number){r.next=7;break}return r.abrupt("return");case 7:if(!(u.number-n.number>1&&o)){r.next=18;break}l=(null===(c=n)||void 0===c?void 0:c.number)+1n;case 9:if(!(l<u.number)){r.next=18;break}return r.next=12,Je(e,{blockNumber:l,includeTransactions:d});case 12:f=r.sent,t.onBlock(f,n),n=f;case 15:l++,r.next=9;break;case 18:(null===(s=n)||void 0===s||!s.number||"pending"===i&&(null===u||void 0===u||!u.number)||u.number&&u.number>n.number)&&(t.onBlock(u,n),n=u),r.next=24;break;case 21:r.prev=21,r.t0=r.catch(0),null===(h=t.onError)||void 0===h||h.call(t,r.t0);case 24:case"end":return r.stop()}}),r,null,[[0,21]])}))),{emitOnBegin:u,interval:v})})):function(){var t=!0,r=function(){return t=!1};return(0,R.Z)((0,P.Z)().mark((function i(){var a,o;return(0,P.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,e.transport.subscribe({params:["newHeads"],onData:function(r){var i;if(t){var a=((null===(i=e.chain)||void 0===i||null===(i=i.formatters)||void 0===i||null===(i=i.block)||void 0===i?void 0:i.format)||Q)(r.result);l(a,n),n=a}},onError:function(e){null===c||void 0===c||c(e)}});case 3:a=i.sent,o=a.unsubscribe,r=o,t||r(),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(0),null===c||void 0===c||c(i.t0);case 12:case"end":return i.stop()}}),i,null,[[0,9]])})))(),r}()}(e,t)},watchBlockNumber:function(t){return oi(e,t)},watchContractEvent:function(t){return function(e,t){var n=t.abi,r=t.address,i=t.args,a=t.batch,o=void 0===a||a,s=t.eventName,u=t.onError,l=t.onLogs,c=t.pollingInterval,f=void 0===c?e.pollingInterval:c,d=t.strict,h=(0,gt.P)(["watchContractEvent",r,i,o,e.uid,s,f]),p=null!==d&&void 0!==d&&d;return ii(h,{onLogs:l,onError:u},(function(t){var a,u,l=!1,c=ai((0,R.Z)((0,P.Z)().mark((function c(){var f,d,h;return(0,P.Z)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(l){c.next=11;break}return c.prev=1,c.next=4,Xn(e,{abi:n,address:r,args:i,eventName:s,strict:p});case 4:u=c.sent,c.next=9;break;case 7:c.prev=7,c.t0=c.catch(1);case 9:return l=!0,c.abrupt("return");case 11:if(c.prev=11,!u){c.next=18;break}return c.next=15,Er(e,{filter:u});case 15:f=c.sent,c.next=29;break;case 18:return c.next=20,lr(e);case 20:if(d=c.sent,!a||a===d){c.next=27;break}return c.next=24,kr(e,{address:r,args:i,fromBlock:a+1n,toBlock:d,event:(0,Wn.m)({abi:n,name:s})});case 24:f=c.sent,c.next=28;break;case 27:f=[];case 28:a=d;case 29:if(0!==f.length){c.next=31;break}return c.abrupt("return");case 31:o?t.onLogs(f):f.forEach((function(e){return t.onLogs([e])})),c.next=37;break;case 34:c.prev=34,c.t1=c.catch(11),null===(h=t.onError)||void 0===h||h.call(t,c.t1);case 37:case"end":return c.stop()}}),c,null,[[1,7],[11,34]])}))),{emitOnBegin:!0,interval:f});return(0,R.Z)((0,P.Z)().mark((function t(){return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u){t.next=3;break}return t.next=3,Dr(e,{filter:u});case 3:c();case 4:case"end":return t.stop()}}),t)})))}))}(e,t)},watchEvent:function(t){return function(e,t){var n=t.address,r=t.args,i=t.batch,a=void 0===i||i,o=t.event,s=t.onError,u=t.onLogs,l=t.pollingInterval,c=void 0===l?e.pollingInterval:l,f=t.strict,d=(0,gt.P)(["watchEvent",n,r,a,e.uid,o,c]),h=null!==f&&void 0!==f&&f;return ii(d,{onLogs:u,onError:s},(function(t){var i,s,u=!1,l=ai((0,R.Z)((0,P.Z)().mark((function l(){var c,f,d;return(0,P.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(u){l.next=11;break}return l.prev=1,l.next=4,Qn(e,{address:n,args:r,event:o,strict:h});case 4:s=l.sent,l.next=9;break;case 7:l.prev=7,l.t0=l.catch(1);case 9:return u=!0,l.abrupt("return");case 11:if(l.prev=11,!s){l.next=18;break}return l.next=15,Er(e,{filter:s});case 15:c=l.sent,l.next=29;break;case 18:return l.next=20,lr(e);case 20:if(f=l.sent,!i||i===f){l.next=27;break}return l.next=24,kr(e,{address:n,args:r,fromBlock:i+1n,toBlock:f,event:o});case 24:c=l.sent,l.next=28;break;case 27:c=[];case 28:i=f;case 29:if(0!==c.length){l.next=31;break}return l.abrupt("return");case 31:a?t.onLogs(c):c.forEach((function(e){return t.onLogs([e])})),l.next=37;break;case 34:l.prev=34,l.t1=l.catch(11),null===(d=t.onError)||void 0===d||d.call(t,l.t1);case 37:case"end":return l.stop()}}),l,null,[[1,7],[11,34]])}))),{emitOnBegin:!0,interval:c});return(0,R.Z)((0,P.Z)().mark((function t(){return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=3;break}return t.next=3,Dr(e,{filter:s});case 3:l();case 4:case"end":return t.stop()}}),t)})))}))}(e,t)},watchPendingTransactions:function(t){return function(e,t){var n=t.batch,r=void 0===n||n,i=t.onError,a=t.onTransactions,o=t.poll,s=t.pollingInterval,u=void 0===s?e.pollingInterval:s;return("undefined"!==typeof o?o:"webSocket"!==e.transport.type)?ii((0,gt.P)(["watchPendingTransactions",e.uid,r,u]),{onTransactions:a,onError:i},(function(t){var n,i=ai((0,R.Z)((0,P.Z)().mark((function a(){var o,s;return(0,P.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,n){a.next=13;break}return a.prev=2,a.next=5,Jn(e);case 5:return n=a.sent,a.abrupt("return");case 9:throw a.prev=9,a.t0=a.catch(2),i(),a.t0;case 13:return a.next=15,Er(e,{filter:n});case 15:if(0!==(o=a.sent).length){a.next=18;break}return a.abrupt("return");case 18:r?t.onTransactions(o):o.forEach((function(e){return t.onTransactions([e])})),a.next=24;break;case 21:a.prev=21,a.t1=a.catch(0),null===(s=t.onError)||void 0===s||s.call(t,a.t1);case 24:case"end":return a.stop()}}),a,null,[[0,21],[2,9]])}))),{emitOnBegin:!0,interval:u});return(0,R.Z)((0,P.Z)().mark((function t(){return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,Dr(e,{filter:n});case 3:i();case 4:case"end":return t.stop()}}),t)})))})):function(){var t=!0,n=function(){return t=!1};return(0,R.Z)((0,P.Z)().mark((function r(){var o,s;return(0,P.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.transport.subscribe({params:["newPendingTransactions"],onData:function(e){if(t){var n=e.result;a([n])}},onError:function(e){null===i||void 0===i||i(e)}});case 3:o=r.sent,s=o.unsubscribe,n=s,t||n(),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),null===i||void 0===i||i(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))(),n}()}(e,t)}}};function li(e){var t=e.batch,n=e.chain,r=e.key,i=void 0===r?"public":r,a=e.name,o=void 0===a?"Public Client":a,s=e.transport;return Ce({batch:t,chain:n,key:i,name:o,pollingInterval:e.pollingInterval,transport:s,type:"publicClient"}).extend(ui)}function ci(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.key,r=void 0===n?"fallback":n,i=t.name,a=void 0===i?"Fallback":i,o=t.rank,s=void 0!==o&&o,u=t.retryCount,l=t.retryDelay;return function(t){var n=t.chain,i=t.pollingInterval,o=void 0===i?4e3:i,c=t.timeout,f=e,d=function(){},h=Ut({key:r,name:a,request:function(e){return(0,R.Z)((0,P.Z)().mark((function t(){var r,i,a;return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.method,i=e.params,a=function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,o,s,u=arguments;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=f[t=u.length>0&&void 0!==u[0]?u[0]:0]({chain:n,retryCount:0,timeout:c}),e.prev=2,e.next=5,o.request({method:r,params:i});case 5:return s=e.sent,d({method:r,params:i,response:s,transport:o,status:"success"}),e.abrupt("return",s);case 10:if(e.prev=10,e.t0=e.catch(2),d({error:e.t0,method:r,params:i,transport:o,status:"error"}),!Ot(e.t0)){e.next=15;break}throw e.t0;case 15:if(t!==f.length-1){e.next=17;break}throw e.t0;case 17:return e.abrupt("return",a(t+1));case 18:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),t.abrupt("return",a());case 3:case"end":return t.stop()}}),t)})))()},retryCount:u,retryDelay:l,type:"fallback"},{onResponse:function(e){return d=e},transports:f.map((function(e){return e({chain:n,retryCount:0})}))});if(s){var p,v="object"===typeof s?s:{};!function(e){var t=e.chain,n=e.interval,r=void 0===n?4e3:n,i=e.onTransports,a=e.sampleCount,o=void 0===a?10:a,s=e.timeout,u=void 0===s?1e3:s,l=e.transports,c=e.weights,f=void 0===c?{}:c,d=f.stability,h=void 0===d?.7:d,p=f.latency,v=void 0===p?.3:p,m=[],g=function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var n,a,s;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(l.map(function(){var e=(0,R.Z)((0,P.Z)().mark((function e(n){var r,i,a,o,s;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n({chain:t,retryCount:0,timeout:u}),i=Date.now(),e.prev=2,e.next=5,r.request({method:"net_listening"});case 5:o=1,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),o=0;case 11:return e.prev=11,a=Date.now(),e.finish(11);case 14:return s=a-i,e.abrupt("return",{latency:s,success:o});case 16:case"end":return e.stop()}}),e,null,[[2,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()));case 2:return n=e.sent,m.push(n),m.length>o&&m.shift(),a=Math.max.apply(Math,(0,C.Z)(m.map((function(e){return Math.max.apply(Math,(0,C.Z)(e.map((function(e){return e.latency}))))})))),s=l.map((function(e,t){var n=m.map((function(e){return e[t].latency})),r=1-n.reduce((function(e,t){return e+t}),0)/n.length/a,i=m.map((function(e){return e[t].success})),o=i.reduce((function(e,t){return e+t}),0)/i.length;return 0===o?[0,t]:[v*r+h*o,t]})).sort((function(e,t){return t[0]-e[0]})),i(s.map((function(e){var t=(0,N.Z)(e,2)[1];return l[t]}))),e.next=10,Rt(r);case 10:g();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();g()}({chain:n,interval:null!==(p=v.interval)&&void 0!==p?p:o,onTransports:function(e){return f=e},sampleCount:v.sampleCount,timeout:v.timeout,transports:f,weights:v.weights})}return h}}var fi=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){return(0,I.Z)(this,n),t.call(this,"No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}return(0,L.Z)(n)}(ne.G),di=n(9558);function hi(e,t){var n=t.errorInstance,r=t.timeout,i=t.signal;return new Promise((function(t,a){(0,R.Z)((0,P.Z)().mark((function o(){var s,u;return(0,P.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,u=new AbortController,r>0&&(s=setTimeout((function(){i?u.abort():a(n)}),r)),o.t0=t,o.next=6,e({signal:null===u||void 0===u?void 0:u.signal});case 6:o.t1=o.sent,(0,o.t0)(o.t1),o.next=14;break;case 10:o.prev=10,o.t2=o.catch(0),"AbortError"===o.t2.name&&a(n),a(o.t2);case 14:return o.prev=14,clearTimeout(s),o.finish(14);case 17:case"end":return o.stop()}}),o,null,[[0,10,14,17]])})))()}))}var pi=0;function vi(){return vi=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u,l,c,f,d,h;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.body,i=n.fetchOptions,a=void 0===i?{}:i,o=n.timeout,s=void 0===o?1e4:o,u=a.headers,l=a.method,c=a.signal,e.prev=2,e.next=5,hi(function(){var e=(0,R.Z)((0,P.Z)().mark((function e(n){var i,o;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.signal,e.next=3,fetch(t,(0,O.Z)((0,O.Z)({},a),{},{body:Array.isArray(r)?(0,gt.P)(r.map((function(e){return(0,O.Z)({jsonrpc:"2.0",id:pi++},e)}))):(0,gt.P)((0,O.Z)({jsonrpc:"2.0",id:pi++},r)),headers:(0,O.Z)((0,O.Z)({},u),{},{"Content-Type":"application/json"}),method:l||"POST",signal:c||(s>0?i:void 0)}));case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{errorInstance:new Pt.W5({body:r,url:t}),timeout:s,signal:!0});case 5:if(d=e.sent,null===(f=d.headers.get("Content-Type"))||void 0===f||!f.startsWith("application/json")){e.next=12;break}return e.next=9,d.json();case 9:h=e.sent,e.next=15;break;case 12:return e.next=14,d.text();case 14:h=e.sent;case 15:if(d.ok){e.next=17;break}throw new Pt.Gg({body:r,details:(0,gt.P)(h.error)||d.statusText,headers:d.headers,status:d.status,url:t});case 17:return e.abrupt("return",h);case 20:if(e.prev=20,e.t0=e.catch(2),!(e.t0 instanceof Pt.Gg)){e.next=24;break}throw e.t0;case 24:if(!(e.t0 instanceof Pt.W5)){e.next=26;break}throw e.t0;case 26:throw new Pt.Gg({body:r,details:e.t0.message,url:t});case 27:case"end":return e.stop()}}),e,null,[[2,20]])}))),vi.apply(this,arguments)}var mi=new Map;function gi(e){return yi.apply(this,arguments)}function yi(){return yi=(0,R.Z)((0,P.Z)().mark((function e(t){var r,i,a,o,s,u,l,c,f;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new URL(t),i=r.toString(),!(a=mi.get(i))){e.next=5;break}return e.abrupt("return",a);case 5:return o=(0,di.S)({id:i,fn:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,o,s,u,l,c,f;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(760).then(n.bind(n,7760));case 2:if(o=e.sent,o=null!==(t=o.default)&&void 0!==t&&t.constructor?o.default:o.WebSocket,s=new o(r),u=new Map,l=new Map,c=function(e){var t=e.data,n=JSON.parse(t),r="eth_subscription"===n.method,i=r?n.params.subscription:n.id,a=r?l:u,o=a.get(i);o&&o({data:t}),r||a.delete(i)},f=function e(){mi.delete(i),s.removeEventListener("close",e),s.removeEventListener("message",c)},s.addEventListener("close",f),s.addEventListener("message",c),s.readyState!==o.CONNECTING){e.next=14;break}return e.next=14,new Promise((function(e,t){s&&(s.onopen=e,s.onerror=t)}));case 14:return a=Object.assign(s,{requests:u,subscriptions:l}),mi.set(i,a),e.abrupt("return",[a]);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),s=o.schedule,e.next=8,s();case 8:return u=e.sent,l=(0,N.Z)(u,2),l[0],c=(0,N.Z)(l[1],1),f=c[0],e.abrupt("return",f);case 14:case"end":return e.stop()}}),e)}))),yi.apply(this,arguments)}function bi(){return(bi=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.body,i=n.timeout,a=void 0===i?1e4:i,e.abrupt("return",hi((function(){return new Promise((function(e){return wi.webSocket(t,{body:r,onResponse:e})}))}),{errorInstance:new Pt.W5({body:r,url:t.url}),timeout:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wi={http:function(e,t){return vi.apply(this,arguments)},webSocket:function(e,t){var n=t.body,r=t.onResponse;if(e.readyState===e.CLOSED||e.readyState===e.CLOSING)throw new Pt.c9({body:n,url:e.url,details:"Socket is closed."});var i=pi++;return e.requests.set(i,(function t(a){var o,s=a.data,u=JSON.parse(s);"number"===typeof u.id&&i!==u.id||(null===r||void 0===r||r(u),"eth_subscribe"===n.method&&"string"===typeof u.result&&e.subscriptions.set(u.result,t),"eth_unsubscribe"===n.method&&e.subscriptions.delete(null===(o=n.params)||void 0===o?void 0:o[0]))})),e.send(JSON.stringify((0,O.Z)((0,O.Z)({jsonrpc:"2.0"},n),{},{id:i}))),e},webSocketAsync:function(e,t){return bi.apply(this,arguments)}};var xi=n(4542),_i=function(e){return function(t,n,r){var i=r.subscribe;return r.subscribe=function(e,t,n){var a=e;if(t){var o=(null==n?void 0:n.equalityFn)||Object.is,s=e(r.getState());a=function(n){var r=e(n);if(!o(s,r)){var i=s;t(s=r,i)}},(null==n?void 0:n.fireImmediately)&&t(s,s)}return i(a)},e(t,n,r)}};function Si(e,t){var n;try{n=e()}catch(i){return}var r={getItem:function(e){var r,i=function(e){return null===e?null:JSON.parse(e,null==t?void 0:t.reviver)},a=null!=(r=n.getItem(e))?r:null;return a instanceof Promise?a.then(i):i(a)},setItem:function(e,r){return n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer))},removeItem:function(e){return n.removeItem(e)}};return r}var Ei=function e(t){return function(n){try{var r=t(n);return r instanceof Promise?r:{then:function(t){return e(t)(r)},catch:function(e){return this}}}catch(i){return{then:function(e){return this},catch:function(t){return e(t)(i)}}}}},Mi=function(e,t){return"getStorage"in t||"serialize"in t||"deserialize"in t?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),function(e,t){return function(n,r,i){var a,o=(0,O.Z)({getStorage:function(){return localStorage},serialize:JSON.stringify,deserialize:JSON.parse,partialize:function(e){return e},version:0,merge:function(e,t){return(0,O.Z)((0,O.Z)({},t),e)}},t),s=!1,u=new Set,l=new Set;try{a=o.getStorage()}catch(m){}if(!a)return e((function(){console.warn("[zustand persist middleware] Unable to update item '".concat(o.name,"', the given storage is currently unavailable.")),n.apply(void 0,arguments)}),r,i);var c=Ei(o.serialize),f=function(){var e,t=o.partialize((0,O.Z)({},r())),n=c({state:t,version:o.version}).then((function(e){return a.setItem(o.name,e)})).catch((function(t){e=t}));if(e)throw e;return n},d=i.setState;i.setState=function(e,t){d(e,t),f()};var h,p=e((function(){n.apply(void 0,arguments),f()}),r,i),v=function(){var e;if(a){s=!1,u.forEach((function(e){return e(r())}));var t=(null==(e=o.onRehydrateStorage)?void 0:e.call(o,r()))||void 0;return Ei(a.getItem.bind(a))(o.name).then((function(e){if(e)return o.deserialize(e)})).then((function(e){if(e){if("number"!==typeof e.version||e.version===o.version)return e.state;if(o.migrate)return o.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((function(e){var t;return h=o.merge(e,null!=(t=r())?t:p),n(h,!0),f()})).then((function(){null==t||t(h,void 0),s=!0,l.forEach((function(e){return e(h)}))})).catch((function(e){null==t||t(void 0,e)}))}};return i.persist={setOptions:function(e){o=(0,O.Z)((0,O.Z)({},o),e),e.getStorage&&(a=e.getStorage())},clearStorage:function(){null==a||a.removeItem(o.name)},getOptions:function(){return o},rehydrate:function(){return v()},hasHydrated:function(){return s},onHydrate:function(e){return u.add(e),function(){u.delete(e)}},onFinishHydration:function(e){return l.add(e),function(){l.delete(e)}}},v(),h||p}}(e,t)):function(e,t){return function(n,r,i){var a=(0,O.Z)({storage:Si((function(){return localStorage})),partialize:function(e){return e},version:0,merge:function(e,t){return(0,O.Z)((0,O.Z)({},t),e)}},t),o=!1,s=new Set,u=new Set,l=a.storage;if(!l)return e((function(){console.warn("[zustand persist middleware] Unable to update item '".concat(a.name,"', the given storage is currently unavailable.")),n.apply(void 0,arguments)}),r,i);var c=function(){var e=a.partialize((0,O.Z)({},r()));return l.setItem(a.name,{state:e,version:a.version})},f=i.setState;i.setState=function(e,t){f(e,t),c()};var d,h=e((function(){n.apply(void 0,arguments),c()}),r,i),p=function(){var e,t;if(l){o=!1,s.forEach((function(e){var t;return e(null!=(t=r())?t:h)}));var i=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=r())?e:h))||void 0;return Ei(l.getItem.bind(l))(a.name).then((function(e){if(e){if("number"!==typeof e.version||e.version===a.version)return e.state;if(a.migrate)return a.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((function(e){var t;return d=a.merge(e,null!=(t=r())?t:h),n(d,!0),c()})).then((function(){null==i||i(d,void 0),d=r(),o=!0,u.forEach((function(e){return e(d)}))})).catch((function(e){null==i||i(void 0,e)}))}};return i.persist={setOptions:function(e){a=(0,O.Z)((0,O.Z)({},a),e),e.storage&&(l=e.storage)},clearStorage:function(){null==l||l.removeItem(a.name)},getOptions:function(){return a},rehydrate:function(){return p()},hasHydrated:function(){return o},onHydrate:function(e){return s.add(e),function(){s.delete(e)}},onFinishHydration:function(e){return u.add(e),function(){u.delete(e)}}},a.skipHydration||p(),d||h}}(e,t)},Ai=function(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(!Object.is(i,t)){var a=t;t=(null!=r?r:"object"!==typeof i)?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,a),a},ki=function(e){return e?Ai(e):Ai},Ti=n(9768);function Ci(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;var n,r=(0,F.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=(0,N.Z)(n.value,2),a=i[0],o=i[1];if(!Object.is(o,t.get(a)))return!1}}catch(d){r.e(d)}finally{r.f()}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;var s,u=(0,F.Z)(e);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(!t.has(l))return!1}}catch(d){u.e(d)}finally{u.f()}return!0}var c=Object.keys(e);if(c.length!==Object.keys(t).length)return!1;for(var f=0;f<c.length;f++)if(!Object.prototype.hasOwnProperty.call(t,c[f])||!Object.is(e[c[f]],t[c[f]]))return!1;return!0}function Pi(e){return function(e){var t=0;return function(){return e[t++]}}(function(e){var t=0;function n(){return e[t++]<<8|e[t++]}for(var r=n(),i=1,a=[0,1],o=1;o<r;o++)a.push(i+=n());var s=n(),u=t;t+=s;var l=0,c=0;function f(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}for(var d=Math.pow(2,31),h=d>>>1,p=h>>1,v=d-1,m=0,g=0;g<31;g++)m=m<<1|f();for(var y=[],b=0,w=d;;){for(var x=Math.floor(((m-b+1)*i-1)/w),_=0,S=r;S-_>1;){var E=_+S>>>1;x<a[E]?S=E:_=E}if(0==_)break;y.push(_);for(var M=b+Math.floor(w*a[_]/i),A=b+Math.floor(w*a[_+1]/i)-1;0==((M^A)&h);)m=m<<1&v|f(),M=M<<1&v,A=A<<1&v|1;for(;M&~A&p;)m=m&h|m<<1&v>>>1|f(),M=M<<1^h,A=(A^h)<<1|h|1;b=M,w=1+A-M}var k=r-4;return y.map((function(t){switch(t-k){case 3:return k+65792+(e[u++]<<16|e[u++]<<8|e[u++]);case 2:return k+256+(e[u++]<<8|e[u++]);case 1:return k+e[u++];default:return t-1}}))}(function(e){var t=[];(0,C.Z)("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").forEach((function(e,n){return t[e.charCodeAt(0)]=n}));for(var n=e.length,r=new Uint8Array(6*n>>3),i=0,a=0,o=0,s=0;i<n;i++)s=s<<6|t[e.charCodeAt(i)],(o+=6)>=8&&(r[a++]=s>>(o-=8));return r}(e)))}function Ri(e){return 1&e?~e>>1:e>>1}function Ii(e,t){for(var n=Array(e),r=0,i=0;r<e;r++)n[r]=i+=Ri(t());return n}function Li(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];;){var r=e(),i=e();if(!i)break;t+=r;for(var a=0;a<i;a++)n.push(t+a);t+=i+1}return n}function Zi(e){return Ni((function(){var t=Li(e);if(t.length)return t}))}function Oi(e){for(var t=[];;){var n=e();if(0==n)break;t.push(Di(n,e))}for(;;){var r=e()-1;if(r<0)break;t.push(Bi(r,e))}return t.flat()}function Ni(e){for(var t=[];;){var n=e(t.length);if(!n)break;t.push(n)}return t}function Ui(e,t,n){for(var r=Array(e).fill().map((function(){return[]})),i=0;i<t;i++)Ii(e,n).forEach((function(e,t){return r[t].push(e)}));return r}function Di(e,t){var n=1+t(),r=t(),i=Ni(t);return Ui(i.length,1+e,t).flatMap((function(e,t){var a=br(e),o=a[0],s=a.slice(1);return Array(i[t]).fill().map((function(e,t){var i=t*r;return[o+t*n,s.map((function(e){return e+i}))]}))}))}function Bi(e,t){return Ui(1+t(),1+e,t).map((function(e){return[e[0],e.slice(1)]}))}var Fi=Pi("AEgSbwjEDVYByQKaAQsBOQDpATQAngDUAHsAoABoANQAagCNAEQAhABMAHIAOwA9ACsANgAmAGIAHgAvACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGAAeABMAFwAXAA0ADgAWAA8AFAAVBFsF1QEXE0o3xAXUALIArkABaACmAgPGAK6AMDAwMAE/qAYK7P4HQAblMgVYBVkAPSw5Afa3EgfJwgAPA8meNALGCjACjqIChtk/j2+KAsXMAoPzASDgCgDyrgFCAi6OCkCQAOQA4woWABjVuskNDD6eBBx4AP4COhi+D+wKBirqBgSCaA0cBy4ArABqku+mnIAAXAaUJAbqABwAPAyUFvyp/Mo8INAIvCoDshQ8APcubKQAon4ZABgEJtgXAR4AuhnOBPsKIE04CZgJiR8cVlpM5INDABQADQAWAA9sVQAiAA8ASO8W2T30OVnKluYvChEeX05ZPe0AFAANABYAD2wgXUCYAMPsABwAOgzGFryp/AHauQVcBeMC0KACxLEKTR2kZhR0Gm5M9gC8DmgC4gAMLjSKF8qSAoF8ARMcAL4OaALiAAwuAUlQJpJMCwMt/AUpCthqGK4B2EQAciwSeAIyFiIDKCi6OGwAOuIB9iYAyA7MtgEcZIIAsgYABgCK1EoFHNZsGACoKNIBogAAAAAAKy4DnABoAQoaPu43dQQZGACrAcgCIgDgLBJ0OvRQsTOiKDVJBfsoBVoFWbC5BWo7XkITO1hCmHuUZmCh+QwUA8YIJvJ4JASkTAJUVAJ2HKwoAZCkpjZcA0YYBIRiCgDSBqxAMCQHKgI6XgBsAWIgcgCEHhoAlgFKuAAoahgBsMYDOC4iRFQBcFoGZgJmAPJKGAMqAgYASkIArABeAHQALLYGCPTwGo6AAAAKIgAqALQcSAHSAdwIDDKXeYHpAAsAEgA1AD4AOTR3etTBEGAQXQJNCkxtOxUMAq0PpwvmERYM0irM09kANKoH7ANUB+wDVANUB+wH7ANUB+wDVANUA1QDVBwL8BvUwRBgD0kEbgWPBYwE1wiEJkoRggcpCNNUDnQfHEgDRgD9IyZJHTuUMwwlQ0wNTQQH/TZDbKh9OQNIMaxU9pCjA8wyUDltAh5yEqEAKw90HTW2Tn96SHGhCkxPr7WASWNOaAK/Oqk/+QoiCZRvvHdPBj4QGCeiEPQMMAGyATgN6kvVBO4GOATGH3oZFg/KlZkIoi3aDOom4C6egFcj8iqABepL8TzaC0pRZQ9WC2IJ4DpggUsDHgEKIogK2g02CGoQ8ArGaA3iEUIHNgPSSZcAogb+Cw4dMhWyJg1iqQsGOXQG+BrzC4wmrBMmevkF0BoeBkoBJhr8AMwu5IWtWi5cGU9cBgALIiPEFKVQHQ0iQLR4RRoYBxIlpgKOQ21KhFEzHpAh8zw6DWMuEFF5B/I8AhlMC348m0aoRQsRzz6KPUUiRkwpBDJ8LCwniAnMD4IMtnxvAVYJHgmuDG4TLhEUN8IINgcWKpchJxIIHkaSYJcE9JwD8BPOAwgFPAk+BxADshwqEysVJgUKgSHUAvA20i6wAoxWfQEUBcgPIh/cEE1H3Q7mCJgCYgOAJegAKhUeABQimAhAYABcj9VTAi7ICMRqaSNxA2QU5F4RcAeODlQHpBwwFbwc3nDFXgiGBSigrAlYAXIJlgFcBOAIBjVYjJ0gPmdQi1UYmCBeQTxd+QIuDGIVnES6h3UCiA9oEhgBMgFwBzYM/gJ0EeoRaBCSCOiGATWyM/U6IgRMIYAgDgokA0xsywskJvYM9WYBoBJfAwk0OnfrZ6hgsyEX+gcWMsJBXSHuC49PygyZGr4YP1QrGeEHvAPwGvAn50FUBfwDoAAQOkoz6wS6C2YIiAk8AEYOoBQH1BhnCm6MzQEuiAG0lgNUjoACbIwGNAcIAGQIhAV24gAaAqQIoAACAMwDVAA2AqoHmgAWAII+AToDJCwBHuICjAOQCC7IAZIsAfAmBBjADBIA9DRuRwLDrgKAZ2afBdpVAosCRjIBSiIEAktETgOsbt4A2ABIBhDcRAESqEfIF+BAAdxsKADEAPgAAjIHAj4BygHwagC0AVwLLgmfsLIBSuYmAIAAEmgB1AKGANoAMgB87gFQAEoFVvYF0AJMRgEOLhUoVF4BuAMcATABCgB2BsiKosYEHARqB9ACEBgV3gLvKweyAyLcE8pCwgK921IAMhMKNQqkCqNgWF0wAy5vPU0ACx+lPsQ/SwVOO1A7VTtQO1U7UDtVO1A7VTtQO1UDlLzfvN8KaV9CYegMow3RRMU6RhPYYE5gLxPFLbQUvhXLJVMZOhq5JwIl4VUGDwEt0GYtCCk0che5ADwpZYM+Y4MeLQpIHORTjlT1LRgArkufM6wNqRsSRD0FRHXqYicWCwofAmR+AmI/WEqsWDcdAqH0AmiVAmYGAp+BOBgIAmY4AmYjBGsEfAN/EAN+jzkDOXQUOX86ICACbBoCMjM4BwJtxAJtq+yHMGRCKAFkANsA3gBHAgeVDIoA+wi/AAqyAncsAnafPAJ5SEACeLcaWdhFq0bwAnw8AnrFAn0GAnztR/1IemAhACgSSVVKWBIUSskC0P4C0MlLJAOITAOH40TCkS8C8p5dAAMDq0vLTCoiAMxNSU2sAos8AorVvhgEGkBkArQCjjQCjlk9lH4CjtYCjll1UbFTMgdS0VSCApP4ApMJAOYAGVUbVaxVzQMsGCmSgzLeeGNFODYCl5wC769YHqUAViIClowClnmZAKZZqVoGfkoAOAKWsgKWS1xBXM4CmcgCmWFcx10EFgKcmDm/OpoCnBMCn5gCnrWHABoMLicMAp3uAp6PALI6YTFh7AKe0AKgawGmAp6cHAKeS6JjxWQkIigCJ6wCJnsCoPgCoEnUAqYsAqXLAqf8AHoCp+9oeWiuAABGahlqzgKs4AKsqwKtZAKs/wJXGgJV2QKx3tQDH0tslAKyugoCsuUUbN1tYG1FXAMlygK2WTg8bo0DKUICuFsCuUQSArkndHAzcN4CvRYDLa8DMg4CvoVx/wMzbgK+F3Mfc0wCw8gCwwFzf3RIMkJ03QM8pAM8lwM9vALFeQLGRALGDYYCyGZOAshBAslMAskrAmSaAt3PeHZeeKt5IkvNAxigZv8CYfEZ8JUhewhej164DgLPaALPaSxIUM/wEJwAw6oCz3ABJucDTg9+SAIC3CQC24cC0kwDUlkDU1wA/gNViYCGPMgT6l1CcoLLg4oC2sQC2duEDYRGpzkDhqIALANkC4ZuVvYAUgLfYgLetXB0AuIs7REB8y0kAfSYAfLPhALr8ALpbXYC6vYC6uEA9kQBtgLuhgLrmZanlwAC7jwDhd2YdnDdcZ4C8wAAZgOOE5mQAvcQA5FrA5KEAveVAvnWAvhjmhmaqLg0mxsDnYAC/vcBGAA2nxmfsAMFigOmZwOm1gDOwgMGZ6GFogIGAwxGAQwBHAdqBl62ZAIAuARovA6IHrAKABRyNgAgAzASSgOGfAFgJB4AjOwAHgDmoAScjgi0BhygwgCoBRK86h4+PxZ5BWk4P0EsQiJCtV9yEl+9AJbGBTMAkE0am7o7J2AzErrQDjAYxxiKyfcFWAVZBVgFWQVkBVkFWAVZBVgFWQVYBVkFWAVZRxYI2IZoAwMDCmVe6iwEygOyBjC8vAC8BKi8AOhBKhazBUc+aj5xQkBCt192OF/pAFgSM6wAjP/MbMv9puhGez4nJAUsFyg3Nn5u32vB8hnDLGoBbNdvMRgFYAVrycLJuQjQSlwBAQEKfV5+jL8AND+CAAQW0gbmriQGAIzEDAMCDgDlZh4+JSBLQrJCvUI5JF8oYDcoOSQJwj4KRT9EPnk+gj5xPnICikK9SkM8X8xPUGtOCy1sVTBrDG8gX+E0OxwJaJwKYyQsPR4nQqxCvSzMAsv9X8oPIC8KCQoAACN+nt9rOy5LGMmsya0JZsLMzQphQWAP5hCkEgCTjh5GQiYbqm06zjkKND9EPnFCQBwICx5NSG1cLS5a4rwTCn7uHixCQBxeCUsKDzRVREM4BTtEnC0KghwuQkAb9glUIyQZMTIBBo9i8F8KcmTKYAxgLiRvAERgGjoDHB9gtAcDbBFmT2BOEgIAZOhgFmCWYH5gtGBMYJJpFhgGtg/cVqq8WwtDF6wBvCzOwgMgFgEdBB8BegJtMDGWU4EBiwq5SBsA5SR0jwvLDqdN6wGcAoidUAVBYAD4AD4LATUXWHsMpg0lILuwSABQDTUAFhO4NVUC0wxLZhEcANlPBnYECx9bADIAtwKbKAsWcKwzOaAaAVwBhwn9A9ruEAarBksGugAey1aqWwq7YhOKCy1ADrwBvAEjA0hbKSkpIR8gIi0TJwciDY4AVQJvWJFKlgJvIA9ySAHUdRDPUiEaqrFN6wcSBU1gAPgAPgsBewAHJW0LiAymOTEuyLBXDgwAYL0MAGRKaFAiIhzAADIAtwKbKC08D88CkRh8ULxYyXRzjtilnA72mhU+G+0S2hIHDxwByAk7EJQGESwNNwwAPAC0zwEDAKUA4gCbizAAFQBcG8cvbXcrDsIRAzwlRNTiHR8MG34CfATCC6vxbQA4Oi4Opzkuz6IdB7wKABA7Ls8SGgB9rNsdD7wbSBzOoncfAT4qYB0C7KAJBE3z5R9mDL0M+wg9Cj8ABcELPgJMDbwIvQ09CT0KvS7PoisOvAaYAhwPjBriBBwLvBY8AKELPBC8BRihe90AO2wMPQACpwm9BRzR9QYFB2/LBnwAB7wSXBISvQECAOsCAAB1FVwHFswV/HAXvBg8AC68AuyovAAevAJWISuAAAG8AALkFT0VvCvso7zJqDwEAp8nTAACXADn3hm8CaVcD7/FAPUafAiiBQv/cQDfvKe8GNwavKOMeXMG/KmchAASvAcbDAADlABtvAcAC7ynPAIaPLsIopzLDvwHwak8AOF8L7dtvwNJAAPsABW8AAb8AAm8AGmMABq8AA68Axi8jmoV/AABXAAObAAuTB8ABrwAF7wIIgANSwC6vCcAA7wADpwq7ACyWwAcHAAbvAAB7AqiAAXHCxYV3AAHnABCvAEDAGm8AAt8AB28AAi8CaIABcsAbqAZ1gCSCCIABcsAATwAB9wAHZwIIgAGmwAJfAAbLABtHADmvIEACFwACDwAFLwAaPwJIgAGywDjjAAJPAuiDsX7YAAHPABunUBJAEgACrwFAAM8AAmuAzgABxwAGXwAAgym/AAKHAAKPAAJ/KfsBrwACRwAAwwAEDwBABQ8ABFsAA+MAA3sAA28ABkMBxYcABU8AG6cFrQBvAC7ABM8BABpLAsA4UwAAjwABFMAF3wFHAAG0QAYvB8BfClTADpGALAJBw4McwApK3EBpQYIXwJtJA0ACghwTG1gK4oggRVjLjcDogq1AALZABcC/ARvAXdzSFMVIgNQAhY/AS0GBHRHvnxTe0EAKgAyAvwAVAvcAHyRLQEsAHfmDhIzRwJLAFgGAAJRAQiLzQB5PAQhpgBbANcWAJZpOCCMAM5ssgDQ1RcJw3Z0HBlXHgrSAYmRrCNUVE5JEz3DivoAgB04QSos4RKYUABzASosMSlDGhADMVYE+MbvAExm3QBrAnICQBF7Osh4LzXWBhETIAUVCK6v/xPNACYAAQIbAIYAiQCONgDjALQA1QCdPQC7AKsApgChAOcAnwDTAJwA4AEBAPwAwAB6AFsAywDNAPwA1wDrAIkAogEqAOMA2ADVBAIIKzTT09PTtb/bzM/NQjEWAUsBVS5GAVMBYgFhAVQBRUpCRGcMAUwUBgkEMzcMBwAgDSQmKCs3OTk8PDw9Pg0/HVBQUFBSUlFSKFNUVlVVHFxgYF9hYCNlZ29ucXFxcXFxc3Nzc3Nzc3Nzc3N1dXZ1dFsAPesAQgCTAHEAKwBf8QCHAFAAUAAwAm/oAIT+8fEAXQCM6wCYAEgAWwBd+PipAH4AfgBiAE8AqgAdAK8AfAI5AjwA9QDgAPcA9wDhAPgA4gDiAOEA3wAoAnQBSgE5ATcBTQE3ATcBNwEyATEBMQExARUBURAAKgkBAEwYCxcEFhcPAIcAjwCfAEoAYxkCKgBvAGgAkAMOAyArAxpCP0gqAIoCSADAAlACnQC5Ao8CjwKPAo8CjwKPAoQCjwKPAo8CjwKPAo8CjgKOApECmQKQAo8CjwKNAo0CjQKNAosCjgJuAc0CkAKYAo8CjwKOF3oMAPcGA5gCWgIzGAFNETYC2xILLBQBRzgUTpIBdKU9AWJaAP4DOkgA/wCSKh4ZkGsAKmEAagAvAIoDlcyM8K+FWwa7LA/DEgKe1nUrCwQkWwGzAN5/gYB/gX+Cg4N/hIeFf4aJh4GIg4mDin+Lf4x/jYuOf49/kIORf5J/k3+Uf5WElomXg5h/AIMloQCEBDwEOQQ7BD4EPARCBD8EOgRABEIEQQQ9BD8EQgCkA4gAylIA0AINAPdbAPcBGgD3APUA9QD2APXVhSRmvwD3APUA9QD2APUdAIpbAPcAigEaAPcAigLtAPcAitWFJGa/HQD4WwEaAPcA9wD1APUA9gD1APgA9QD1APYA9dWFJGa/HQCKWwEaAPcAigD3AIoC7QD3AIrVhSRmvx0CRAE3AksBOgJMwgOfAu0Dn9WFJGa/HQCKWwEaA58AigOfAIoC7QOfAIrVhSRmvx0EMQCKBDIAigeOMm4hLQCKAT9vBCQA/gDHWwMAVVv/FDMDAIoDPtkASgMAigMAl2dBtv/TrfLzakaPh3aztmIuZQrR3ER2n5Yo+qNR2jK/aP/V04UK1njIJXLgkab9PjOxyJDVbIN3R/FZLoZVl2kYFQIZ7V6LpRqGDt9OdDohnJKp5yX/HLj0voPpLrneDaN11t5W3sSM4ALscgSw8fyWLVkKa/cNcQmjYOgTLZUgOLi2F05g4TR0RfgZ4PBdntxdV3qvdxQt8DeaMMgjJMgwUxYN3tUNpUNx21AvwADDAIa0+raTWaoBXmShAl5AThpMi282o+WzOKMlxjHj7a+DI6AM6VI9w+xyh3Eyg/1XvPmbqjeg2MGXugHt8wW03DQMRTd5iqqOhjLvyOCcKtViGwAHVLyl86KqvxVX7MxSW8HLq6KCrLpB8SspAOHO9IuOwCh9poLoMEha9CHCxlRAXJNDobducWjqhFHqCkzjTM2V9CHslwq4iU19IxqhIFZMve15lDTiMVZIPdADXGxTqzSTv0dDWyk1ht430yvaYCy9qY0MQ3cC5c1uw4mHcTGkMHTAGC99TkNXFAiLQgw9ZWhwKJjGCe+J5FIaMpYhhyUnEgfrF3zEtzn40DdgCIJUJfZ0mo3eXsDwneJ8AYCr7Vx2eHFnt2H6ZEyAHs9JoQ4Lzh5zBoGOGwAz37NOPuqSNmZf51hBEovtpm2T1wI79OBWDyvCFYkONqAKGVYgIL0F+uxTcMLSPtFbiNDbBPFgip8MGDmLLHbSyGXdCMO6f7teiW9EEmorZ+75KzanZwvUySgjoUQBTfHlOIerJs6Y9wLlgDw18AB1ne0tZRNgGjcrqHbtubSUooEpy4hWpDzTSrmvqw0H9AoXQLolMt9eOM+l9RitBB1OBnrdC1XL4yLFyXqZSgZhv7FnnDEXLUeffb4nVDqYTLY6X7gHVaK4ZZlepja2Oe6OhLDI/Ve5SQTCmJdH3HJeb14cw99XsBQAlDy5s5kil2sGezZA3tFok2IsNja7QuFgM30Hff3NGSsSVFYZLOcTBOvlPx8vLhjJrSI7xrNMA/BOzpBIJrdR1+v+zw4RZ7ry6aq4/tFfvPQxQCPDsXlcRvIZYl+E5g3kJ+zLMZon0yElBvEOQTh6SaAdIO6BwdqJqfvgU+e8Y65FQhdiHkZMVt9/39N2jGd26J6cNjq8cQIyp6RonRPgVn2fl89uRDcQ27GacaN0MPrcNyRlbUWelKfDfyrNVVGBG5sjd3jXzTx06ywyzuWn5jbvEfPPCTbpClkgEu9oPLKICxU5HuDe3jA1XnvU85IYYhaEtOU1YVWYhEFsa4/TQj3rHdsU2da2eVbF8YjSI0m619/8bLMZu3xildwqM7zf1cjn4Whx0PSYXcY5bR7wEQfGC7CTOXwZdmsdTO8q3uGm7Rh/RfCWwpzBHCAaVfjxgibL5vUeL0pH6bzDmI9yCXKC/okkmbc28OJvI87L/bjFzpq0DHepw4kT1Od+fL7cyuFaRgfaUWB2++TCFvz11J0leEtrGkpccfX9z2LY39sph4PBHCjNOOkd0ybUm+ZzS8GkFbqMpq8uiX2yHpa0jllTLfGTDBMYR6FT5FWLLDPMkYxt1Q0eyMvxJWztDjy0m6VvZPvamrFXjHmPpU6WxrZqH6WW//I37RwvqPQhPz8I3RPuXAk1C94ZprQWm9iGM/KgiGDO6SV9sjp+Jmk4TBajMNJ5zzWZ1k1jrteQQBp9C2dOvmbIeeEME8y573Q8TgGe+ZCzutM45gYLBzYm2LNvgq2kebAbMpHRDSyh6dQ27GbsAAdCqQVVXWC1C+zpwBM2Lr4eqtobmmu1vJEDlIQR1iN8CUWpztq50z7FFQBn3SKViX6wSqzVQCoYvAjByjeSa+h1PRnYWvBinTDB9cHt4eqDsPS4jcD3FwXJKT0RQsl8EvslI2SFaz2OtmYLFV8FwgvWroZ3fKmh7btewX9tfL2upXsrsqpLJzpzNGyNlnuZyetg7DIOxQTMBR7dqlrTlZ6FWi1g4j1NSjA2j1Yd7fzTH6k9LxCyUCneAKYCU581bnvKih6KJTeTeCX4Zhme/QIz7w2o+AdSgtLAkdrLS9nfweYEqrMLsrGGSWXtgWamAWp6+x6GM/Z8jNw3BqPNQ39hrzYLECn3tPvh/LqKbRSCiDGauDKBBj/kGbpnM1Bb/my8hv4NWStclkwjfl57y4oNDgw1JAG9VOti3QVVoSziMEsSdfEjaCPIDb7SgpLXykQsM+nbqbt97I0mIlzWv0uqFobLMAq8Rd9pszUBKxFhBPwOjf//gVOz2r7URJ2OnpviCXv9iz3a4X/YLBYbXoYwxBv/Kq0a5s4utQHzoTerJ7PmFW/no/ZAsid/hRIV82tD+Qabh5F1ssIM8Ri3chu0PuPD3sSJRMjDoxLAbwUbroiPAz/V52e8s3DIixxlO7OrvhMj3qfzA0kKxzwicr5wJmZwJxTXgrwYsqhRvpgC2Nfdyd+TYYxJSZgk+gk2g9KyHSlwQVAyPtWWgvVGyVBqsU2LpDlLNosSAtolC1uBKt5pQZLhAxTjeGCWIC/HVpagc5rRwkgpCHKEsjA8d+scp8aiMewwQBhp5dYTV5t/Nvl+HbDMu8F3S0psPyZb1bSnqlHPFUnMQeQqSqwDBT23fJO9gO3aVaa1icrXU0PKwlMM5K+iL3ATcVq2fFWKk0irCTF4LDVDG4gUpkyplq6efcZS+WDR1woApjD18x+2JQR9oOXzuA7uy4b+/91WsJd/tSd1QcAH8PVPXApieA37B7YXPhDPH1azP3PKR+HfHmOoDYLeuKsIi/ssSsdYs62qJo14Hw1P2N/6zpr8F3FTWmJ4ysAVcl84Iv/tl///Z8FaAWbBQbyMNDZjrZ2JwdRjtd1jOeNumSodFtr4/Zf45iRJf/8HSW+KIB/+GlKu8Rv1BPLr/4duoL+kFPRqrstEr41gfJupoJRf4hcYDWX93FOcfEBiIivxtjtV8g7mvOReiamYWKE7vfPbv3v2L9Kwq3cIDFGLyhyfOGuf/9vA5muH6Pjg7B4SUj2ydDXra9fSBI+DrsNHA6l51wfHssJb+11TfNk7B8OleUe3Y+ZmHboMFHdv7FFP2cfISFyeAQR0sk/Xv62HBTdW4HmnGSLFk/cqyWVVFJkdIIa+4hos3JRHcqLoRKM5h2Qtk1RZtzISMtlXTfTqIc77YsCCgQD0r61jtxskCctwJOtjE/pL8wC4LBD4AZFjh2wzzFCrT/PNqW0/DeBbkfMfzVm9yy06WiF+1mTdNNEAytVtohBKg3brWd2VQa+aF+cQ0mW5CvbwOlWCT07liX226PjiVLwFCRs/Ax2/u+ZNPjrNFIWIPf5GjHyUKp60OeXe9F01f7IaPf/SDTvyDAf7LSWWejtiZcsqtWZjrdn6A2MqBwnSeKhrZOlUMmgMionmiCIvXqKZfmhGZ1MwD3uMF4n9KJcfWLA3cL5pq48tm5NDYNh3SS/TKUtmFSlQR89MR4+kxcqJgpGbhm9gXneDELkyqAN5nitmIzTscKeJRXqd64RiaOALR2d295NWwbjHRNG2AU5oR9OS2oJg/5CY6BFPc1JvD2Mxdhp2/MZdI8dLePxiP4KRIp8VXmqfg+jqd/RNG7GNuq1U2SiI4735Bdc0MVFx6mH5UOWEa5HuhYykd6t4M1gYLVS8m1B+9bUqi5DziQq7qT8d94cxB6AB4WqMCOF/zPPtRSZUUaMSsvHOWxGASufywTX8ogy6HgUf9p+Z30wUEosl8qgmwm6o2AV6nO9HKQjRHpN6SUegI5pvR61RLnUJ1lqCtmfcsRQutEizVpAaPXN7xMp5UQ5OSZK6tniCK9CpyMd7LjR6+MxfoMEDPpWdf2p2m5N3KO4QMxf+V7vGdYjemQczQ+m2MGIkFNYDMf0Yop2eSx81sP36WHUczqEhKysp2iJSYAvfgJjinKwToPvRKb+HBi+7cJ96S5ngfLOXaHAFRLkulo4TnXTFO51gX0TCCo4ZUHdbpdgkMEwUZAPjh6M+hA8DzycbtxAgH3uD6i0nN1aTiIuQ4BYCE9dEHHwAmINU+4YEWx4EC3OZwFGfYZMPLScVlb+BAAJeARUh+gdWA3/gRqCrf1jecgqeFf1MdzrrP4SVlGm5mMihSP+zYYksAB7O+SBPwNQqSNMiLnkviY/klwgcRmvqtCqeWeA0gjuir4CMZqmw/ntP6M+l0pdN8/P9xI53aP7x/zavJbbKOz8VzO/nXxIr1tjparMnqd6iWdByHKw4lF4p/u57Yv07WeZPDnRl7wgmDVZZ44fQsjdYO/gmXQ+940PRGst8UMQApFC4OOV22e4N+lVOPyFLAOj4t8R3PFw/FjbSWy0ELuAFReNkee8ORcBOT2NPDcs7OfpUmzvn/F9Czk9o9naMyVYy/j8I5qVFmQDFcptBp65J/+sJA3w/j6y/eqUkKxTsf0CZjtNdRSBEmJ2tmfgmJbqpcsSagk+Ul9qdyV+NnqFBIJZFCB1XwPvWGDBOjVUmpWGHsWA5uDuMgLUNKZ4vlq5qfzY1LnRhCc/mh5/EX+hzuGdDy5aYYx4BAdwTTeZHcZpl3X0YyuxZFWNE6wFNppYs3LcFJePOyfKZ8KYb7dmRyvDOcORLPH0sytC6mH1US3JVj6paYM1GEr+CUmyHRnabHPqLlh6Kl0/BWd3ebziDfvpRQpPoR7N+LkUeYWtQ6Rn5v5+NtNeBPs2+DKDlzEVR5aYbTVPrZekJsZ9UC9qtVcP99thVIt1GREnN8zXP8mBfzS+wKYym8fcW6KqrE702Zco+hFQAEIR7qimo7dd7wO8B7R+QZPTuCWm1UAwblDTyURSbd85P4Pz+wBpQyGPeEpsEvxxIZkKsyfSOUcfE3UqzMFwZKYijb7sOkzpou+tC4bPXey5GI1GUAg9c3vLwIwAhcdPHRsYvpAfzkZHWY20vWxxJO0lvKfj6sG2g/pJ1vd/X2EBZkyEjLN4nUZOpOO7MewyHCrxQK8d5aF7rCeQlFX+XksK6l6z971BPuJqwdjj68ULOj9ZTDdOLopMdOLL0PFSS792SXE/EC9EDnIXZGYhr52aQb+9b2zEdBSnpkxAdBUkwJDqGCpZk/HkRidjdp0zKv/Cm52EenmfeKX6HkLUJgMbTTxxIZkIeL/6xuAaAAHbA7mONVduTHNX/UJj1nJEaI7f3HlUyiqKn7VfBE+bdb4HWln1HPJx001Ulq1tOxFf8WZEARvq5Da1+pE7fPVxLntGACz3nkoLsKcPdUqdCwwiyWkmXTd5+bv3j7HaReRt3ESn783Ew3SWsvkEjKtbocNksbrLmV+GVZn1+Uneo35MT1/4r8fngQX5/ptORfgmWfF6KSB/ssJmUSijXxQqUpzkANEkSkYgYj560OOjJr6uqckFuO15TRNgABEwNDjus1V3q2huLPYERMCLXUNmJJpbMrUQsSO7Qnxta55TvPWL6gWmMOvFknqETzqzFVO8SVkovEdYatypLGmDy9VWfgAc0KyIChiOhbd7UlbAeVLPZyEDp4POXKBwN/KP5pT6Cyqs6yaI00vXMn1ubk9OWT9Q/O2t/C25qlnO/zO0xcBzpMBCAB8vsdsh3U8fnPX1XlPEWfaYJxKVaTUgfCESWl4CCkIyjE6iQ5JFcwU6S4/IH0/Agacp8d5Gzq2+GzPnJ7+sqk40mfFQpKrDbAKwLlr3ONEati2k/ycLMSUu7V/7BBkDlNyXoN9tvqXCbbMc4SSQXgC/DBUY9QjtrCtQ+susEomCq8xcNJNNMWCH31GtlTw2BdCXkJBjT+/QNWlBWwQ5SWCh1LdQ99QVii/DyTxjSR6rmdap3l3L3aiplQpPYlrzNm9er88fXd2+ao+YdUNjtqmxiVxmyYPzJxl67OokDcTezEGqldkGgPbRdXA+fGcuZVkembZByo7J1dMnkGNjwwCny+FNcVcWvWYL9mg8oF7jACVWI3bA64EXpdM8bSIEVIAs5JJH+LHXgnCsgcMGPZyAAVBncvbLiexzg9YozcytjPXVlAbQAC7Tc4S0C8QN4LlAGjj4pQAVWrwkaDoUYGxxvkCWKRRHkdzJB5zpREleBDL1oDKEvAqmkDibVC4kTqF89YO6laUjgtJPebBfzr16tg4t10GmN1sJ5vezk2sUOq8blCn5mPZyT3ltaDcddKupQjqusNM9wtFVD0ABzv17fZDn7GPT1nkCtdcgYejcK1qOcTGtPxnCX1rErEjVWCnEJv5HaOAUjgpiKQjUKkQi64D5g2COgwas8FcgIl0Pw95H9dWxE3QG0VbMNffh6BPlAojLDf4es2/5Xfq7hw5NGcON2g8Qsy2UQm94KddKyy3kdJxWgpNaEc15xcylbLC3vnT26u8qS90qc2MU8LdOJc5VPF5KnSpXIhnj1eJJ/jszjZ01oR6JDFJRoeTPO/wh4IPFbdG9KljuSzeuI92p8JF/bpgDE8wG86/W2EBKgPrmzdLijxssQn8mM44ky/KLGOJcrSwXIpZa/Z3v7W6HCRk7ewds99LTsUW1LbeJytw8Q/BFZVZyfO9BUHOCe2suuEkO8DU4fLX0IQSQ2TdOkKXDtPf3sNV9tYhYFueuPRhfQlEEy+aYM/MCz7diDNmFSswYYlZZPmKr2Q5AxLsSVEqqBtn6hVl1BCFOFExnqnIsmyY/NA8jXnDaNzr7Zv3hu+I1Mf/PJjk0gALN2G8ABzdf9FNvWHvZHhv6xIoDCXf964MxG92vGZtx/LYU5PeZqgly8tT5tGeQGeJzMMsJc5p+a5Rn2PtEhiRzo/5Owjy1n0Lzx3ev8GHQmeWb8vagG6O5Qk5nrZuQTiKODI4UqL0LLAusS2Ve7j1Ivdxquu1BR9Rc4QkOiUPwQXJv6du2E8i5pDhVoQpUhyMWGUT2O2YODIhjAfI71gxep5r5zAY7GBUZpy51hAw0pcCCrhOmU8Wp6ujQTdZQsCjtq6SHX8QAMNiPCIIkoxhHEZPgsBcOlP4aErJZPhF7qvx6gHrn8hEwPwYbx8YmT/n7lbcmTip1v8kgsrIjFTAlvLY4Nuil0KDmgz3svYs0ZJ3O3Is/vSx4xpxF1e2VAtZE8dJxGYEIhCSuPvCjP54l/NSNDnwlKvAW8mG+AQkgp7a87Igh26uKMFGD0PoPHTSvoWxiHuk+su8XkQiHIjeYKl/RdcOHpxhQH3zHCNE3aARm83Bl6zGxU/vMltlVPQhubcqhW4RYkl6uXk5JdP/QpzaKFpw2M8zvysv2qj7xaQECuu2akM0Cssj/uB9+wDR7uA6XOnLNaoczalHoMj33eiiu+DRaFsUmlmUZuh9bjDY4INMNSSAivSh03uJvny4Gj+D+neudoa7iJi7c4VFlZ/J5gUR82308zSNAt/ZroBXDWw0fV3eVPAn3aX0mtJabF6RsUZmL+Ehn+wn51/4QipMjD+6y64t7bjL6bjENan2prQ4h7++hBJ9NXvX8CUocJqMC937IasLzm5K0qwXeFMAimMHkEIQIQI2LrQ9sLBfXuyp66zWvlsh74GPv7Xpabj993pRNNDuFud5oIcn/92isbADXdpRPbjmbCNOrwRbxGZx2XmYNGMiV5kjF4IKyxCBvKier9U4uVoheCdmk83rp5G0PihAm2fAtczI4b9BWqX+nrZTrJX5kSwQddi93NQrXG+Cl3eBGNkM77VBsMpEolhXex1MVvMkZN9fG59GGbciH11FEXaY1MxrArovaSjE/lUUqBg2cZBNmiWbvzCHCPJ4RVGFK2dTbObM1m+gJyEX53fa7u3+TZpm74mNEzWbkVL4vjNwfL9uzRCu1cgbrNx5Yv5dDruNrIOgwIk+UZWwJfdbu/WHul6PMmRflVCIzd7B37Pgm/Up/NuCiQW7RXyafevN3AL6ycciCc4ZPlTRzEu+aURGlUBOJbUEsheX7PPyrrhdUt5JAG12EEEZpY/N3Vhbl5uLAfT0CbC2XmpnryFkxZmBTs5prvEeuf0bn73i3O82WTiQtJWEPLsBXnQmdnKhB06NbbhLtlTZYJMxDMJpFeajSNRDB2v61BMUHqXggUwRJ19m6p5zl51v11q34T74lTXdJURuV6+bg2D6qpfGnLy7KGLuLZngobM4pIouz4+n0/UzFKxDgLM4h+fUwKZozQ9UGrHjcif51Ruonz7oIVZ56xWtZS8z7u5zay6J2LD4gCYh2RXoBRLDKsUlZ80R8kmoxlJiL8aZCy2wCAonnucFxCLT1HKoMhbPKt34D97EXPPh0joO93iJVF1Uruew61Qoy3ZUVNX9uIJDt9AQWKLLo+mSzmTibyLHq0D6hhzpvgUgI6ekyVEL3FD+Fi5R3A8MRHPXspN1VyKkfRlC+OGiNgPC4NREZpFETgVmdXrQ2TxChuS3aY+Ndc7CiYv5+CmzfiqeZrWIQJW/C4RvjbGUoJFf1K6ZdR2xL/bG4kVq1+I4jQWX+26YUijpp+lpN7o5c6ZodXJCF56UkFGsqz44sIg8jrdWvbjRCxi2Bk0iyM3a7ecAV93zB6h1Ei38c0s6+8nrbkopArccGP8vntQe1bFeEh2nJIFOHX/k3/UHb5PtKGpnzbkmnRETMX+9X/QduLZWw/feklW/kH/JnzToJe9Kgu9Hct1UGbH5BPCLo4OOtQnZonW0xnyCcdtKyPQ/sbLiSTYJdSx4sJqWLMnfn6fIqPB3WAgk00J+fCOkomPHqtS67pf0mFmKoItYZUlJu6BihSZ8qve8+/X+LX1MhQXF95AshfUleCtmdn6l6QFXzLg2sgLn1oyVFuZecv7fzsIHzoRlAGp0gwYDOn1S4qabWvB5xUaE+Svw4KmjWtxdnuQbI32dw87D4N95u8qQRJTSQg0wLxOLkxSrPMLEn1UIhNKjAa9VLs3WLaXGrtCIt8bKY2AQP/ZdyRU6zT/E8qP2ltyBE2CCZPgWgEYDoJJO4n92y61ylNaSFXKohJhLjkfvYWm592539sIpmBNLlDo1bExFBfmHJJ0lFEiC/fj8v42OoMC9Mo3whIoWvyHfq6Uacqq55mzFf/EGC+NP/gHjhd6urc6R0hES27VXux7UY8CGKPohplWIZtTrFSaPWslCWy78E22Pw8fvReSUZx/txqLtHrFqg1DY/Eus6Iq1heZdrdcqE0/c971Bz1HW/XNXHsXpUIbI4kHdOfCc6T5zHZzvzQJB0ggMFL6IGPAilU9bj/ASdPk6fNvNtZqPuwEDhMBtBnhCexo6D6VAGIOPvJPPV523Y8R8a9vCqZbswSZKzOT1291BsUbmUWehtbb1fdRX9hiJKXvwr1QX6GjnZMgyMvnwOo2Dr24amr7FqEAbVeJAjRNOceM2EQ1Mna9fInqPJ5mh5X8CzT1aDOv08An0blz0fF5Gq4mS2cwq5glwIOlY5nznE8X4j/UdZ3FJsVIXte1JH0A7iibuPfazStM5O/Vo3KXIpXBeGORV0M9XDXFvsYZUHGvFCUubWzTw248EHE0cpQM2zNg6rjavreq3NHCAWsoZ7wvVy7l5gvtKRmIj1MnvfWEm0yFnGcuOq192350a5WefpfKCcX3Sn+AgHU+qnpstNtddbdVebagJU390lq9ko4aI9rqdaWXYG8tv5O/ZQHSqDRYHC6zfH10l5z++opso7aOSaIczlQ13iAzXvLdEu0V7kwNUZ1c8Y8aq7SeIEe5p902FlNkW8DnwHyueHchbK8vVFJfmr9mz7P8nUSccl1ULaoWMRSI1ls32kvlK0h46h3J25Yd9AzfcJbp9qYF/SEt3H5j69mMdcsNxZcAzT/A89ov3tglTX54y/EwjMfuoDoxPwLJDm5I7q6F9Kp469yNy1zSxz0N4HbRRBj9xFFuogvBspv7DXUNIsGxTINEQfmctb42XImWAODgARNo7dfcTqFKq6aTfivmvunLmzP9f8yLsJvXD3JbcPcDGNriMAcjzeDTNr65t8YB5tsnFDFLa0Uwmd2OvUdkLMX9TsAUYUfooSv47sw5J88j7CpahRjjO3/UhOXjTS39W5YZAel2KTbQd1h7INOw9P23GW7GDAe4agIUFHP48MZr7ubq0efFmmtwYMyk7D0r1oeG/CGOODgb9Ur+JMHxkwzPbtCX2ZnENQuI0RN5SyTIZuoY4XS9Rd/tPe3vNAZGSHM/YYwqs9xkkENx0O+eC2YVW1cwOJ3ckE890nbQeHLKlW15L0P0W2VliyYrfNr0nrIYddoRyGaCtj4OYd2MT7ebApqZOAQIaSHJM4mphhfjNjtnjg6YRyx9qM2FT3xOiYIMqXPFWdzhSgFF8ItocqVV09CmIoO8k6U/oJB7++wSX/YksxfPXHyjSgAGZOj1aKEq9fSvXBqtp2wu8/FxEf5AxapAD06pPGuLVUYLdgEzHR8wqRGYEwiUO9MyYbgswstuLYhwYFpSVKOdzAihZ9LuHtD598EGhINU9xc9xhL+QgTLAstmPIvvm2xyRw/WTUPXkP3ZHu6GyPmj5xFH9/QGpkglKXRVUBgVmLOJx8uZO2AstxQYocZH2JhORlxawj66BAXUEs7K/gPxINIRAFyK3WLuyq9oBTF9wEbnmCot82WjIg7CPNwYK3KrZMrKAz5yFszg4wCVLJVnIL8+OYA0xRDH8cHQjQUiQ2i1mr/be32k/3Xej9sdf3iuGvZHyLFSJvPSqz/wltnxumTJYKZsrWXtx/Rmu39jjV9lFaJttfFn57/No2h/unsJmMHbrnZ8csxkp5HQ4xR1s0HH+t3Iz82a3iQWTUDGq/+l2W3TUYLE8zNdL8Y+5oXaIH/Y2UUcX67cXeN4WvENZjz4+8q7vjhowOI3rSjFhGZ6KzwmU7+5nFV+kGWAZ5z2UWvzq0TK0pk1hPwAN4jbw//1CApRvIaIjhSGhioY6TUmsToek9cF9XjJdHvLPcyyCV3lbR5Jiz/ts46ay2F820VjTXvllElwrGzKcNSyvQlWDXdwrUINXmHorAM3fE19ngLZmgeUaCJLsSITf2VcfAOuWwX7mTPdP8Zb/04KqRniufCpwnDUk7sP0RX6cud/sanFMagnzKInSRVey0YzlVSOtA/AjrofmSH6RYbJQ8b4NDeTkIGc6247+Mnbez/qhJ9GAv9fGNFercPnnrf285Qgs+UqThLRgflcAKFuqWhLzZaR4QqvSwa3xe0LPkqj9xJWub195r7NrrR0e78FR+0mRBNMPsraqZctAUVAJfYKehTDV1MGGQSeDsOK9J3sbUuKRIS/WilX/64CBms9jCZocBlsBSZaIAjWm/SUZ8daWL2a/cJFyUOFqE3Epc2RWbtjNyPwOGpWtzu32kUooUqsJud7IV4E8rstUBXM7tGEtBx99x60g1duhyvxeKJSl8s5E34HTMmADT0836aEdg5Dv9rVyCz8i2REOmiz6wtIVFN0HsjAoN37SrY0bV1Ms8CRUILhvZvvRaDzoVCaSI0u8EPuTe4b7OPowgRGODl22UBBmHSTUY8e4DyL+Bc7bngo+2T8HtNvzyATSL5iJZgFPKpmUyZv54vVL90+/RQGATUmNKnrIvcJMYON9fl83naW5sf6hRkbbTC9RUEE6XADwjgA46wWfUQ+QWZl0J4PVTWAln/YfAz/SV3q3J9+yCYDleruoN5uoc/wT2f4YONGTb6zTGq3V+3JqzmCOjwebKln+fExVLN7sqtqfMnsKVXWbb2Ai5m3D/fCTgX7oKYzTZvj+m28XnDqPbXuP4MyWdmPezcesdrh7rCzA7BWdObiuyDEKjjzBbQ0qnuwjliz+b+j7aPMKlkXyIznV3tGzAfYwIbzGGt098oh4eq3ruDjdgHtjxfFCjHrjjRbHajoz/YOY4raojPFQ910GIlBV7hq47UDgpyajBxQUmD8NctiLV1rTSLAEsQDLTeRKcmPBMVMFF0SPBBhZ5oXoxtD3lMhuAQXmA+57OcciczVW9e9zwSIAHS+FJmvfXMJGF1dMBsIUMaPjvgaVqUc3p32qVCMQYFEiRLzlVSOGMCmv/HJIxAHe3mL/XnoZ1IkWLeRZfgyByjnDbbeRK5KL7bYHSVJZ9UFq+yCiNKeRUaYjgbC3hVUvfJAhy/QNl/JqLKVvGMk9ZcfyGidNeo/VTxK9vUpodzfQI9Z2eAre4nmrkzgxKSnT5IJ1D69oHuUS5hp7pK9IAWuNrAOtOH0mAuwCrY8mXAtVXUeaNK3OXr6PRvmWg4VQqFSy+a1GZfFYgdsJELG8N0kvqmzvwZ02Plf5fH9QTy6br0oY/IDsEA+GBf9pEVWCIuBCjsup3LDSDqI+5+0IKSUFr7A96A2f0FbcU9fqljdqvsd8sG55KcKloHIFZem2Wb6pCLXybnVSB0sjCXzdS8IKvE"),zi=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),ji=4;function Hi(e){return"{".concat(function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e),"}")}function Gi(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.codePointAt(n);n+=i<65536?1:2,t.push(i)}return t}function Wi(e){var t=e.length;if(t<4096)return String.fromCodePoint.apply(String,(0,C.Z)(e));for(var n=[],r=0;r<t;)n.push(String.fromCodePoint.apply(String,(0,C.Z)(e.slice(r,r+=4096))));return n.join("")}var Vi=Pi("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");function qi(e){return e>>24&255}function Xi(e){return 16777215&e}var Yi,Qi=new Map(Zi(Vi).flatMap((function(e,t){return e.map((function(e){return[e,t+1<<24]}))}))),Ki=new Set(Li(Vi)),Ji=new Map,$i=new Map,ea=(0,F.Z)(Oi(Vi));try{for(ea.s();!(Yi=ea.n()).done;){var ta=(0,N.Z)(Yi.value,2),na=ta[0],ra=ta[1];if(!Ki.has(na)&&2==ra.length){var ia=(0,N.Z)(ra,2),aa=ia[0],oa=ia[1],sa=$i.get(aa);sa||(sa=new Map,$i.set(aa,sa)),sa.set(oa,na)}Ji.set(na,ra.reverse())}}catch(vk){ea.e(vk)}finally{ea.f()}var ua=44032,la=4352,ca=4449,fa=4519,da=28,ha=21*da,pa=ua+19*ha,va=la+19,ma=ca+21,ga=fa+da;function ya(e){return e>=ua&&e<pa}function ba(e,t){if(e>=la&&e<va&&t>=ca&&t<ma)return ua+(e-la)*ha+(t-ca)*da;if(ya(e)&&t>fa&&t<ga&&(e-ua)%da==0)return e+(t-fa);var n=$i.get(e);return n&&(n=n.get(t))?n:-1}function wa(e){var t=[],n=[],r=!1;function i(e){var n=Qi.get(e);n&&(r=!0,e|=n),t.push(e)}var a,o=(0,F.Z)(e);try{for(o.s();!(a=o.n()).done;)for(var s=a.value;;){if(s<128)t.push(s);else if(ya(s)){var u=s-ua,l=u%ha/da|0,c=u%da;i(la+(u/ha|0)),i(ca+l),c>0&&i(fa+c)}else{var f=Ji.get(s);f?n.push.apply(n,(0,C.Z)(f)):i(s)}if(!n.length)break;s=n.pop()}}catch(vk){o.e(vk)}finally{o.f()}if(r&&t.length>1)for(var d=qi(t[0]),h=1;h<t.length;h++){var p=qi(t[h]);if(0==p||d<=p)d=p;else{for(var v=h-1;;){var m=t[v+1];if(t[v+1]=t[v],t[v]=m,!v)break;if((d=qi(t[--v]))<=p)break}d=qi(t[h])}}return t}function xa(e){return wa(e).map(Xi)}function _a(e){return function(e){var t,n=[],r=[],i=-1,a=0,o=(0,F.Z)(e);try{for(o.s();!(t=o.n()).done;){var s=t.value,u=qi(s),l=Xi(s);if(-1==i)0==u?i=l:n.push(l);else if(a>0&&a>=u)0==u?(n.push.apply(n,[i].concat(r)),r.length=0,i=l):r.push(l),a=u;else{var c=ba(i,l);c>=0?i=c:0==a&&0==u?(n.push(i),i=l):(r.push(l),a=u)}}}catch(vk){o.e(vk)}finally{o.f()}return i>=0&&n.push.apply(n,[i].concat(r)),n}(wa(e))}var Sa=65039,Ea=".",Ma=1,Aa=45;function ka(){return new Set(Li(Fi))}var Ta=new Map(Oi(Fi)),Ca=ka(),Pa=ka(),Ra=new Set(Li(Fi).map((function(e){return this[e]}),(0,C.Z)(Pa))),Ia=ka(),La=(ka(),Zi(Fi));function Za(){return new Set([Li(Fi).map((function(e){return La[e]})),Li(Fi)].flat(2))}var Oa=Fi(),Na=Ni((function(e){var t=Ni(Fi).map((function(e){return e+96}));if(t.length){var n=e>=Oa;t[0]-=32,t=Wi(t),n&&(t="Restricted[".concat(t,"]"));var r=Za(),i=Za(),a=[].concat((0,C.Z)(r),(0,C.Z)(i)).sort((function(e,t){return e-t}));return{N:t,P:r,M:!Fi(),R:n,V:new Set(a)}}})),Ua=ka(),Da=new Map;[].concat((0,C.Z)(Ua),(0,C.Z)(ka())).sort((function(e,t){return e-t})).map((function(e,t,n){var r=Fi(),i=n[t]=r?n[t-r]:{V:[],M:new Map};i.V.push(e),Ua.has(e)||Da.set(e,i)}));var Ba,Fa=(0,F.Z)(new Set(Da.values()));try{for(Fa.s();!(Ba=Fa.n()).done;){var za,ja=Ba.value,Ha=ja.V,Ga=ja.M,Wa=[],Va=(0,F.Z)(Ha);try{var qa=function(){var e=za.value,t=Na.filter((function(t){return t.V.has(e)})),n=Wa.find((function(e){var n=e.G;return t.some((function(e){return n.has(e)}))}));n||(n={G:new Set,V:[]},Wa.push(n)),n.V.push(e),t.forEach((function(e){return n.G.add(e)}))};for(Va.s();!(za=Va.n()).done;)qa()}catch(vk){Va.e(vk)}finally{Va.f()}for(var Xa=Wa.flatMap((function(e){var t=e.G;return(0,C.Z)(t)})),Ya=function(){var e,t=Ka[Qa],n=t.G,r=t.V,i=new Set(Xa.filter((function(e){return!n.has(e)}))),a=(0,F.Z)(r);try{for(a.s();!(e=a.n()).done;){var o=e.value;Ga.set(o,i)}}catch(vk){a.e(vk)}finally{a.f()}},Qa=0,Ka=Wa;Qa<Ka.length;Qa++)Ya()}}catch(vk){Fa.e(vk)}finally{Fa.f()}var Ja,$a=new Set,eo=new Set,to=(0,F.Z)(Na);try{for(to.s();!(Ja=to.n()).done;){var no,ro=Ja.value,io=(0,F.Z)(ro.V);try{for(io.s();!(no=io.n()).done;){var ao=no.value;($a.has(ao)?eo:$a).add(ao)}}catch(vk){io.e(vk)}finally{io.f()}}}catch(vk){to.e(vk)}finally{to.f()}var oo,so=(0,F.Z)($a);try{for(so.s();!(oo=so.n()).done;){var uo=oo.value;Da.has(uo)||eo.has(uo)||Da.set(uo,Ma)}}catch(vk){so.e(vk)}finally{so.f()}var lo=new Set([].concat((0,C.Z)($a),(0,C.Z)(xa($a)))),co=Li(Fi),fo=function e(t){var n=Ni((function(){var t=Li(Fi).map((function(e){return co[e]}));if(t.length)return e(t)})).sort((function(e,t){return t.Q.size-e.Q.size})),r=Fi(),i=r%3,a=1&(r=r/3|0),o=1&(r>>=1);return{B:n,V:i,F:a,S:o,C:2&r,Q:new Set(t)}}([]);var ho=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,L.Z)(n,[{key:"is_emoji",get:function(){return!0}}]),n}((0,B.Z)(Array));function po(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hi,n=[];(function(e){return Pa.has(e)})(e[0])&&n.push("\u25cc");for(var r=0,i=e.length,a=0;a<i;a++){var o=e[a];yo(o)&&(n.push(Wi(e.slice(r,a))),n.push(t(o)),r=a+1)}return n.push(Wi(e.slice(r,i))),n.join("")}function vo(e){return(yo(e)?"":"".concat(mo(po([e]))," "))+Hi(e)}function mo(e){return'"'.concat(e,'"\u200e')}function go(e){for(var t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}function yo(e){return Ia.has(e)}function bo(e,t){var n=0;return e.split(Ea).map((function(e){var r,i=Gi(e),a={input:i,offset:n};n+=i.length+1;try{var o,s=a.tokens=Eo(i,_a),u=s.length;if(!u)throw new Error("empty label");var l=s[0],c=u>1||l.is_emoji;if(!c&&l.every((function(e){return e<128})))go(r=l),function(e){if(e.length>=4&&e[2]==Aa&&e[3]==Aa)throw new Error("invalid label extension")}(r),o="ASCII";else if(c&&(a.emoji=!0,l=s.flatMap((function(e){return e.is_emoji?[]:e}))),r=s.flatMap((function(e){return!t&&e.is_emoji?Mo(e):e})),go(r),l.length){if(Pa.has(r[0]))throw So("leading combining mark");for(var f=1;f<u;f++){var d=s[f];if(!d.is_emoji&&Pa.has(d[0]))throw So('emoji + combining mark: "'.concat(Wi(s[f-1])," + ").concat(po([d[0]]),'"'))}!function(e){var t=e[0],n=zi.get(t);if(n)throw So("leading ".concat(n));for(var r=e.length,i=-1,a=1;a<r;a++){t=e[a];var o=zi.get(t);if(o){if(i==a)throw So("".concat(n," + ").concat(o));i=a+1,n=o}}if(i==r)throw So("trailing ".concat(n))}(r);var h=(0,C.Z)(new Set(l)),p=function(e){var t,n=Na,r=(0,F.Z)(e);try{var i=function(){var e=t.value,r=n.filter((function(t){return t.V.has(e)}));if(!r.length)throw n===Na?xo(e):_o(n[0],e);if(n=r,1==r.length)return"break"};for(r.s();!(t=r.n()).done;){if("break"===i())break}}catch(vk){r.e(vk)}finally{r.f()}return n}(h),v=(0,N.Z)(p,1)[0];!function(e,t){var n,r=e.V,i=e.M,a=(0,F.Z)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(!r.has(o))throw _o(e,o)}}catch(vk){a.e(vk)}finally{a.f()}if(i)for(var s=xa(t),u=1,l=s.length;u<l;u++)if(Ra.has(s[u])){for(var c,f=u+1;f<l&&Ra.has(c=s[f]);f++)for(var d=u;d<f;d++)if(s[d]==c)throw new Error("non-spacing marks: repeated ".concat(vo(c)));if(f-u>ji)throw new Error("non-spacing marks: too many ".concat(mo(po(s.slice(u-1,f)))," (").concat(f-u,"/").concat(ji,")"));u=f}}(v,l),function(e,t){var n,r,i=[],a=(0,F.Z)(t);try{var o=function(){var e=r.value,t=Da.get(e);if(t===Ma)return{v:void 0};if(t){var a=t.M.get(e);if(n=n?n.filter((function(e){return a.has(e)})):(0,C.Z)(a),!n.length)return{v:void 0}}else i.push(e)};for(a.s();!(r=a.n()).done;){var s=o();if("object"===typeof s)return s.v}}catch(vk){a.e(vk)}finally{a.f()}if(n){var u,l=(0,F.Z)(n);try{var c=function(){var t=u.value;if(i.every((function(e){return t.V.has(e)})))throw new Error("whole-script confusable: ".concat(e.N,"/").concat(t.N))};for(l.s();!(u=l.n()).done;)c()}catch(vk){l.e(vk)}finally{l.f()}}}(v,h),o=v.N}else o="Emoji";a.type=o}catch(vk){a.error=vk}return a.output=r,a}))}function wo(e){return e.map((function(t){var n=t.input,r=t.error,i=t.output;if(r){var a=r.message;throw new Error(1==e.length?a:"Invalid label ".concat(mo(po(n)),": ").concat(a))}return Wi(i)})).join(Ea)}function xo(e){return new Error("disallowed character: ".concat(vo(e)))}function _o(e,t){var n=vo(t),r=Na.find((function(e){return e.P.has(t)}));return r&&(n="".concat(r.N," ").concat(n)),new Error("illegal mixture: ".concat(e.N," + ").concat(n))}function So(e){return new Error("illegal placement: ".concat(e))}function Eo(e,t){var n=[],r=[];for(e=e.slice().reverse();e.length;){var i=Ao(e);if(i)r.length&&(n.push(t(r)),r=[]),n.push(i);else{var a=e.pop();if(lo.has(a))r.push(a);else{var o,s=Ta.get(a);if(s)(o=r).push.apply(o,(0,C.Z)(s));else if(!Ca.has(a))throw xo(a)}}}return r.length&&n.push(t(r)),n}function Mo(e){return e.filter((function(e){return e!=Sa}))}function Ao(e,t){var n,r,i=fo,a=[],o=e.length;t&&(t.length=0);for(var s=function(){var s=e[--o];if(i=i.B.find((function(e){return e.Q.has(s)})),!i)return"break";if(i.S)r=s;else if(i.C&&s===r)return"break";a.push(s),i.F&&(a.push(Sa),o>0&&e[o-1]==Sa&&o--),i.V&&(n=ko(a,i),t&&t.push.apply(t,(0,C.Z)(e.slice(o).reverse())),e.length=o)};o;){if("break"===s())break}return n}function ko(e,t){var n=ho.from(e);return 2==t.V&&n.splice(1,1),n}function To(e){return function(e){return wo(bo(e))}(e)}var Co=["chainId","contracts","blockNumber","blockTag"],Po=["contracts","blockNumber","blockTag"],Ro=["symbol"];var Io=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r,i=e.chainId,a=e.connectorId;return(0,I.Z)(this,n),(r=t.call(this,'Chain "'.concat(i,'" not configured').concat(a?' for connector "'.concat(a,'"'):"","."))).name="ChainNotConfigured",r}return(0,L.Z)(n)}((0,B.Z)(Error)),Lo=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.apply(this,arguments)).name="ConnectorAlreadyConnectedError",e.message="Connector already connected",e}return(0,L.Z)(n)}((0,B.Z)(Error)),Zo=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.apply(this,arguments)).name="ConfigChainsNotFound",e.message="No chains were found on the wagmi config. Some functions that require a chain may not work.",e}return(0,L.Z)(n)}((0,B.Z)(Error)),Oo=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r,i=e.connector;return(0,I.Z)(this,n),(r=t.call(this,'"'.concat(i.name,'" does not support programmatic chain switching.'))).name="SwitchChainNotSupportedError",r}return(0,L.Z)(n)}((0,B.Z)(Error));function No(e,t){if(e===t)return!0;if(e&&t&&"object"===typeof e&&"object"===typeof t){if(e.constructor!==t.constructor)return!1;var n,r;if(Array.isArray(e)&&Array.isArray(t)){if((n=e.length)!=t.length)return!1;for(r=n;0!==r--;)if(!No(e[r],t[r]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var i=Object.keys(e);if((n=i.length)!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){var a=i[r];if(a&&!No(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}var Uo=function e(t,n){var r=n.find,i=n.replace;return t&&r(t)?i(t):"object"!==typeof t?t:Array.isArray(t)?t.map((function(t){return e(t,{find:r,replace:i})})):t instanceof Object?Object.entries(t).reduce((function(t,n){var a=(0,N.Z)(n,2),o=a[0],s=a[1];return(0,O.Z)((0,O.Z)({},t),{},(0,l.Z)({},o,e(s,{find:r,replace:i})))}),{}):t};function Do(e){var t=JSON.parse(e);return Uo(t,{find:function(e){return"string"===typeof e&&e.startsWith("#bigint.")},replace:function(e){return BigInt(e.replace("#bigint.",""))}})}function Bo(e){return"number"===typeof e?e:"wei"===e?0:Math.abs(xi.Bd[e])}function Fo(e,t){return e.slice(0,t).join(".")||"."}function zo(e,t){for(var n=e.length,r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function jo(e,t,n,r){return JSON.stringify(e,function(e,t){var n="function"===typeof e,r="function"===typeof t,i=[],a=[];return function(o,s){if("object"===typeof s)if(i.length){var u=zo(i,this);0===u?i[i.length]=this:(i.splice(u),a.splice(u)),a[a.length]=o;var l=zo(i,s);if(0!==l)return r?t.call(this,o,s,Fo(a,l)):"[ref=".concat(Fo(a,l),"]")}else i[0]=s,a[0]=o;return n?e.call(this,o,s):s}}((function(e,n){var r="bigint"===typeof n?"#bigint.".concat(n.toString()):n;return(null===t||void 0===t?void 0:t(e,r))||r}),r),null!==n&&void 0!==n?n:void 0)}var Ho={getItem:function(e){return""},setItem:function(e,t){return null},removeItem:function(e){return null}};function Go(e){var t=e.deserialize,n=void 0===t?Do:t,r=e.key,i=void 0===r?"wagmi":r,a=e.serialize,o=void 0===a?jo:a,s=e.storage;return(0,O.Z)((0,O.Z)({},s),{},{getItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=s.getItem("".concat(i,".").concat(e));try{return r?n(r):t}catch(a){return console.warn(a),t}},setItem:function(e,t){if(null===t)s.removeItem("".concat(i,".").concat(e));else try{s.setItem("".concat(i,".").concat(e),o(t))}catch(vk){console.error(vk)}},removeItem:function(e){return s.removeItem("".concat(i,".").concat(e))}})}var Wo,Vo,qo,Xo,Yo,Qo="store",Ko=function(){function e(t){var n=this,r=t.autoConnect,i=void 0!==r&&r,a=t.connectors,o=void 0===a?[new Bt]:a,s=t.publicClient,u=t.storage,l=void 0===u?Go({storage:"undefined"!==typeof window?window.localStorage:Ho}):u,c=t.logger,f=void 0===c?{warn:console.warn}:c,d=t.webSocketPublicClient;(0,I.Z)(this,e),jt(this,qo),this.publicClients=new Map,this.webSocketPublicClients=new Map,jt(this,Wo,void 0),jt(this,Vo,void 0),this.args={autoConnect:i,connectors:o,logger:f,publicClient:s,storage:l,webSocketPublicClient:d};var h,p="disconnected";if(i)try{var v,m,g=l.getItem(Qo),y=null===g||void 0===g||null===(v=g.state)||void 0===v?void 0:v.data;p=null!==y&&void 0!==y&&y.account?"reconnecting":"connecting",h=null===y||void 0===y||null===(m=y.chain)||void 0===m?void 0:m.id}catch(S){}var b,w,x,_="function"===typeof o?o():o;_.forEach((function(e){return e.setStorage(l)})),this.store=ki(_i(Mi((function(){return{connectors:_,publicClient:n.getPublicClient({chainId:h}),status:p,webSocketPublicClient:n.getWebSocketPublicClient({chainId:h})}}),{name:Qo,storage:l,partialize:function(e){var t,n;return(0,O.Z)((0,O.Z)({},i&&{data:{account:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.account,chain:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.chain}}),{},{chains:null===e||void 0===e?void 0:e.chains})},version:2}))),this.storage=l,Ht(this,Vo,null===l||void 0===l?void 0:l.getItem("wallet")),(b=this,w=qo,x=Xo,Ft(b,w,"access private method"),x).call(this),i&&"undefined"!==typeof window&&setTimeout((0,R.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.autoConnect();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),0)}return(0,L.Z)(e,[{key:"chains",get:function(){return this.store.getState().chains}},{key:"connectors",get:function(){return this.store.getState().connectors}},{key:"connector",get:function(){return this.store.getState().connector}},{key:"data",get:function(){return this.store.getState().data}},{key:"error",get:function(){return this.store.getState().error}},{key:"lastUsedChainId",get:function(){var e;return null===(e=this.data)||void 0===e||null===(e=e.chain)||void 0===e?void 0:e.id}},{key:"publicClient",get:function(){return this.store.getState().publicClient}},{key:"status",get:function(){return this.store.getState().status}},{key:"subscribe",get:function(){return this.store.subscribe}},{key:"webSocketPublicClient",get:function(){return this.store.getState().webSocketPublicClient}},{key:"setState",value:function(e){var t="function"===typeof e?e(this.store.getState()):e;this.store.setState(t,!0)}},{key:"clearState",value:function(){this.setState((function(e){return(0,O.Z)((0,O.Z)({},e),{},{chains:void 0,connector:void 0,data:void 0,error:void 0,status:"disconnected"})}))}},{key:"destroy",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,n;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connector){e.next=3;break}return e.next=3,null===(t=(n=this.connector).disconnect)||void 0===t?void 0:t.call(n);case 3:Ht(this,Wo,!1),this.clearState(),this.store.destroy();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"autoConnect",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,n,r,i,a,o,s=this;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!zt(this,Wo)){e.next=2;break}return e.abrupt("return");case 2:Ht(this,Wo,!0),this.setState((function(e){var t;return(0,O.Z)((0,O.Z)({},e),{},{status:null!==(t=e.data)&&void 0!==t&&t.account?"reconnecting":"connecting"})})),t=zt(this,Vo)?(0,C.Z)(this.connectors).sort((function(e){return e.id===zt(s,Vo)?-1:1})):this.connectors,n=!1,r=(0,F.Z)(t),e.prev=7,a=(0,P.Z)().mark((function e(){var t,r;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=i.value).ready&&t.isAuthorized){e.next=3;break}return e.abrupt("return","continue");case 3:return e.next=5,t.isAuthorized();case 5:if(e.sent){e.next=8;break}return e.abrupt("return","continue");case 8:return e.next=10,t.connect();case 10:return r=e.sent,s.setState((function(e){return(0,O.Z)((0,O.Z)({},e),{},{connector:t,chains:null===t||void 0===t?void 0:t.chains,data:r,status:"connected"})})),n=!0,e.abrupt("return","break");case 14:case"end":return e.stop()}}),e)})),r.s();case 10:if((i=r.n()).done){e.next=19;break}return e.delegateYield(a(),"t0",12);case 12:if("continue"!==(o=e.t0)){e.next=15;break}return e.abrupt("continue",17);case 15:if("break"!==o){e.next=17;break}return e.abrupt("break",19);case 17:e.next=10;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(7),r.e(e.t1);case 24:return e.prev=24,r.f(),e.finish(24);case 27:return n||this.setState((function(e){return(0,O.Z)((0,O.Z)({},e),{},{data:void 0,status:"disconnected"})})),Ht(this,Wo,!1),e.abrupt("return",this.data);case 30:case"end":return e.stop()}}),e,this,[[7,21,24,27]])})));return function(){return e.apply(this,arguments)}}()},{key:"setConnectors",value:function(e){var t=this;this.args=(0,O.Z)((0,O.Z)({},this.args),{},{connectors:e});var n="function"===typeof e?e():e;n.forEach((function(e){return e.setStorage(t.args.storage)})),this.setState((function(e){return(0,O.Z)((0,O.Z)({},e),{},{connectors:n})}))}},{key:"getPublicClient",value:function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).chainId,n=this.publicClients.get(-1);if(n&&(null===(e=n)||void 0===e?void 0:e.chain.id)===t)return n;if(n=this.publicClients.get(null!==t&&void 0!==t?t:-1))return n;var r=this.args.publicClient;return n="function"===typeof r?r({chainId:t}):r,this.publicClients.set(null!==t&&void 0!==t?t:-1,n),n}},{key:"setPublicClient",value:function(e){var t,n=this,r=null===(t=this.data)||void 0===t||null===(t=t.chain)||void 0===t?void 0:t.id;this.args=(0,O.Z)((0,O.Z)({},this.args),{},{publicClient:e}),this.publicClients.clear(),this.setState((function(e){return(0,O.Z)((0,O.Z)({},e),{},{publicClient:n.getPublicClient({chainId:r})})}))}},{key:"getWebSocketPublicClient",value:function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).chainId,n=this.webSocketPublicClients.get(-1);if(n&&(null===(e=n)||void 0===e?void 0:e.chain.id)===t)return n;if(n=this.webSocketPublicClients.get(null!==t&&void 0!==t?t:-1))return n;var r=this.args.webSocketPublicClient;return(n="function"===typeof r?r({chainId:t}):r)&&this.webSocketPublicClients.set(null!==t&&void 0!==t?t:-1,n),n}},{key:"setWebSocketPublicClient",value:function(e){var t,n=this,r=null===(t=this.data)||void 0===t||null===(t=t.chain)||void 0===t?void 0:t.id;this.args=(0,O.Z)((0,O.Z)({},this.args),{},{webSocketPublicClient:e}),this.webSocketPublicClients.clear(),this.setState((function(e){return(0,O.Z)((0,O.Z)({},e),{},{webSocketPublicClient:n.getWebSocketPublicClient({chainId:r})})}))}},{key:"setLastUsedConnector",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===(e=this.storage)||void 0===e||e.setItem("wallet",t)}}]),e}();function Jo(e){var t=new Ko(e);return Yo=t,t}function $o(){if(!Yo)throw new Error("No wagmi config found. Ensure you have set up a config: https://wagmi.sh/react/config");return Yo}function es(e){return ts.apply(this,arguments)}function ts(){return ts=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a,o;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.chainId,r=t.connector,i=$o(),!(a=i.connector)||r.id!==a.id){e.next=5;break}throw new Lo;case 5:return e.prev=5,i.setState((function(e){return(0,O.Z)((0,O.Z)({},e),{},{status:"connecting"})})),e.next=9,r.connect({chainId:n});case 9:return o=e.sent,i.setLastUsedConnector(r.id),i.setState((function(e){return(0,O.Z)((0,O.Z)({},e),{},{connector:r,chains:null===r||void 0===r?void 0:r.chains,data:o,status:"connected"})})),i.storage.setItem("connected",!0),e.abrupt("return",(0,O.Z)((0,O.Z)({},o),{},{connector:r}));case 16:throw e.prev=16,e.t0=e.catch(5),i.setState((function(e){return(0,O.Z)((0,O.Z)({},e),{},{status:e.connector?"connected":"disconnected"})})),e.t0;case 20:case"end":return e.stop()}}),e,null,[[5,16]])}))),ts.apply(this,arguments)}function ns(){return rs.apply(this,arguments)}function rs(){return(rs=(0,R.Z)((0,P.Z)().mark((function e(){var t;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=$o()).connector){e.next=4;break}return e.next=4,t.connector.disconnect();case 4:t.clearState(),t.storage.removeItem("connected");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Wo=new WeakMap,Vo=new WeakMap,qo=new WeakSet,Xo=function(){var e=this,t=function(t){e.setState((function(e){return(0,O.Z)((0,O.Z)({},e),{},{data:(0,O.Z)((0,O.Z)({},e.data),t)})}))},n=function(){e.clearState()},r=function(t){e.setState((function(e){return(0,O.Z)((0,O.Z)({},e),{},{error:t})}))};this.store.subscribe((function(e){return e.connector}),(function(e,i){var a,o,s,u,l,c;null===i||void 0===i||null===(a=i.off)||void 0===a||a.call(i,"change",t),null===i||void 0===i||null===(o=i.off)||void 0===o||o.call(i,"disconnect",n),null===i||void 0===i||null===(s=i.off)||void 0===s||s.call(i,"error",r),e&&(null===(u=e.on)||void 0===u||u.call(e,"change",t),null===(l=e.on)||void 0===l||l.call(e,"disconnect",n),null===(c=e.on)||void 0===c||c.call(e,"error",r))}));var i=this.args,a=i.publicClient,o=i.webSocketPublicClient;("function"===typeof a||"function"===typeof o)&&this.store.subscribe((function(e){var t,n=e.data;return null===n||void 0===n||null===(t=n.chain)||void 0===t?void 0:t.id}),(function(t){e.setState((function(n){return(0,O.Z)((0,O.Z)({},n),{},{publicClient:e.getPublicClient({chainId:t}),webSocketPublicClient:e.getWebSocketPublicClient({chainId:t})})}))}))};var is=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],as=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];function os(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).chainId,t=$o();return e&&t.getPublicClient({chainId:e})||t.publicClient}function ss(e){return us.apply(this,arguments)}function us(){return us=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a,o,s,u;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.chainId,i=t.contracts,a=t.blockNumber,o=t.blockTag,s=(0,Z.Z)(t,Co),(u=os({chainId:r})).chains){e.next=4;break}throw new Zo;case 4:if(!r||u.chain.id===r){e.next=6;break}throw new Io({chainId:r});case 6:return e.abrupt("return",u.multicall({allowFailure:null===(n=s.allowFailure)||void 0===n||n,blockNumber:a,blockTag:o,contracts:i}));case 7:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function ls(e){return cs.apply(this,arguments)}function cs(){return cs=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a,o,s,u,l,c;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,r=t.account,i=t.chainId,a=t.abi,o=t.args,s=t.functionName,u=t.blockNumber,l=t.blockTag,c=os({chainId:i}),e.abrupt("return",c.readContract({abi:a,address:n,account:r,functionName:s,args:o,blockNumber:u,blockTag:l}));case 3:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function fs(e){return ds.apply(this,arguments)}function ds(){return ds=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a,o,s,u,c,f,d,h,p;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contracts,r=t.blockNumber,i=t.blockTag,a=(0,Z.Z)(t,Po),o=a.allowFailure,s=void 0===o||o,e.prev=2,u=os(),c=n.reduce((function(e,t,n){var r,i=null!==(r=t.chainId)&&void 0!==r?r:u.chain.id;return(0,O.Z)((0,O.Z)({},e),{},(0,l.Z)({},i,[].concat((0,C.Z)(e[i]||[]),[{contract:t,index:n}])))}),{}),f=function(){return Object.entries(c).map((function(e){var t=(0,N.Z)(e,2),n=t[0],a=t[1];return ss({allowFailure:s,chainId:parseInt(n),contracts:a.map((function(e){return e.contract})),blockNumber:r,blockTag:i})}))},e.next=8,Promise.all(f());case 8:return d=e.sent.flat(),h=Object.values(c).flatMap((function(e){return e.map((function(e){return e.index}))})),e.abrupt("return",d.reduce((function(e,t,n){return e&&(e[h[n]]=t),e}),[]));case 13:if(e.prev=13,e.t0=e.catch(2),!(e.t0 instanceof Wt.uq)){e.next=17;break}throw e.t0;case 17:if(p=function(){return n.map((function(e){return ls((0,O.Z)((0,O.Z)({},e),{},{blockNumber:r,blockTag:i}))}))},!s){e.next=22;break}return e.next=21,Promise.allSettled(p());case 21:return e.abrupt("return",e.sent.map((function(e){return"fulfilled"===e.status?{result:e.value,status:"success"}:{error:e.reason,result:void 0,status:"failure"}})));case 22:return e.next=24,Promise.all(p());case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}}),e,null,[[2,13]])}))),ds.apply(this,arguments)}function hs(e){return ps.apply(this,arguments)}function ps(){return ps=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a,o,s,u,l,c,f,d,h,p,v,m,g;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.address,o=t.chainId,s=t.formatUnits,u=t.token,l=$o(),c=os({chainId:o}),!u){e.next=21;break}return f=function(){var e=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,l,c,f,d;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.abi,r={abi:n,address:u,chainId:o},e.next=4,fs({allowFailure:!1,contracts:[(0,O.Z)((0,O.Z)({},r),{},{functionName:"balanceOf",args:[a]}),(0,O.Z)((0,O.Z)({},r),{},{functionName:"decimals"}),(0,O.Z)((0,O.Z)({},r),{},{functionName:"symbol"})]});case 4:return i=e.sent,l=(0,N.Z)(i,3),c=l[0],f=l[1],d=l[2],e.abrupt("return",{decimals:f,formatted:(0,Ti.b)(null!==c&&void 0!==c?c:"0",Bo(null!==s&&void 0!==s?s:f)),symbol:d,value:c});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=5,e.next=8,f({abi:is});case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(5),!(e.t0 instanceof Wt.uq)){e.next=20;break}return e.next=16,f({abi:as});case 16:return d=e.sent,h=d.symbol,p=(0,Z.Z)(d,Ro),e.abrupt("return",(0,O.Z)({symbol:(0,V.rR)((0,ae.f)(h,{dir:"right"}))},p));case 20:throw e.t0;case 21:return v=[].concat((0,C.Z)(l.publicClient.chains||[]),(0,C.Z)(null!==(n=l.chains)&&void 0!==n?n:[])),e.next=24,c.getBalance({address:a});case 24:return m=e.sent,g=v.find((function(e){return e.id===c.chain.id})),e.abrupt("return",{decimals:null!==(r=null===g||void 0===g?void 0:g.nativeCurrency.decimals)&&void 0!==r?r:18,formatted:(0,Ti.b)(null!==m&&void 0!==m?m:"0",Bo(null!==s&&void 0!==s?s:18)),symbol:null!==(i=null===g||void 0===g?void 0:g.nativeCurrency.symbol)&&void 0!==i?i:"ETH",value:m});case 27:case"end":return e.stop()}}),e,null,[[5,11]])}))),ps.apply(this,arguments)}function vs(){var e=$o(),t=e.data,n=e.connector,r=e.status;switch(r){case"connected":return{address:null===t||void 0===t?void 0:t.account,connector:n,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:r};case"reconnecting":return{address:null===t||void 0===t?void 0:t.account,connector:n,isConnected:!(null===t||void 0===t||!t.account),isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:r};case"connecting":return{address:null===t||void 0===t?void 0:t.account,connector:n,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:r};case"disconnected":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:r}}}function ms(){var e,t,n,r,i,a=$o(),o=null===(e=a.data)||void 0===e||null===(e=e.chain)||void 0===e?void 0:e.id,s=null!==(t=a.chains)&&void 0!==t?t:[],u=null!==(n=[].concat((0,C.Z)((null===(r=a.publicClient)||void 0===r?void 0:r.chains)||[]),(0,C.Z)(s)).find((function(e){return e.id===o})))&&void 0!==n?n:{id:o,name:"Chain ".concat(o),network:"".concat(o),nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}};return{chain:o?(0,O.Z)((0,O.Z)((0,O.Z)({},u),null===(i=a.data)||void 0===i?void 0:i.chain),{},{id:o}):void 0,chains:s}}function gs(e){return ys.apply(this,arguments)}function ys(){return(ys=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.chainId,r=$o(),i=r.connector){e.next=4;break}throw new we;case 4:if(i.switchChain){e.next=6;break}throw new Oo({connector:i});case 6:return e.abrupt("return",i.switchChain(n));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bs(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).selector,n=void 0===t?function(e){return e}:t;return $o().subscribe((function(e){var t=e.data,r=e.connector,i=e.status;return n({address:null===t||void 0===t?void 0:t.account,connector:r,status:i})}),(function(){return e(vs())}),{equalityFn:Ci})}function ws(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).selector,n=void 0===t?function(e){return e}:t,r=$o().subscribe((function(e){var t,r=e.data,i=e.chains;return n({chainId:null===r||void 0===r||null===(t=r.chain)||void 0===t?void 0:t.id,chains:i})}),(function(){return e(ms())}),{equalityFn:Ci});return r}function xs(e){return _s.apply(this,arguments)}function _s(){return _s=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.chainId,i=os({chainId:r}),e.next=4,i.getEnsAvatar({name:To(n)});case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}function Ss(e){return Es.apply(this,arguments)}function Es(){return Es=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,r=t.chainId,i=os({chainId:r}),e.abrupt("return",i.getEnsName({address:(0,Se.K)(n)}));case 3:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}var Ms,As,ks,Ts,Cs,Ps,Rs,Is,Ls,Zs,Os,Ns,Us,Ds,Bs,Fs,zs,js,Hs,Gs,Ws=n(3739),Vs="eip155",qs="requestedChains",Xs="wallet_addEthereumChain",Ys=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),r=t.call(this,(0,O.Z)((0,O.Z)({},e),{},{options:(0,O.Z)({isNewChainsStale:!0},e.options)})),ve((0,z.Z)(r),ks),ve((0,z.Z)(r),Cs),ve((0,z.Z)(r),Rs),ve((0,z.Z)(r),Ls),ve((0,z.Z)(r),Os),ve((0,z.Z)(r),Us),ve((0,z.Z)(r),Bs),ve((0,z.Z)(r),zs),ve((0,z.Z)(r),Hs),de((0,z.Z)(r),"id","walletConnect"),de((0,z.Z)(r),"name","WalletConnect"),de((0,z.Z)(r),"ready",!0),ve((0,z.Z)(r),Ms,void 0),ve((0,z.Z)(r),As,void 0),de((0,z.Z)(r),"onAccountsChanged",(function(e){0===e.length?r.emit("disconnect"):r.emit("change",{account:(0,Se.K)(e[0])})})),de((0,z.Z)(r),"onChainChanged",(function(e){var t=Number(e),n=r.isChainUnsupported(t);r.emit("change",{chain:{id:t,unsupported:n}})})),de((0,z.Z)(r),"onDisconnect",(function(){ge((0,z.Z)(r),Us,Ds).call((0,z.Z)(r),[]),r.emit("disconnect")})),de((0,z.Z)(r),"onDisplayUri",(function(e){r.emit("message",{type:"display_uri",data:e})})),de((0,z.Z)(r),"onConnect",(function(){r.emit("connect",{})})),ge((0,z.Z)(r),ks,Ts).call((0,z.Z)(r)),r}return(0,L.Z)(n,[{key:"connect",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,n,r,i,a,o,s,u,l,c,f,d,h,p,v,m,g=arguments;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=g.length>0&&void 0!==g[0]?g[0]:{}).chainId,r=t.pairingTopic,e.prev=1,(i=n)||(u=null===(a=this.storage)||void 0===a?void 0:a.getItem("store"),l=null===u||void 0===u||null===(o=u.state)||void 0===o||null===(o=o.data)||void 0===o||null===(o=o.chain)||void 0===o?void 0:o.id,i=l&&!this.isChainUnsupported(l)?l:null===(s=this.chains[0])||void 0===s?void 0:s.id),i){e.next=6;break}throw new Error("No chains found on connector.");case 6:return e.next=8,this.getProvider();case 8:if(c=e.sent,ge(this,Ls,Zs).call(this),f=ge(this,Rs,Is).call(this),!c.session||!f){e.next=14;break}return e.next=14,c.disconnect();case 14:if(c.session&&!f){e.next=20;break}return d=this.chains.filter((function(e){return e.id!==i})).map((function(e){return e.id})),this.emit("message",{type:"connecting"}),e.next=19,c.connect({pairingTopic:r,chains:[i],optionalChains:d.length?d:void 0});case 19:ge(this,Us,Ds).call(this,this.chains.map((function(e){return e.id})));case 20:return e.next=22,c.enable();case 22:return h=e.sent,p=(0,Se.K)(h[0]),e.next=26,this.getChainId();case 26:return v=e.sent,m=this.isChainUnsupported(v),e.abrupt("return",{account:p,chain:{id:v,unsupported:m}});case 31:if(e.prev=31,e.t0=e.catch(1),!/user rejected/i.test(null===e.t0||void 0===e.t0?void 0:e.t0.message)){e.next=35;break}throw new Ee.ab(e.t0);case 35:throw e.t0;case 36:case"end":return e.stop()}}),e,this,[[1,31]])})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProvider();case 2:return t=e.sent,e.prev=3,e.next=6,t.disconnect();case 6:e.next=12;break;case 8:if(e.prev=8,e.t0=e.catch(3),/No matching key/i.test(e.t0.message)){e.next=12;break}throw e.t0;case 12:return e.prev=12,ge(this,Os,Ns).call(this),ge(this,Us,Ds).call(this,[]),e.finish(12);case 16:case"end":return e.stop()}}),e,this,[[3,8,12,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAccount",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,n;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProvider();case 2:return t=e.sent,n=t.accounts,e.abrupt("return",(0,Se.K)(n[0]));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getChainId",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,n;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProvider();case 2:return t=e.sent,n=t.chainId,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProvider",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,n=arguments;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(n.length>0&&void 0!==n[0]?n[0]:{}).chainId,pe(this,Ms)){e.next=4;break}return e.next=4,ge(this,ks,Ts).call(this);case 4:if(!t){e.next=7;break}return e.next=7,this.switchChain(t);case 7:return e.abrupt("return",pe(this,Ms));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWalletClient",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,n,r,i,a,o,s=arguments;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(s.length>0&&void 0!==s[0]?s[0]:{}).chainId,e.next=3,Promise.all([this.getProvider({chainId:t}),this.getAccount()]);case 3:if(n=e.sent,r=(0,N.Z)(n,2),i=r[0],a=r[1],o=this.chains.find((function(e){return e.id===t})),i){e.next=10;break}throw new Error("provider is required.");case 10:return e.abrupt("return",Ct({account:a,chain:o,transport:Dt(i)}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isAuthorized",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,n,r,i,a;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([this.getAccount(),this.getProvider()]);case 3:if(t=e.sent,n=(0,N.Z)(t,2),r=n[0],i=n[1],a=ge(this,Rs,Is).call(this),r){e.next=10;break}return e.abrupt("return",!1);case 10:if(!a||!i.session){e.next=19;break}return e.prev=11,e.next=14,i.disconnect();case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:return e.abrupt("return",!1);case 19:return e.abrupt("return",!0);case 22:return e.prev=22,e.t1=e.catch(0),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,this,[[0,22],[11,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"switchChain",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a,o,s,u;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.chains.find((function(e){return e.id===t}))){e.next=3;break}throw new Ee.x3(new Error("chain not found on connector."));case 3:return e.prev=3,e.next=6,this.getProvider();case 6:if(r=e.sent,i=ge(this,zs,js).call(this),a=ge(this,Hs,Gs).call(this),i.includes(t)||!a.includes(Xs)){e.next=16;break}return e.next=13,r.request({method:Xs,params:[{chainId:(0,q.eC)(n.id),blockExplorerUrls:[null===(o=n.blockExplorers)||void 0===o||null===(o=o.default)||void 0===o?void 0:o.url],chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:(0,C.Z)(n.rpcUrls.default.http)}]});case 13:(s=ge(this,Bs,Fs).call(this)).push(t),ge(this,Us,Ds).call(this,s);case 16:return e.next=18,r.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,q.eC)(t)}]});case 18:return e.abrupt("return",n);case 21:if(e.prev=21,e.t0=e.catch(3),u="string"===typeof e.t0?e.t0:null===e.t0||void 0===e.t0?void 0:e.t0.message,!/user rejected request/i.test(u)){e.next=26;break}throw new Ee.ab(e.t0);case 26:throw new Ee.x3(e.t0);case 27:case"end":return e.stop()}}),e,this,[[3,21]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(ye);Ms=new WeakMap,As=new WeakMap,ks=new WeakSet,Ts=function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pe(this,As)||"undefined"===typeof window||me(this,As,ge(this,Cs,Ps).call(this)),e.abrupt("return",pe(this,As));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),Cs=new WeakSet,Ps=function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,r,i,a,o,s,u,l,c,f,d,h,p,v,m;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(631).then(n.bind(n,9631));case 2:if(t=e.sent,r=t.EthereumProvider,i=t.OPTIONAL_EVENTS,a=t.OPTIONAL_METHODS,o=this.chains.map((function(e){return e.id})),s=br(o),u=s[0],l=s.slice(1),!u){e.next=16;break}return c=this.options,f=c.projectId,d=c.showQrModal,h=void 0===d||d,p=c.qrModalOptions,v=c.metadata,m=c.relayUrl,e.t0=me,e.t1=this,e.t2=Ms,e.next=14,r.init({showQrModal:h,qrModalOptions:p,projectId:f,optionalMethods:a,optionalEvents:i,chains:[u],optionalChains:l.length?l:void 0,rpcMap:Object.fromEntries(this.chains.map((function(e){return[e.id,e.rpcUrls.default.http[0]]}))),metadata:v,relayUrl:m});case 14:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),Rs=new WeakSet,Is=function(){if(ge(this,Hs,Gs).call(this).includes(Xs))return!1;if(!this.options.isNewChainsStale)return!1;var e=ge(this,Bs,Fs).call(this),t=this.chains.map((function(e){return e.id})),n=ge(this,zs,js).call(this);return!(n.length&&!n.some((function(e){return t.includes(e)})))&&!t.every((function(t){return e.includes(t)}))},Ls=new WeakSet,Zs=function(){pe(this,Ms)&&(ge(this,Os,Ns).call(this),pe(this,Ms).on("accountsChanged",this.onAccountsChanged),pe(this,Ms).on("chainChanged",this.onChainChanged),pe(this,Ms).on("disconnect",this.onDisconnect),pe(this,Ms).on("session_delete",this.onDisconnect),pe(this,Ms).on("display_uri",this.onDisplayUri),pe(this,Ms).on("connect",this.onConnect))},Os=new WeakSet,Ns=function(){pe(this,Ms)&&(pe(this,Ms).removeListener("accountsChanged",this.onAccountsChanged),pe(this,Ms).removeListener("chainChanged",this.onChainChanged),pe(this,Ms).removeListener("disconnect",this.onDisconnect),pe(this,Ms).removeListener("session_delete",this.onDisconnect),pe(this,Ms).removeListener("display_uri",this.onDisplayUri),pe(this,Ms).removeListener("connect",this.onConnect))},Us=new WeakSet,Ds=function(e){var t;null===(t=this.storage)||void 0===t||t.setItem(qs,e)},Bs=new WeakSet,Fs=function(){var e,t;return null!==(e=null===(t=this.storage)||void 0===t?void 0:t.getItem(qs))&&void 0!==e?e:[]},zs=new WeakSet,js=function(){var e,t;if(!pe(this,Ms))return[];var n=null===(e=pe(this,Ms).session)||void 0===e?void 0:e.namespaces;if(!n)return[];var r=null===(t=(0,Ws.fK)(n)[Vs])||void 0===t||null===(t=t.chains)||void 0===t?void 0:t.map((function(e){return parseInt(e.split(":")[1]||"")}));return null!==r&&void 0!==r?r:[]},Hs=new WeakSet,Gs=function(){var e,t;if(!pe(this,Ms))return[];var n=null===(e=pe(this,Ms).session)||void 0===e?void 0:e.namespaces;if(!n)return[];var r=null===(t=(0,Ws.fK)(n)[Vs])||void 0===t?void 0:t.methods;return null!==r&&void 0!==r?r:[]};var Qs=function(){function e(t,n){(0,I.Z)(this,e),this.wagmi={},this.chains=[],this.namespace="eip155",this.disconnect=ns,this.getAccount=vs,this.watchAccount=bs,this.fetchBalance=hs,this.getNetwork=ms,this.watchNetwork=ws,this.switchNetwork=gs,this.fetchEnsName=Ss,this.fetchEnsAvatar=xs,this.wagmi=t,this.chains=n}return(0,L.Z)(e,[{key:"getWalletConnectConnector",value:function(){var e=this.wagmi.connectors.find((function(e){return"walletConnect"===e.id}));if(!e)throw new Error("WalletConnectConnector is required");return e}},{key:"connectWalletConnectProvider",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(t,n){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProvider();case 2:return e.abrupt("return",new Promise((function(e){t.once("message",(function(t){"display_uri"===t.type&&(n(t.data),e())}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getConnectorById",value:function(e){var t=this.wagmi.connectors.find((function(t){return t.id===e}));if(!t)throw new Error("Connector for id ".concat(e," was not found"));return t}},{key:"getConnectors",value:function(){return this.wagmi.connectors.filter((function(e){return!e.id.includes("walletConnect")}))}},{key:"connectWalletConnect",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getWalletConnectConnector(),i={connector:r},e.abrupt("return",(n&&(i.chainId=n),Promise.all([es(i),this.connectWalletConnectProvider(r,t)])));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"connectConnector",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={connector:this.getConnectorById(t)},n&&(r.chainId=n),e.next=4,es(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"isInjectedProviderInstalled",value:function(){return typeof window.ethereum<"u"}},{key:"safeCheckInjectedProvider",value:function(e){var t;try{var n=String(e);return Boolean(null==(t=window.ethereum)?void 0:t[n])}catch(n){return console.error(n),!1}}},{key:"getConnectedChainIds",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,n,r,i,a,o,s=this;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getWalletConnectConnector().getProvider();case 2:if(e.t0=t=e.sent.signer,null!=e.t0){e.next=7;break}e.t1=void 0,e.next=8;break;case 7:e.t1=t.session;case 8:if(e.t2=n=e.t1,null!=e.t2){e.next=13;break}e.t3=void 0,e.next=14;break;case 13:e.t3=n.namespaces;case 14:if(i=e.t3,null==(a=null==(r=null===i||void 0===i?void 0:i[this.namespace])?void 0:r.methods)||!a.includes("wallet_addEthereumChain")){e.next=18;break}return e.abrupt("return","ALL");case 18:if(!i){e.next=21;break}return o=[],e.abrupt("return",(Object.keys(i).forEach((function(e){e.includes(s.namespace)&&o.push.apply(o,(0,C.Z)(i[e].accounts))})),null===o||void 0===o?void 0:o.map((function(e){return e.split(":")[1]}))));case 21:return e.abrupt("return","ALL");case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();var Ks=n(5991);Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Js=Object.defineProperty,$s=Object.getOwnPropertySymbols,eu=Object.prototype.hasOwnProperty,tu=Object.prototype.propertyIsEnumerable,nu=function(e,t,n){return t in e?Js(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ru=function(e,t){for(var n in t||(t={}))eu.call(t,n)&&nu(e,n,t[n]);if($s){var r,i=(0,F.Z)($s(t));try{for(i.s();!(r=i.n()).done;){n=r.value;tu.call(t,n)&&nu(e,n,t[n])}}catch(vk){i.e(vk)}finally{i.f()}}return e};function iu(e){return t.createElement("w3m-core-button",ru({},e))}var au=Object.defineProperty,ou=Object.getOwnPropertySymbols,su=Object.prototype.hasOwnProperty,uu=Object.prototype.propertyIsEnumerable,lu=function(e,t,n){return t in e?au(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},cu=function(e,t){for(var n in t||(t={}))su.call(t,n)&&lu(e,n,t[n]);if(ou){var r,i=(0,F.Z)(ou(t));try{for(i.s();!(r=i.n()).done;){n=r.value;uu.call(t,n)&&lu(e,n,t[n])}}catch(vk){i.e(vk)}finally{i.f()}}return e};function fu(e){return t.createElement("w3m-modal",cu({},e))}var du=Object.getOwnPropertySymbols,hu=Object.prototype.hasOwnProperty,pu=Object.prototype.propertyIsEnumerable;var vu=(0,t.memo)((function(e){var r=e,i=r.ethereumClient,a=function(e,t){var n={};for(var r in e)hu.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&du){var i,a=(0,F.Z)(du(e));try{for(a.s();!(i=a.n()).done;)r=i.value,t.indexOf(r)<0&&pu.call(e,r)&&(n[r]=e[r])}catch(vk){a.e(vk)}finally{a.f()}}return n}(r,["ethereumClient"]),o=(0,t.useCallback)((0,R.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ks.Ic.setThemeConfig(a),i&&Ks.Id.setEthereumClient(i),Ks.t0.setConfig(a),e.next=5,Promise.all([n.e(176),n.e(409)]).then(n.bind(n,6409));case 5:Ks.zb.setIsUiLoaded(!0);case 6:case"end":return e.stop()}}),e)}))),[i,a]);return(0,t.useEffect)((function(){o()}),[o]),t.createElement(fu,null)}));Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function mu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];t=a,null===r&&(r=setTimeout((function(){e.apply(void 0,(0,C.Z)(t)),r=null}),n))}}function gu(){}var yu="undefined"===typeof window||"Deno"in window;function bu(){}function wu(e,t,n){return Iu(e)?"function"===typeof t?(0,O.Z)((0,O.Z)({},n),{},{queryKey:e,queryFn:t}):(0,O.Z)((0,O.Z)({},t),{},{queryKey:e}):e}function xu(e,t,n){return Iu(e)?[(0,O.Z)((0,O.Z)({},t),{},{queryKey:e}),n]:[e||{},t]}function _u(e,t){var n=e.type,r=void 0===n?"all":n,i=e.exact,a=e.fetchStatus,o=e.predicate,s=e.queryKey,u=e.stale;if(Iu(s))if(i){if(t.queryHash!==Eu(s,t.options))return!1}else if(!Au(t.queryKey,s))return!1;if("all"!==r){var l=t.isActive();if("active"===r&&!l)return!1;if("inactive"===r&&l)return!1}return("boolean"!==typeof u||t.isStale()===u)&&(("undefined"===typeof a||a===t.state.fetchStatus)&&!(o&&!o(t)))}function Su(e,t){var n=e.exact,r=e.fetching,i=e.predicate,a=e.mutationKey;if(Iu(a)){if(!t.options.mutationKey)return!1;if(n){if(Mu(t.options.mutationKey)!==Mu(a))return!1}else if(!Au(t.options.mutationKey,a))return!1}return("boolean"!==typeof r||"loading"===t.state.status===r)&&!(i&&!i(t))}function Eu(e,t){return((null==t?void 0:t.queryKeyHashFn)||Mu)(e)}function Mu(e){return JSON.stringify(e,(function(e,t){return Pu(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))}function Au(e,t){return ku(e,t)}function ku(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some((function(n){return!ku(e[n],t[n])})))}function Tu(e,t){if(e===t)return e;var n=Cu(e)&&Cu(t);if(n||Pu(e)&&Pu(t)){for(var r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),a=i.length,o=n?[]:{},s=0,u=0;u<a;u++){var l=n?u:i[u];o[l]=Tu(e[l],t[l]),o[l]===e[l]&&s++}return r===a&&s===r?e:o}return t}function Cu(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Pu(e){if(!Ru(e))return!1;var t=e.constructor;if("undefined"===typeof t)return!0;var n=t.prototype;return!!Ru(n)&&!!n.hasOwnProperty("isPrototypeOf")}function Ru(e){return"[object Object]"===Object.prototype.toString.call(e)}function Iu(e){return Array.isArray(e)}function Lu(e){return new Promise((function(t){setTimeout(t,e)}))}function Zu(e){Lu(0).then(e)}function Ou(e,t,n){return null!=n.isDataEqual&&n.isDataEqual(e,t)?e:"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?Tu(e,t):t}var Nu=n(1752),Uu=n(1120),Du=console;var Bu=function(){var e=[],t=0,n=function(e){e()},r=function(e){e()},i=function(r){t?e.push(r):Zu((function(){n(r)}))},a=function(){var t=e;e=[],t.length&&Zu((function(){r((function(){t.forEach((function(e){n(e)}))}))}))};return{batch:function(e){var n;t++;try{n=e()}finally{--t||a()}return n},batchCalls:function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i((function(){e.apply(void 0,n)}))}},schedule:i,setNotifyFunction:function(e){n=e},setBatchNotifyFunction:function(e){r=e}}}(),Fu=function(){function e(){(0,I.Z)(this,e),this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}return(0,L.Z)(e,[{key:"subscribe",value:function(e){var t=this,n={listener:e};return this.listeners.add(n),this.onSubscribe(),function(){t.listeners.delete(n),t.onUnsubscribe()}}},{key:"hasListeners",value:function(){return this.listeners.size>0}},{key:"onSubscribe",value:function(){}},{key:"onUnsubscribe",value:function(){}}]),e}(),zu=new(function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.call(this)).setup=function(e){if(!yu&&window.addEventListener){var t=function(){return e()};return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),function(){window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}},e}return(0,L.Z)(n,[{key:"onSubscribe",value:function(){this.cleanup||this.setEventListener(this.setup)}},{key:"onUnsubscribe",value:function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}},{key:"setEventListener",value:function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"===typeof e?n.setFocused(e):n.onFocus()}))}},{key:"setFocused",value:function(e){this.focused=e,e&&this.onFocus()}},{key:"onFocus",value:function(){this.listeners.forEach((function(e){(0,e.listener)()}))}},{key:"isFocused",value:function(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}}]),n}(Fu)),ju=["online","offline"],Hu=new(function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.call(this)).setup=function(e){if(!yu&&window.addEventListener){var t=function(){return e()};return ju.forEach((function(e){window.addEventListener(e,t,!1)})),function(){ju.forEach((function(e){window.removeEventListener(e,t)}))}}},e}return(0,L.Z)(n,[{key:"onSubscribe",value:function(){this.cleanup||this.setEventListener(this.setup)}},{key:"onUnsubscribe",value:function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}},{key:"setEventListener",value:function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"===typeof e?n.setOnline(e):n.onOnline()}))}},{key:"setOnline",value:function(e){this.online=e,e&&this.onOnline()}},{key:"onOnline",value:function(){this.listeners.forEach((function(e){(0,e.listener)()}))}},{key:"isOnline",value:function(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine}}]),n}(Fu));function Gu(e){return Math.min(1e3*Math.pow(2,e),3e4)}function Wu(e){return"online"!==(null!=e?e:"online")||Hu.isOnline()}var Vu=(0,L.Z)((function e(t){(0,I.Z)(this,e),this.revert=null==t?void 0:t.revert,this.silent=null==t?void 0:t.silent}));function qu(e){return e instanceof Vu}function Xu(e){var t,n,r,i=!1,a=0,o=!1,s=new Promise((function(e,t){n=e,r=t})),u=function(){return!zu.isFocused()||"always"!==e.networkMode&&!Hu.isOnline()},l=function(r){o||(o=!0,null==e.onSuccess||e.onSuccess(r),null==t||t(),n(r))},c=function(n){o||(o=!0,null==e.onError||e.onError(n),null==t||t(),r(n))},f=function(){return new Promise((function(n){t=function(e){var t=o||!u();return t&&n(e),t},null==e.onPause||e.onPause()})).then((function(){t=void 0,o||null==e.onContinue||e.onContinue()}))},d=function t(){if(!o){var n;try{n=e.fn()}catch(r){n=Promise.reject(r)}Promise.resolve(n).then(l).catch((function(n){var r,s;if(!o){var l=null!=(r=e.retry)?r:3,d=null!=(s=e.retryDelay)?s:Gu,h="function"===typeof d?d(a,n):d,p=!0===l||"number"===typeof l&&a<l||"function"===typeof l&&l(a,n);!i&&p?(a++,null==e.onFail||e.onFail(a,n),Lu(h).then((function(){if(u())return f()})).then((function(){i?c(n):t()}))):c(n)}}))}};return Wu(e.networkMode)?d():f().then(d),{promise:s,cancel:function(t){o||(c(new Vu(t)),null==e.abort||e.abort())},continue:function(){return(null==t?void 0:t())?s:Promise.resolve()},cancelRetry:function(){i=!0},continueRetry:function(){i=!1}}}var Yu=function(){function e(){(0,I.Z)(this,e)}return(0,L.Z)(e,[{key:"destroy",value:function(){this.clearGcTimeout()}},{key:"scheduleGc",value:function(){var e,t=this;this.clearGcTimeout(),"number"===typeof(e=this.cacheTime)&&e>=0&&e!==1/0&&(this.gcTimeout=setTimeout((function(){t.optionalRemove()}),this.cacheTime))}},{key:"updateCacheTime",value:function(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:yu?1/0:3e5)}},{key:"clearGcTimeout",value:function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}]),e}(),Qu=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).abortSignalConsumed=!1,r.defaultOptions=e.defaultOptions,r.setOptions(e.options),r.observers=[],r.cache=e.cache,r.logger=e.logger||Du,r.queryKey=e.queryKey,r.queryHash=e.queryHash,r.initialState=e.state||function(e){var t="function"===typeof e.initialData?e.initialData():e.initialData,n="undefined"!==typeof t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!=r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}(r.options),r.state=r.initialState,r.scheduleGc(),r}return(0,L.Z)(n,[{key:"meta",get:function(){return this.options.meta}},{key:"setOptions",value:function(e){this.options=(0,O.Z)((0,O.Z)({},this.defaultOptions),e),this.updateCacheTime(this.options.cacheTime)}},{key:"optionalRemove",value:function(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}},{key:"setData",value:function(e,t){var n=Ou(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}},{key:"setState",value:function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}},{key:"cancel",value:function(e){var t,n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(bu).catch(bu):Promise.resolve()}},{key:"destroy",value:function(){(0,Nu.Z)((0,Uu.Z)(n.prototype),"destroy",this).call(this),this.cancel({silent:!0})}},{key:"reset",value:function(){this.destroy(),this.setState(this.initialState)}},{key:"isActive",value:function(){return this.observers.some((function(e){return!1!==e.options.enabled}))}},{key:"isDisabled",value:function(){return this.getObserversCount()>0&&!this.isActive()}},{key:"isStale",value:function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((function(e){return e.getCurrentResult().isStale}))}},{key:"isStaleByTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||!this.state.dataUpdatedAt||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}},{key:"onFocus",value:function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnWindowFocus()}));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}},{key:"onOnline",value:function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnReconnect()}));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}},{key:"addObserver",value:function(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}},{key:"removeObserver",value:function(e){this.observers.includes(e)&&(this.observers=this.observers.filter((function(t){return t!==e})),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}},{key:"getObserversCount",value:function(){return this.observers.length}},{key:"invalidate",value:function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}},{key:"fetch",value:function(e,t){var n,r,i=this;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return null==(a=this.retryer)||a.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var o=this.observers.find((function(e){return e.options.queryFn}));o&&this.setOptions(o.options)}Array.isArray(this.options.queryKey);var s=function(){if("function"===typeof AbortController)return new AbortController}(),u={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=function(e){Object.defineProperty(e,"signal",{enumerable:!0,get:function(){if(s)return i.abortSignalConsumed=!0,s.signal}})};l(u);var c,f={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(u)):Promise.reject("Missing queryFn for queryKey '"+i.options.queryHash+"'")}};(l(f),null==(n=this.options.behavior)||n.onFetch(f),this.revertState=this.state,"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(r=f.fetchOptions)?void 0:r.meta))&&this.dispatch({type:"fetch",meta:null==(c=f.fetchOptions)?void 0:c.meta});var d=function(e){var t,n,r,a;(qu(e)&&e.silent||i.dispatch({type:"error",error:e}),qu(e))||(null==(t=(n=i.cache.config).onError)||t.call(n,e,i),null==(r=(a=i.cache.config).onSettled)||r.call(a,i.state.data,e,i));i.isFetchingOptimistic||i.scheduleGc(),i.isFetchingOptimistic=!1};return this.retryer=Xu({fn:f.fetchFn,abort:null==s?void 0:s.abort.bind(s),onSuccess:function(e){var t,n,r,a;"undefined"!==typeof e?(i.setData(e),null==(t=(n=i.cache.config).onSuccess)||t.call(n,e,i),null==(r=(a=i.cache.config).onSettled)||r.call(a,e,i.state.error,i),i.isFetchingOptimistic||i.scheduleGc(),i.isFetchingOptimistic=!1):d(new Error(i.queryHash+" data is undefined"))},onError:d,onFail:function(e,t){i.dispatch({type:"failed",failureCount:e,error:t})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode}),this.promise=this.retryer.promise,this.promise}},{key:"dispatch",value:function(e){var t=this;this.state=function(n){var r,i;switch(e.type){case"failed":return(0,O.Z)((0,O.Z)({},n),{},{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return(0,O.Z)((0,O.Z)({},n),{},{fetchStatus:"paused"});case"continue":return(0,O.Z)((0,O.Z)({},n),{},{fetchStatus:"fetching"});case"fetch":return(0,O.Z)((0,O.Z)({},n),{},{fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(r=e.meta)?r:null,fetchStatus:Wu(t.options.networkMode)?"fetching":"paused"},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,O.Z)((0,O.Z)({},n),{},{data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:null!=(i=e.dataUpdatedAt)?i:Date.now(),error:null,isInvalidated:!1,status:"success"},!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":var a=e.error;return qu(a)&&a.revert&&t.revertState?(0,O.Z)({},t.revertState):(0,O.Z)((0,O.Z)({},n),{},{error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"});case"invalidate":return(0,O.Z)((0,O.Z)({},n),{},{isInvalidated:!0});case"setState":return(0,O.Z)((0,O.Z)({},n),e.state)}}(this.state),Bu.batch((function(){t.observers.forEach((function(t){t.onQueryUpdate(e)})),t.cache.notify({query:t,type:"updated",action:e})}))}}]),n}(Yu);var Ku=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).config=e||{},r.queries=[],r.queriesMap={},r}return(0,L.Z)(n,[{key:"build",value:function(e,t,n){var r,i=t.queryKey,a=null!=(r=t.queryHash)?r:Eu(i,t),o=this.get(a);return o||(o=new Qu({cache:this,logger:e.getLogger(),queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}},{key:"add",value:function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}},{key:"remove",value:function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((function(t){return t!==e})),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}},{key:"clear",value:function(){var e=this;Bu.batch((function(){e.queries.forEach((function(t){e.remove(t)}))}))}},{key:"get",value:function(e){return this.queriesMap[e]}},{key:"getAll",value:function(){return this.queries}},{key:"find",value:function(e,t){var n=xu(e,t),r=(0,N.Z)(n,1)[0];return"undefined"===typeof r.exact&&(r.exact=!0),this.queries.find((function(e){return _u(r,e)}))}},{key:"findAll",value:function(e,t){var n=xu(e,t),r=(0,N.Z)(n,1)[0];return Object.keys(r).length>0?this.queries.filter((function(e){return _u(r,e)})):this.queries}},{key:"notify",value:function(e){var t=this;Bu.batch((function(){t.listeners.forEach((function(t){(0,t.listener)(e)}))}))}},{key:"onFocus",value:function(){var e=this;Bu.batch((function(){e.queries.forEach((function(e){e.onFocus()}))}))}},{key:"onOnline",value:function(){var e=this;Bu.batch((function(){e.queries.forEach((function(e){e.onOnline()}))}))}}]),n}(Fu),Ju=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).defaultOptions=e.defaultOptions,r.mutationId=e.mutationId,r.mutationCache=e.mutationCache,r.logger=e.logger||Du,r.observers=[],r.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},r.setOptions(e.options),r.scheduleGc(),r}return(0,L.Z)(n,[{key:"setOptions",value:function(e){this.options=(0,O.Z)((0,O.Z)({},this.defaultOptions),e),this.updateCacheTime(this.options.cacheTime)}},{key:"meta",get:function(){return this.options.meta}},{key:"setState",value:function(e){this.dispatch({type:"setState",state:e})}},{key:"addObserver",value:function(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}},{key:"removeObserver",value:function(e){this.observers=this.observers.filter((function(t){return t!==e})),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}},{key:"optionalRemove",value:function(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}},{key:"continue",value:function(){var e,t;return null!=(e=null==(t=this.retryer)?void 0:t.continue())?e:this.execute()}},{key:"execute",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(){var t,n,r,i,a,o,s,u,l,c,f,d,h,p,v,m,g,y,b,w,x,_,S,E,M=this;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){var e;return M.retryer=Xu({fn:function(){return M.options.mutationFn?M.options.mutationFn(M.state.variables):Promise.reject("No mutationFn found")},onFail:function(e,t){M.dispatch({type:"failed",failureCount:e,error:t})},onPause:function(){M.dispatch({type:"pause"})},onContinue:function(){M.dispatch({type:"continue"})},retry:null!=(e=M.options.retry)?e:0,retryDelay:M.options.retryDelay,networkMode:M.options.networkMode}),M.retryer.promise},n="loading"===this.state.status,e.prev=2,n){e.next=11;break}return this.dispatch({type:"loading",variables:this.options.variables}),e.next=7,null==(f=(d=this.mutationCache.config).onMutate)?void 0:f.call(d,this.state.variables,this);case 7:return e.next=9,null==(h=(p=this.options).onMutate)?void 0:h.call(p,this.state.variables);case 9:(v=e.sent)!==this.state.context&&this.dispatch({type:"loading",context:v,variables:this.state.variables});case 11:return e.next=13,t();case 13:return m=e.sent,e.next=16,null==(r=(i=this.mutationCache.config).onSuccess)?void 0:r.call(i,m,this.state.variables,this.state.context,this);case 16:return e.next=18,null==(a=(o=this.options).onSuccess)?void 0:a.call(o,m,this.state.variables,this.state.context);case 18:return e.next=20,null==(s=(u=this.mutationCache.config).onSettled)?void 0:s.call(u,m,null,this.state.variables,this.state.context,this);case 20:return e.next=22,null==(l=(c=this.options).onSettled)?void 0:l.call(c,m,null,this.state.variables,this.state.context);case 22:return this.dispatch({type:"success",data:m}),e.abrupt("return",m);case 26:return e.prev=26,e.t0=e.catch(2),e.prev=28,e.next=31,null==(g=(y=this.mutationCache.config).onError)?void 0:g.call(y,e.t0,this.state.variables,this.state.context,this);case 31:return e.next=34,null==(b=(w=this.options).onError)?void 0:b.call(w,e.t0,this.state.variables,this.state.context);case 34:return e.next=36,null==(x=(_=this.mutationCache.config).onSettled)?void 0:x.call(_,void 0,e.t0,this.state.variables,this.state.context,this);case 36:return e.next=38,null==(S=(E=this.options).onSettled)?void 0:S.call(E,void 0,e.t0,this.state.variables,this.state.context);case 38:throw e.t0;case 39:return e.prev=39,this.dispatch({type:"error",error:e.t0}),e.finish(39);case 42:case"end":return e.stop()}}),e,this,[[2,26],[28,,39,42]])})));return function(){return e.apply(this,arguments)}}()},{key:"dispatch",value:function(e){var t=this;this.state=function(n){switch(e.type){case"failed":return(0,O.Z)((0,O.Z)({},n),{},{failureCount:e.failureCount,failureReason:e.error});case"pause":return(0,O.Z)((0,O.Z)({},n),{},{isPaused:!0});case"continue":return(0,O.Z)((0,O.Z)({},n),{},{isPaused:!1});case"loading":return(0,O.Z)((0,O.Z)({},n),{},{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Wu(t.options.networkMode),status:"loading",variables:e.variables});case"success":return(0,O.Z)((0,O.Z)({},n),{},{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return(0,O.Z)((0,O.Z)({},n),{},{data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"});case"setState":return(0,O.Z)((0,O.Z)({},n),e.state)}}(this.state),Bu.batch((function(){t.observers.forEach((function(t){t.onMutationUpdate(e)})),t.mutationCache.notify({mutation:t,type:"updated",action:e})}))}}]),n}(Yu);var $u=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).config=e||{},r.mutations=[],r.mutationId=0,r}return(0,L.Z)(n,[{key:"build",value:function(e,t,n){var r=new Ju({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(r),r}},{key:"add",value:function(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}},{key:"remove",value:function(e){this.mutations=this.mutations.filter((function(t){return t!==e})),this.notify({type:"removed",mutation:e})}},{key:"clear",value:function(){var e=this;Bu.batch((function(){e.mutations.forEach((function(t){e.remove(t)}))}))}},{key:"getAll",value:function(){return this.mutations}},{key:"find",value:function(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find((function(t){return Su(e,t)}))}},{key:"findAll",value:function(e){return this.mutations.filter((function(t){return Su(e,t)}))}},{key:"notify",value:function(e){var t=this;Bu.batch((function(){t.listeners.forEach((function(t){(0,t.listener)(e)}))}))}},{key:"resumePausedMutations",value:function(){var e,t=this;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then((function(){var e=t.mutations.filter((function(e){return e.state.isPaused}));return Bu.batch((function(){return e.reduce((function(e,t){return e.then((function(){return t.continue().catch(bu)}))}),Promise.resolve())}))})).then((function(){t.resuming=void 0})),this.resuming}}]),n}(Fu);function el(){return{onFetch:function(e){e.fetchFn=function(){var t,n,r,i,a,o,s,u=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,l=null==(r=e.fetchOptions)||null==(i=r.meta)?void 0:i.fetchMore,c=null==l?void 0:l.pageParam,f="forward"===(null==l?void 0:l.direction),d="backward"===(null==l?void 0:l.direction),h=(null==(a=e.state.data)?void 0:a.pages)||[],p=(null==(o=e.state.data)?void 0:o.pageParams)||[],v=p,m=!1,g=e.options.queryFn||function(){return Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")},y=function(e,t,n,r){return v=r?[t].concat((0,C.Z)(v)):[].concat((0,C.Z)(v),[t]),r?[n].concat((0,C.Z)(e)):[].concat((0,C.Z)(e),[n])},b=function(t,n,r,i){if(m)return Promise.reject("Cancelled");if("undefined"===typeof r&&!n&&t.length)return Promise.resolve(t);var a,o={queryKey:e.queryKey,pageParam:r,meta:e.options.meta};a=o,Object.defineProperty(a,"signal",{enumerable:!0,get:function(){var t,n;return null!=(t=e.signal)&&t.aborted?m=!0:null==(n=e.signal)||n.addEventListener("abort",(function(){m=!0})),e.signal}});var s=g(o);return Promise.resolve(s).then((function(e){return y(t,r,e,i)}))};if(h.length)if(f){var w="undefined"!==typeof c,x=w?c:tl(e.options,h);s=b(h,w,x)}else if(d){var _="undefined"!==typeof c,S=_?c:nl(e.options,h);s=b(h,_,S,!0)}else{v=[];var E="undefined"===typeof e.options.getNextPageParam,M=!u||!h[0]||u(h[0],0,h);s=M?b([],E,p[0]):Promise.resolve(y([],p[0],h[0]));for(var A=function(t){s=s.then((function(n){if(!u||!h[t]||u(h[t],t,h)){var r=E?p[t]:tl(e.options,n);return b(n,E,r)}return Promise.resolve(y(n,p[t],h[t]))}))},k=1;k<h.length;k++)A(k)}else s=b([]);return s.then((function(e){return{pages:e,pageParams:v}}))}}}}function tl(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function nl(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}var rl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,I.Z)(this,e),this.queryCache=t.queryCache||new Ku,this.mutationCache=t.mutationCache||new $u,this.logger=t.logger||Du,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}return(0,L.Z)(e,[{key:"mount",value:function(){var e=this;this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=zu.subscribe((function(){zu.isFocused()&&(e.resumePausedMutations(),e.queryCache.onFocus())})),this.unsubscribeOnline=Hu.subscribe((function(){Hu.isOnline()&&(e.resumePausedMutations(),e.queryCache.onOnline())})))}},{key:"unmount",value:function(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}},{key:"isFetching",value:function(e,t){var n=xu(e,t),r=(0,N.Z)(n,1)[0];return r.fetchStatus="fetching",this.queryCache.findAll(r).length}},{key:"isMutating",value:function(e){return this.mutationCache.findAll((0,O.Z)((0,O.Z)({},e),{},{fetching:!0})).length}},{key:"getQueryData",value:function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data}},{key:"ensureQueryData",value:function(e,t,n){var r=wu(e,t,n),i=this.getQueryData(r.queryKey);return i?Promise.resolve(i):this.fetchQuery(r)}},{key:"getQueriesData",value:function(e){return this.getQueryCache().findAll(e).map((function(e){return[e.queryKey,e.state.data]}))}},{key:"setQueryData",value:function(e,t,n){var r=this.queryCache.find(e),i=function(e,t){return"function"===typeof e?e(t):e}(t,null==r?void 0:r.state.data);if("undefined"!==typeof i){var a=wu(e),o=this.defaultQueryOptions(a);return this.queryCache.build(this,o).setData(i,(0,O.Z)((0,O.Z)({},n),{},{manual:!0}))}}},{key:"setQueriesData",value:function(e,t,n){var r=this;return Bu.batch((function(){return r.getQueryCache().findAll(e).map((function(e){var i=e.queryKey;return[i,r.setQueryData(i,t,n)]}))}))}},{key:"getQueryState",value:function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state}},{key:"removeQueries",value:function(e,t){var n=xu(e,t),r=(0,N.Z)(n,1)[0],i=this.queryCache;Bu.batch((function(){i.findAll(r).forEach((function(e){i.remove(e)}))}))}},{key:"resetQueries",value:function(e,t,n){var r=this,i=xu(e,t,n),a=(0,N.Z)(i,2),o=a[0],s=a[1],u=this.queryCache,l=(0,O.Z)({type:"active"},o);return Bu.batch((function(){return u.findAll(o).forEach((function(e){e.reset()})),r.refetchQueries(l,s)}))}},{key:"cancelQueries",value:function(e,t,n){var r=this,i=xu(e,t,n),a=(0,N.Z)(i,2),o=a[0],s=a[1],u=void 0===s?{}:s;"undefined"===typeof u.revert&&(u.revert=!0);var l=Bu.batch((function(){return r.queryCache.findAll(o).map((function(e){return e.cancel(u)}))}));return Promise.all(l).then(bu).catch(bu)}},{key:"invalidateQueries",value:function(e,t,n){var r=this,i=xu(e,t,n),a=(0,N.Z)(i,2),o=a[0],s=a[1];return Bu.batch((function(){var e,t;if(r.queryCache.findAll(o).forEach((function(e){e.invalidate()})),"none"===o.refetchType)return Promise.resolve();var n=(0,O.Z)((0,O.Z)({},o),{},{type:null!=(e=null!=(t=o.refetchType)?t:o.type)?e:"active"});return r.refetchQueries(n,s)}))}},{key:"refetchQueries",value:function(e,t,n){var r=this,i=xu(e,t,n),a=(0,N.Z)(i,2),o=a[0],s=a[1],u=Bu.batch((function(){return r.queryCache.findAll(o).filter((function(e){return!e.isDisabled()})).map((function(e){var t;return e.fetch(void 0,(0,O.Z)((0,O.Z)({},s),{},{cancelRefetch:null==(t=null==s?void 0:s.cancelRefetch)||t,meta:{refetchPage:o.refetchPage}}))}))})),l=Promise.all(u).then(bu);return null!=s&&s.throwOnError||(l=l.catch(bu)),l}},{key:"fetchQuery",value:function(e,t,n){var r=wu(e,t,n),i=this.defaultQueryOptions(r);"undefined"===typeof i.retry&&(i.retry=!1);var a=this.queryCache.build(this,i);return a.isStaleByTime(i.staleTime)?a.fetch(i):Promise.resolve(a.state.data)}},{key:"prefetchQuery",value:function(e,t,n){return this.fetchQuery(e,t,n).then(bu).catch(bu)}},{key:"fetchInfiniteQuery",value:function(e,t,n){var r=wu(e,t,n);return r.behavior=el(),this.fetchQuery(r)}},{key:"prefetchInfiniteQuery",value:function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(bu).catch(bu)}},{key:"resumePausedMutations",value:function(){return this.mutationCache.resumePausedMutations()}},{key:"getQueryCache",value:function(){return this.queryCache}},{key:"getMutationCache",value:function(){return this.mutationCache}},{key:"getLogger",value:function(){return this.logger}},{key:"getDefaultOptions",value:function(){return this.defaultOptions}},{key:"setDefaultOptions",value:function(e){this.defaultOptions=e}},{key:"setQueryDefaults",value:function(e,t){var n=this.queryDefaults.find((function(t){return Mu(e)===Mu(t.queryKey)}));n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}},{key:"getQueryDefaults",value:function(e){if(e){var t=this.queryDefaults.find((function(t){return Au(e,t.queryKey)}));return null==t?void 0:t.defaultOptions}}},{key:"setMutationDefaults",value:function(e,t){var n=this.mutationDefaults.find((function(t){return Mu(e)===Mu(t.mutationKey)}));n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}},{key:"getMutationDefaults",value:function(e){if(e){var t=this.mutationDefaults.find((function(t){return Au(e,t.mutationKey)}));return null==t?void 0:t.defaultOptions}}},{key:"defaultQueryOptions",value:function(e){if(null!=e&&e._defaulted)return e;var t=(0,O.Z)((0,O.Z)((0,O.Z)((0,O.Z)({},this.defaultOptions.queries),this.getQueryDefaults(null==e?void 0:e.queryKey)),e),{},{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=Eu(t.queryKey,t)),"undefined"===typeof t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),"undefined"===typeof t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}},{key:"defaultMutationOptions",value:function(e){return null!=e&&e._defaulted?e:(0,O.Z)((0,O.Z)((0,O.Z)((0,O.Z)({},this.defaultOptions.mutations),this.getMutationDefaults(null==e?void 0:e.mutationKey)),e),{},{_defaulted:!0})}},{key:"clear",value:function(){this.queryCache.clear(),this.mutationCache.clear()}}]),e}();function il(e){return e.state.isPaused}function al(e){return"success"===e.state.status}function ol(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=[];if(!1!==t.dehydrateMutations){var i=t.shouldDehydrateMutation||il;e.getMutationCache().getAll().forEach((function(e){i(e)&&n.push(function(e){return{mutationKey:e.options.mutationKey,state:e.state}}(e))}))}if(!1!==t.dehydrateQueries){var a=t.shouldDehydrateQuery||al;e.getQueryCache().getAll().forEach((function(e){a(e)&&r.push(function(e){return{state:e.state,queryKey:e.queryKey,queryHash:e.queryHash}}(e))}))}return{mutations:n,queries:r}}function sl(e,t,n){if("object"===typeof t&&null!==t){var r=e.getMutationCache(),i=e.getQueryCache(),a=t.mutations||[],o=t.queries||[];a.forEach((function(t){var i;r.build(e,(0,O.Z)((0,O.Z)({},null==n||null==(i=n.defaultOptions)?void 0:i.mutations),{},{mutationKey:t.mutationKey}),t.state)})),o.forEach((function(t){var r,a=i.get(t.queryHash),o=(0,O.Z)((0,O.Z)({},t.state),{},{fetchStatus:"idle"});a?a.state.dataUpdatedAt<o.dataUpdatedAt&&a.setState(o):i.build(e,(0,O.Z)((0,O.Z)({},null==n||null==(r=n.defaultOptions)?void 0:r.queries),{},{queryKey:t.queryKey,queryHash:t.queryHash}),o)}))}}var ul=["added","removed","updated"];function ll(e){return ul.includes(e)}function cl(){return cl=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a,o,s,u,l,c,f;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.queryClient,r=t.persister,i=t.maxAge,a=void 0===i?864e5:i,o=t.buster,s=void 0===o?"":o,u=t.hydrateOptions,e.prev=1,e.next=4,r.restoreClient();case 4:(l=e.sent)&&(l.timestamp?(c=Date.now()-l.timestamp>a,f=l.buster!==s,c||f?r.removeClient():sl(n,l.clientState,u)):r.removeClient()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),r.removeClient();case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),cl.apply(this,arguments)}function fl(e){return dl.apply(this,arguments)}function dl(){return(dl=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a,o,s;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.queryClient,r=t.persister,i=t.buster,a=void 0===i?"":i,o=t.dehydrateOptions,s={buster:a,timestamp:Date.now(),clientState:ol(n,o)},e.next=4,r.persistClient(s);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hl(e){var t,n=!1,r=function(e){return cl.apply(this,arguments)}(e).then((function(){n||(t=function(e){var t=e.queryClient.getQueryCache().subscribe((function(t){ll(t.type)&&fl(e)})),n=e.queryClient.getMutationCache().subscribe((function(t){ll(t.type)&&fl(e)}));return function(){t(),n()}}(e))}));return[function(){n=!0,null==t||t()},r]}var pl=t.createContext(void 0),vl=t.createContext(!1);function ml(e,t){return e||(t&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=pl),window.ReactQueryClientContext):pl)}var gl=function(e){var n=e.client,r=e.children,i=e.context,a=e.contextSharing,o=void 0!==a&&a;t.useEffect((function(){return n.mount(),function(){n.unmount()}}),[n]);var s=ml(i,o);return t.createElement(vl.Provider,{value:!i&&o},t.createElement(s.Provider,{value:n},r))},yl=["queryClient","storage","persister"];var bl=t.createContext(void 0),wl=t.createContext(void 0);function xl(e){var n=e.children,r=e.config;return t.createElement(bl.Provider,{children:t.createElement(gl,{children:n,client:r.queryClient,context:wl}),value:r})}function _l(){var e=t.useContext(bl);if(!e)throw new Error(["`useConfig` must be used within `WagmiConfig`.\n","Read more: https://wagmi.sh/react/WagmiConfig"].join("\n"));return e}i.useSyncExternalStore;var Sl=function(e){return"object"===typeof e&&!Array.isArray(e)};function El(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:No,o=t.useRef([]),s=(0,a.useSyncExternalStoreWithSelector)(e,n,r,(function(e){return e}),(function(e,t){if(Sl(e)&&Sl(t)&&o.current.length){var n,r=(0,F.Z)(o.current);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!i(e[a],t[a]))return!1}}catch(vk){r.e(vk)}finally{r.f()}return!0}return i(e,t)}));if(Sl(s)){var u=(0,O.Z)({},s);return Object.defineProperties(u,Object.entries(u).reduce((function(e,t){var n=(0,N.Z)(t,2),r=n[0],i=n[1];return(0,O.Z)((0,O.Z)({},e),{},(0,l.Z)({},r,{configurable:!1,enumerable:!0,get:function(){return o.current.includes(r)||o.current.push(r),i}}))}),{})),u}return s}function Ml(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.onConnect,r=e.onDisconnect,i=_l(),a=El(t.useCallback((function(e){return bs(e)}),[i]),vs),o=t.useRef(),s=o.current;return t.useEffect((function(){"connected"!==(null===s||void 0===s?void 0:s.status)&&"connected"===a.status&&(null===n||void 0===n||n({address:a.address,connector:a.connector,isReconnected:"reconnecting"===(null===s||void 0===s?void 0:s.status)||void 0===(null===s||void 0===s?void 0:s.status)})),"connected"===(null===s||void 0===s?void 0:s.status)&&"disconnected"===a.status&&(null===r||void 0===r||r()),o.current=a}),[n,r,s,a]),a}var Al,kl,Tl=n(5647),Cl="154",Pl={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Rl={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Il=0,Ll=1,Zl=2,Ol=3,Nl=0,Ul=1,Dl=2,Bl=3,Fl=0,zl=1,jl=2,Hl=2,Gl=0,Wl=1,Vl=2,ql=3,Xl=4,Yl=5,Ql=100,Kl=101,Jl=102,$l=103,ec=104,tc=200,nc=201,rc=202,ic=203,ac=204,oc=205,sc=206,uc=207,lc=208,cc=209,fc=210,dc=0,hc=1,pc=2,vc=3,mc=4,gc=5,yc=6,bc=7,wc=0,xc=1,_c=2,Sc=0,Ec=1,Mc=2,Ac=3,kc=4,Tc=5,Cc=300,Pc=301,Rc=302,Ic=303,Lc=304,Zc=306,Oc=1e3,Nc=1001,Uc=1002,Dc=1003,Bc=1004,Fc=1004,zc=1005,jc=1005,Hc=1006,Gc=1007,Wc=1007,Vc=1008,qc=1008,Xc=1009,Yc=1010,Qc=1011,Kc=1012,Jc=1013,$c=1014,ef=1015,tf=1016,nf=1017,rf=1018,af=1020,of=1021,sf=1023,uf=1024,lf=1025,cf=1026,ff=1027,df=1028,hf=1029,pf=1030,vf=1031,mf=1033,gf=33776,yf=33777,bf=33778,wf=33779,xf=35840,_f=35841,Sf=35842,Ef=35843,Mf=36196,Af=37492,kf=37496,Tf=37808,Cf=37809,Pf=37810,Rf=37811,If=37812,Lf=37813,Zf=37814,Of=37815,Nf=37816,Uf=37817,Df=37818,Bf=37819,Ff=37820,zf=37821,jf=36492,Hf=36283,Gf=36284,Wf=36285,Vf=36286,qf=2200,Xf=2201,Yf=2202,Qf=2300,Kf=2301,Jf=2302,$f=2400,ed=2401,td=2402,nd=2500,rd=2501,id=0,ad=1,od=2,sd=3e3,ud=3001,ld=3200,cd=3201,fd=0,dd=1,hd="",pd="srgb",vd="srgb-linear",md="display-p3",gd=0,yd=7680,bd=7681,wd=7682,xd=7683,_d=34055,Sd=34056,Ed=5386,Md=512,Ad=513,kd=514,Td=515,Cd=516,Pd=517,Rd=518,Id=519,Ld=512,Zd=513,Od=514,Nd=515,Ud=516,Dd=517,Bd=518,Fd=519,zd=35044,jd=35048,Hd=35040,Gd=35045,Wd=35049,Vd=35041,qd=35046,Xd=35050,Yd=35042,Qd="100",Kd="300 es",Jd=1035,$d=2e3,eh=2001,th=function(){function e(){(0,I.Z)(this,e)}return(0,L.Z)(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),nh=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],rh=1234567,ih=Math.PI/180,ah=180/Math.PI;function oh(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(nh[255&e]+nh[e>>8&255]+nh[e>>16&255]+nh[e>>24&255]+"-"+nh[255&t]+nh[t>>8&255]+"-"+nh[t>>16&15|64]+nh[t>>24&255]+"-"+nh[63&n|128]+nh[n>>8&255]+"-"+nh[n>>16&255]+nh[n>>24&255]+nh[255&r]+nh[r>>8&255]+nh[r>>16&255]+nh[r>>24&255]).toLowerCase()}function sh(e,t,n){return Math.max(t,Math.min(n,e))}function uh(e,t){return(e%t+t)%t}function lh(e,t,n){return(1-n)*e+n*t}function ch(e){return 0===(e&e-1)&&0!==e}function fh(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function dh(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function hh(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function ph(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var vh={DEG2RAD:ih,RAD2DEG:ah,generateUUID:oh,clamp:sh,euclideanModulo:uh,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:lh,damp:function(e,t,n,r){return lh(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(uh(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(rh=e);var t=rh+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*ih},radToDeg:function(e){return e*ah},isPowerOfTwo:ch,ceilPowerOfTwo:fh,floorPowerOfTwo:dh,setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),u=o(n/2),l=a((t+r)/2),c=o((t+r)/2),f=a((t-r)/2),d=o((t-r)/2),h=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*c,u*f,u*d,s*l);break;case"YZY":e.set(u*d,s*c,u*f,s*l);break;case"ZXZ":e.set(u*f,u*d,s*c,s*l);break;case"XZX":e.set(s*c,u*p,u*h,s*l);break;case"YXY":e.set(u*h,s*c,u*p,s*l);break;case"ZYZ":e.set(u*p,u*h,s*c,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:ph,denormalize:hh},mh=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,I.Z)(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return(0,L.Z)(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(sh(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:e,value:(0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),gh=function(){function e(t,n,r,i,a,o,s,u,l){(0,I.Z)(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,u,l)}return(0,L.Z)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],l=n[4],c=n[7],f=n[2],d=n[5],h=n[8],p=r[0],v=r[3],m=r[6],g=r[1],y=r[4],b=r[7],w=r[2],x=r[5],_=r[8];return i[0]=a*p+o*g+s*w,i[3]=a*v+o*y+s*x,i[6]=a*m+o*b+s*_,i[1]=u*p+l*g+c*w,i[4]=u*v+l*y+c*x,i[7]=u*m+l*b+c*_,i[2]=f*p+d*g+h*w,i[5]=f*v+d*y+h*x,i[8]=f*m+d*b+h*_,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-n*i*l+n*o*s+r*i*u-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=l*a-o*u,f=o*s-l*i,d=u*i-a*s,h=t*c+n*f+r*d;if(0===h)return this.set(0,0,0,0,0,0,0,0,0);var p=1/h;return e[0]=c*p,e[1]=(r*u-l*n)*p,e[2]=(o*n-r*a)*p,e[3]=f*p,e[4]=(l*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=d*p,e[7]=(n*s-u*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),u=Math.sin(i);return this.set(n*s,n*u,-n*(s*a+u*o)+a+e,-r*u,r*s,-r*(-u*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(yh.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(yh.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(yh.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),yh=new gh;function bh(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var wh={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function xh(e,t){return new wh[e](t)}function _h(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}var Sh={};function Eh(e){e in Sh||(Sh[e]=!0,console.warn(e))}function Mh(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Ah(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var kh=(new gh).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Th=(new gh).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);var Ch,Ph=(Al={},(0,l.Z)(Al,vd,(function(e){return e})),(0,l.Z)(Al,pd,(function(e){return e.convertSRGBToLinear()})),(0,l.Z)(Al,md,(function(e){return e.convertSRGBToLinear().applyMatrix3(Th)})),Al),Rh=(kl={},(0,l.Z)(kl,vd,(function(e){return e})),(0,l.Z)(kl,pd,(function(e){return e.convertLinearToSRGB()})),(0,l.Z)(kl,md,(function(e){return e.applyMatrix3(kh).convertLinearToSRGB()})),kl),Ih={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return vd},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;var r=Ph[t],i=Rh[n];if(void 0===r||void 0===i)throw new Error('Unsupported color space conversion, "'.concat(t,'" to "').concat(n,'".'));return i(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},Lh=function(){function e(){(0,I.Z)(this,e)}return(0,L.Z)(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Ch&&(Ch=_h("canvas")),Ch.width=e.width,Ch.height=e.height;var n=Ch.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Ch}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=_h("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*Mh(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*Mh(o[s]/255)):o[s]=Mh(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),Zh=0,Oh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,I.Z)(this,e),this.isSource=!0,Object.defineProperty(this,"id",{value:Zh++}),this.uuid=oh(),this.data=t,this.version=0}return(0,L.Z)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(Nh(r[a].image)):i.push(Nh(r[a]))}else i=Nh(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function Nh(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?Lh.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Uh=0,Dh=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nc,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Nc,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Hc,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vc,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:sf,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Xc,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:hd;return(0,I.Z)(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty((0,z.Z)(e),"id",{value:Uh++}),e.uuid=oh(),e.name="",e.source=new Oh(r),e.mipmaps=[],e.mapping=i,e.channel=0,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=u,e.anisotropy=f,e.format=l,e.internalFormat=null,e.type=c,e.offset=new mh(0,0),e.repeat=new mh(1,1),e.center=new mh(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new gh,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,"string"===typeof d?e.colorSpace=d:(Eh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),e.colorSpace=d===ud?pd:hd),e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return(0,L.Z)(n,[{key:"image",get:function(){return this.source.data},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping!==Cc)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Oc:e.x=e.x-Math.floor(e.x);break;case Nc:e.x=e.x<0?0:1;break;case Uc:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Oc:e.y=e.y-Math.floor(e.y);break;case Nc:e.y=e.y<0?0:1;break;case Uc:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}},{key:"encoding",get:function(){return Eh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===pd?ud:sd},set:function(e){Eh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===ud?pd:hd}}]),n}(th);Dh.DEFAULT_IMAGE=null,Dh.DEFAULT_MAPPING=Cc,Dh.DEFAULT_ANISOTROPY=1;var Bh=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,I.Z)(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}return(0,L.Z)(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,u=s[0],l=s[4],c=s[8],f=s[1],d=s[5],h=s[9],p=s[2],v=s[6],m=s[10];if(Math.abs(l-f)<a&&Math.abs(c-p)<a&&Math.abs(h-v)<a){if(Math.abs(l+f)<o&&Math.abs(c+p)<o&&Math.abs(h+v)<o&&Math.abs(u+d+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(u+1)/2,y=(d+1)/2,b=(m+1)/2,w=(l+f)/4,x=(c+p)/4,_=(h+v)/4;return g>y&&g>b?g<a?(n=0,r=.707106781,i=.707106781):(r=w/(n=Math.sqrt(g)),i=x/n):y>b?y<a?(n=.707106781,r=0,i=.707106781):(n=w/(r=Math.sqrt(y)),i=_/r):b<a?(n=.707106781,r=.707106781,i=0):(n=x/(i=Math.sqrt(b)),r=_/i),this.set(n,r,i,t),this}var S=Math.sqrt((v-h)*(v-h)+(c-p)*(c-p)+(f-l)*(f-l));return Math.abs(S)<.001&&(S=1),this.x=(v-h)/S,this.y=(c-p)/S,this.z=(f-l)/S,this.w=Math.acos((u+d+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:e,value:(0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),Fh=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,I.Z)(this,n),(e=t.call(this)).isWebGLRenderTarget=!0,e.width=r,e.height=i,e.depth=1,e.scissor=new Bh(0,0,r,i),e.scissorTest=!1,e.viewport=new Bh(0,0,r,i);var o={width:r,height:i,depth:1};return void 0!==a.encoding&&(Eh("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),a.colorSpace=a.encoding===ud?pd:hd),e.texture=new Dh(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,e.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,e.texture.minFilter=void 0!==a.minFilter?a.minFilter:Hc,e.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,e.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,e.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,e.samples=void 0!==a.samples?a.samples:0,e}return(0,L.Z)(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new Oh(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(th),zh=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,I.Z)(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=Dc,e.minFilter=Dc,e.wrapR=Nc,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,L.Z)(n)}(Dh),jh=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,I.Z)(this,n),(e=t.call(this,r,i)).isWebGLArrayRenderTarget=!0,e.depth=a,e.texture=new zh(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return(0,L.Z)(n)}(Fh),Hh=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,I.Z)(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=Dc,e.minFilter=Dc,e.wrapR=Nc,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,L.Z)(n)}(Dh),Gh=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,I.Z)(this,n),(e=t.call(this,r,i)).isWebGL3DRenderTarget=!0,e.depth=a,e.texture=new Hh(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return(0,L.Z)(n)}(Fh),Wh=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,I.Z)(this,n),(e=t.call(this,r,i,o)).isWebGLMultipleRenderTargets=!0;var s=e.texture;e.texture=[];for(var u=0;u<a;u++)e.texture[u]=s.clone(),e.texture[u].isRenderTargetTexture=!0;return e}return(0,L.Z)(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}]),n}(Fh),Vh=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,I.Z)(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}return(0,L.Z)(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,u=o(n/2),l=o(r/2),c=o(i/2),f=s(n/2),d=s(r/2),h=s(i/2);switch(a){case"XYZ":this._x=f*l*c+u*d*h,this._y=u*d*c-f*l*h,this._z=u*l*h+f*d*c,this._w=u*l*c-f*d*h;break;case"YXZ":this._x=f*l*c+u*d*h,this._y=u*d*c-f*l*h,this._z=u*l*h-f*d*c,this._w=u*l*c+f*d*h;break;case"ZXY":this._x=f*l*c-u*d*h,this._y=u*d*c+f*l*h,this._z=u*l*h+f*d*c,this._w=u*l*c-f*d*h;break;case"ZYX":this._x=f*l*c-u*d*h,this._y=u*d*c+f*l*h,this._z=u*l*h-f*d*c,this._w=u*l*c+f*d*h;break;case"YZX":this._x=f*l*c+u*d*h,this._y=u*d*c+f*l*h,this._z=u*l*h-f*d*c,this._w=u*l*c-f*d*h;break;case"XZY":this._x=f*l*c-u*d*h,this._y=u*d*c-f*l*h,this._z=u*l*h+f*d*c,this._w=u*l*c+f*d*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],u=t[2],l=t[6],c=t[10],f=n+o+c;if(f>0){var d=.5/Math.sqrt(f+1);this._w=.25/d,this._x=(l-s)*d,this._y=(i-u)*d,this._z=(a-r)*d}else if(n>o&&n>c){var h=2*Math.sqrt(1+n-o-c);this._w=(l-s)/h,this._x=.25*h,this._y=(r+a)/h,this._z=(i+u)/h}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-u)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+l)/p}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-r)/v,this._x=(i+u)/v,this._y=(s+l)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(sh(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=n*l+a*o+r*u-i*s,this._y=r*l+a*s+i*o-n*u,this._z=i*l+a*u+n*s-r*o,this._w=a*l-n*o-r*s-i*u,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*a+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),c=Math.atan2(l,o),f=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=a*f+this._w*d,this._x=n*f+this._x*d,this._y=r*f+this._y*d,this._z=i*f+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:e,value:(0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],f=i[a+0],d=i[a+1],h=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=u,e[t+2]=l,void(e[t+3]=c);if(1===o)return e[t+0]=f,e[t+1]=d,e[t+2]=h,void(e[t+3]=p);if(c!==p||s!==f||u!==d||l!==h){var v=1-o,m=s*f+u*d+l*h+c*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var b=Math.sqrt(y),w=Math.atan2(b,m*g);v=Math.sin(v*w)/b,o=Math.sin(o*w)/b}var x=o*g;if(s=s*v+f*x,u=u*v+d*x,l=l*v+h*x,c=c*v+p*x,v===1-o){var _=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=_,u*=_,l*=_,c*=_}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],u=n[r+2],l=n[r+3],c=i[a],f=i[a+1],d=i[a+2],h=i[a+3];return e[t]=o*h+l*c+s*d-u*f,e[t+1]=s*h+l*f+u*c-o*d,e[t+2]=u*h+l*d+o*f-s*c,e[t+3]=l*h-o*c-s*f-u*d,e}}]),t}(Symbol.iterator),qh=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,I.Z)(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return(0,L.Z)(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(Yh.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Yh.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*r-o*n,l=s*n+o*t-i*r,c=s*r+i*n-a*t,f=-i*t-a*n-o*r;return this.x=u*s+f*-i+l*-o-c*-a,this.y=l*s+f*-a+c*-i-u*-o,this.z=c*s+f*-o+u*-a-l*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return Xh.copy(this).projectOnVector(e),this.sub(Xh)}},{key:"reflect",value:function(e){return this.sub(Xh.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(sh(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"setFromColor",value:function(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:e,value:(0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),Xh=new qh,Yh=new Vh,Qh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qh(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qh(-1/0,-1/0,-1/0);(0,I.Z)(this,e),this.isBox3=!0,this.min=t,this.max=n}return(0,L.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t+=3)this.expandByPoint(Jh.fromArray(e,t));return this}},{key:"setFromBufferAttribute",value:function(e){this.makeEmpty();for(var t=0,n=e.count;t<n;t++)this.expandByPoint(Jh.fromBufferAttribute(e,t));return this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Jh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),$h.copy(e.boundingBox),$h.applyMatrix4(e.matrixWorld),this.union($h);else{var n=e.geometry;if(void 0!==n)if(t&&void 0!==n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,a=r.count;i<a;i++)Jh.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(Jh);else null===n.boundingBox&&n.computeBoundingBox(),$h.copy(n.boundingBox),$h.applyMatrix4(e.matrixWorld),this.union($h)}for(var o=e.children,s=0,u=o.length;s<u;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Jh),Jh.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(op),sp.subVectors(this.max,op),ep.subVectors(e.a,op),tp.subVectors(e.b,op),np.subVectors(e.c,op),rp.subVectors(tp,ep),ip.subVectors(np,tp),ap.subVectors(ep,np);var t=[0,-rp.z,rp.y,0,-ip.z,ip.y,0,-ap.z,ap.y,rp.z,0,-rp.x,ip.z,0,-ip.x,ap.z,0,-ap.x,-rp.y,rp.x,0,-ip.y,ip.x,0,-ap.y,ap.x,0];return!!cp(t,ep,tp,np,sp)&&(!!cp(t=[1,0,0,0,1,0,0,0,1],ep,tp,np,sp)&&(up.crossVectors(rp,ip),cp(t=[up.x,up.y,up.z],ep,tp,np,sp)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,Jh).distanceTo(e)}},{key:"getBoundingSphere",value:function(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Jh).length()),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Kh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Kh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Kh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Kh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Kh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Kh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Kh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Kh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Kh)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Kh=[new qh,new qh,new qh,new qh,new qh,new qh,new qh,new qh],Jh=new qh,$h=new Qh,ep=new qh,tp=new qh,np=new qh,rp=new qh,ip=new qh,ap=new qh,op=new qh,sp=new qh,up=new qh,lp=new qh;function cp(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){lp.fromArray(e,a);var s=i.x*Math.abs(lp.x)+i.y*Math.abs(lp.y)+i.z*Math.abs(lp.z),u=t.dot(lp),l=n.dot(lp),c=r.dot(lp);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}var fp=new Qh,dp=new qh,hp=new qh,pp=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qh,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;(0,I.Z)(this,e),this.center=t,this.radius=n}return(0,L.Z)(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):fp.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;dp.subVectors(e,this.center);var t=dp.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(dp,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(hp.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(dp.copy(e.center).add(hp)),this.expandByPoint(dp.copy(e.center).sub(hp))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),vp=new qh,mp=new qh,gp=new qh,yp=new qh,bp=new qh,wp=new qh,xp=new qh,_p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qh,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qh(0,0,-1);(0,I.Z)(this,e),this.origin=t,this.direction=n}return(0,L.Z)(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,vp)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=vp.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(vp.copy(this.origin).addScaledVector(this.direction,t),vp.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){mp.copy(e).add(t).multiplyScalar(.5),gp.copy(t).sub(e).normalize(),yp.copy(this.origin).sub(mp);var i,a,o,s,u=.5*e.distanceTo(t),l=-this.direction.dot(gp),c=yp.dot(this.direction),f=-yp.dot(gp),d=yp.lengthSq(),h=Math.abs(1-l*l);if(h>0)if(a=l*c-f,s=u*h,(i=l*f-c)>=0)if(a>=-s)if(a<=s){var p=1/h;o=(i*=p)*(i+l*(a*=p)+2*c)+a*(l*i+a+2*f)+d}else a=u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+d;else a=-u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+d;else a<=-s?o=-(i=Math.max(0,-(-l*u+c)))*i+(a=i>0?-u:Math.min(Math.max(-u,-f),u))*(a+2*f)+d:a<=s?(i=0,o=(a=Math.min(Math.max(-u,-f),u))*(a+2*f)+d):o=-(i=Math.max(0,-(l*u+c)))*i+(a=i>0?u:Math.min(Math.max(-u,-f),u))*(a+2*f)+d;else a=l>0?-u:u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,i),r&&r.copy(mp).addScaledVector(gp,a),o}},{key:"intersectSphere",value:function(e,t){vp.subVectors(e.center,this.origin);var n=vp.dot(this.direction),r=vp.dot(vp)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,f=this.origin;return u>=0?(n=(e.min.x-f.x)*u,r=(e.max.x-f.x)*u):(n=(e.max.x-f.x)*u,r=(e.min.x-f.x)*u),l>=0?(i=(e.min.y-f.y)*l,a=(e.max.y-f.y)*l):(i=(e.max.y-f.y)*l,a=(e.min.y-f.y)*l),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-f.z)*c,s=(e.max.z-f.z)*c):(o=(e.max.z-f.z)*c,s=(e.min.z-f.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,vp)}},{key:"intersectTriangle",value:function(e,t,n,r,i){bp.subVectors(t,e),wp.subVectors(n,e),xp.crossVectors(bp,wp);var a,o=this.direction.dot(xp);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}yp.subVectors(this.origin,e);var s=a*this.direction.dot(wp.crossVectors(yp,wp));if(s<0)return null;var u=a*this.direction.dot(bp.cross(yp));if(u<0)return null;if(s+u>o)return null;var l=-a*yp.dot(xp);return l<0?null:this.at(l/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Sp=function(){function e(t,n,r,i,a,o,s,u,l,c,f,d,h,p,v,m){(0,I.Z)(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,u,l,c,f,d,h,p,v,m)}return(0,L.Z)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u,l,c,f,d,h,p,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=u,m[6]=l,m[10]=c,m[14]=f,m[3]=d,m[7]=h,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/Ep.setFromMatrixColumn(e,0).length(),i=1/Ep.setFromMatrixColumn(e,1).length(),a=1/Ep.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var f=a*l,d=a*c,h=o*l,p=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=d+h*u,t[5]=f-p*u,t[9]=-o*s,t[2]=p-f*u,t[6]=h+d*u,t[10]=a*s}else if("YXZ"===e.order){var v=s*l,m=s*c,g=u*l,y=u*c;t[0]=v+y*o,t[4]=g*o-m,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=m*o-g,t[6]=y+v*o,t[10]=a*s}else if("ZXY"===e.order){var b=s*l,w=s*c,x=u*l,_=u*c;t[0]=b-_*o,t[4]=-a*c,t[8]=x+w*o,t[1]=w+x*o,t[5]=a*l,t[9]=_-b*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var S=a*l,E=a*c,M=o*l,A=o*c;t[0]=s*l,t[4]=M*u-E,t[8]=S*u+A,t[1]=s*c,t[5]=A*u+S,t[9]=E*u-M,t[2]=-u,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var k=a*s,T=a*u,C=o*s,P=o*u;t[0]=s*l,t[4]=P-k*c,t[8]=C*c+T,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=T*c+C,t[10]=k-P*c}else if("XZY"===e.order){var R=a*s,I=a*u,L=o*s,Z=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=R*c+Z,t[5]=a*l,t[9]=I*c-L,t[2]=L*c-I,t[6]=o*l,t[10]=Z*c+R}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Ap,e,kp)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return Pp.subVectors(e,t),0===Pp.lengthSq()&&(Pp.z=1),Pp.normalize(),Tp.crossVectors(n,Pp),0===Tp.lengthSq()&&(1===Math.abs(n.z)?Pp.x+=1e-4:Pp.z+=1e-4,Pp.normalize(),Tp.crossVectors(n,Pp)),Tp.normalize(),Cp.crossVectors(Pp,Tp),r[0]=Tp.x,r[4]=Cp.x,r[8]=Pp.x,r[1]=Tp.y,r[5]=Cp.y,r[9]=Pp.y,r[2]=Tp.z,r[6]=Cp.z,r[10]=Pp.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],l=n[1],c=n[5],f=n[9],d=n[13],h=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],b=n[11],w=n[15],x=r[0],_=r[4],S=r[8],E=r[12],M=r[1],A=r[5],k=r[9],T=r[13],C=r[2],P=r[6],R=r[10],I=r[14],L=r[3],Z=r[7],O=r[11],N=r[15];return i[0]=a*x+o*M+s*C+u*L,i[4]=a*_+o*A+s*P+u*Z,i[8]=a*S+o*k+s*R+u*O,i[12]=a*E+o*T+s*I+u*N,i[1]=l*x+c*M+f*C+d*L,i[5]=l*_+c*A+f*P+d*Z,i[9]=l*S+c*k+f*R+d*O,i[13]=l*E+c*T+f*I+d*N,i[2]=h*x+p*M+v*C+m*L,i[6]=h*_+p*A+v*P+m*Z,i[10]=h*S+p*k+v*R+m*O,i[14]=h*E+p*T+v*I+m*N,i[3]=g*x+y*M+b*C+w*L,i[7]=g*_+y*A+b*P+w*Z,i[11]=g*S+y*k+b*R+w*O,i[15]=g*E+y*T+b*I+w*N,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],f=e[10],d=e[14];return e[3]*(+i*s*c-r*u*c-i*o*f+n*u*f+r*o*d-n*s*d)+e[7]*(+t*s*d-t*u*f+i*a*f-r*a*d+r*u*l-i*s*l)+e[11]*(+t*u*c-t*o*d-i*a*c+n*a*d+i*o*l-n*u*l)+e[15]*(-r*o*l-t*s*c+t*o*f+r*a*c-n*a*f+n*s*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],d=e[11],h=e[12],p=e[13],v=e[14],m=e[15],g=c*v*u-p*f*u+p*s*d-o*v*d-c*s*m+o*f*m,y=h*f*u-l*v*u-h*s*d+a*v*d+l*s*m-a*f*m,b=l*p*u-h*c*u+h*o*d-a*p*d-l*o*m+a*c*m,w=h*c*s-l*p*s-h*o*f+a*p*f+l*o*v-a*c*v,x=t*g+n*y+r*b+i*w;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var _=1/x;return e[0]=g*_,e[1]=(p*f*i-c*v*i-p*r*d+n*v*d+c*r*m-n*f*m)*_,e[2]=(o*v*i-p*s*i+p*r*u-n*v*u-o*r*m+n*s*m)*_,e[3]=(c*s*i-o*f*i-c*r*u+n*f*u+o*r*d-n*s*d)*_,e[4]=y*_,e[5]=(l*v*i-h*f*i+h*r*d-t*v*d-l*r*m+t*f*m)*_,e[6]=(h*s*i-a*v*i-h*r*u+t*v*u+a*r*m-t*s*m)*_,e[7]=(a*f*i-l*s*i+l*r*u-t*f*u-a*r*d+t*s*d)*_,e[8]=b*_,e[9]=(h*c*i-l*p*i-h*n*d+t*p*d+l*n*m-t*c*m)*_,e[10]=(a*p*i-h*o*i+h*n*u-t*p*u-a*n*m+t*o*m)*_,e[11]=(l*o*i-a*c*i-l*n*u+t*c*u+a*n*d-t*o*d)*_,e[12]=w*_,e[13]=(l*p*r-h*c*r+h*n*f-t*p*f-l*n*v+t*c*v)*_,e[14]=(h*o*r-a*p*r-h*n*s+t*p*s+a*n*v-t*o*v)*_,e[15]=(a*c*r-l*o*r+l*n*s-t*c*s-a*n*f+t*o*f)*_,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,u=i*a,l=i*o;return this.set(u*a+n,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+n,l*s-r*a,0,u*s-r*o,l*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,u=i+i,l=a+a,c=o+o,f=i*u,d=i*l,h=i*c,p=a*l,v=a*c,m=o*c,g=s*u,y=s*l,b=s*c,w=n.x,x=n.y,_=n.z;return r[0]=(1-(p+m))*w,r[1]=(d+b)*w,r[2]=(h-y)*w,r[3]=0,r[4]=(d-b)*x,r[5]=(1-(f+m))*x,r[6]=(v+g)*x,r[7]=0,r[8]=(h+y)*_,r[9]=(v-g)*_,r[10]=(1-(f+p))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=Ep.set(r[0],r[1],r[2]).length(),a=Ep.set(r[4],r[5],r[6]).length(),o=Ep.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Mp.copy(this);var s=1/i,u=1/a,l=1/o;return Mp.elements[0]*=s,Mp.elements[1]*=s,Mp.elements[2]*=s,Mp.elements[4]*=u,Mp.elements[5]*=u,Mp.elements[6]*=u,Mp.elements[8]*=l,Mp.elements[9]*=l,Mp.elements[10]*=l,t.setFromRotationMatrix(Mp),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o,s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$d,l=this.elements,c=2*i/(t-e),f=2*i/(n-r),d=(t+e)/(t-e),h=(n+r)/(n-r);if(u===$d)o=-(a+i)/(a-i),s=-2*a*i/(a-i);else{if(u!==eh)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);o=-a/(a-i),s=-a*i/(a-i)}return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=f,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=o,l[14]=s,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o,s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$d,l=this.elements,c=1/(t-e),f=1/(n-r),d=1/(a-i),h=(t+e)*c,p=(n+r)*f;if(u===$d)o=(a+i)*d,s=-2*d;else{if(u!==eh)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);o=i*d,s=-1*d}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=s,l[14]=-o,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),Ep=new qh,Mp=new Sp,Ap=new qh(0,0,0),kp=new qh(1,1,1),Tp=new qh,Cp=new qh,Pp=new qh,Rp=new Sp,Ip=new Vh,Lp=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_ORDER;(0,I.Z)(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}return(0,L.Z)(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],u=r[5],l=r[9],c=r[2],f=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(sh(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-sh(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,u)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(sh(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-sh(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(f,d),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(sh(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-sh(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-l,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return Rp.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Rp,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Ip.setFromEuler(this),this.setFromQuaternion(Ip,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:e,value:(0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);Lp.DEFAULT_ORDER="XYZ";var Zp=function(){function e(){(0,I.Z)(this,e),this.mask=1}return(0,L.Z)(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),Op=0,Np=new qh,Up=new Vh,Dp=new Sp,Bp=new qh,Fp=new qh,zp=new qh,jp=new Vh,Hp=new qh(1,0,0),Gp=new qh(0,1,0),Wp=new qh(0,0,1),Vp={type:"added"},qp={type:"removed"},Xp=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;(0,I.Z)(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty((0,z.Z)(e),"id",{value:Op++}),e.uuid=oh(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DEFAULT_UP.clone();var r=new qh,i=new Lp,a=new Vh,o=new qh(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties((0,z.Z)(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Sp},normalMatrix:{value:new gh}}),e.matrix=new Sp,e.matrixWorld=new Sp,e.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.layers=new Zp,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return(0,L.Z)(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return Up.setFromAxisAngle(e,t),this.quaternion.multiply(Up),this}},{key:"rotateOnWorldAxis",value:function(e,t){return Up.setFromAxisAngle(e,t),this.quaternion.premultiply(Up),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(Hp,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(Gp,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(Wp,e)}},{key:"translateOnAxis",value:function(e,t){return Np.copy(e).applyQuaternion(this.quaternion),this.position.add(Np.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(Hp,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(Gp,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(Wp,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Dp.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?Bp.copy(e):Bp.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Fp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Dp.lookAt(Fp,Bp,this.up):Dp.lookAt(Bp,Fp,this.up),this.quaternion.setFromRotationMatrix(Dp),r&&(Dp.extractRotation(r.matrixWorld),Up.setFromRotationMatrix(Dp),this.quaternion.premultiply(Up.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Vp)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(qp)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(qp)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Dp.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Dp.multiply(e.parent.matrixWorld)),e.applyMatrix4(Dp),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(e,t){var n=[];this[e]===t&&n.push(this);for(var r=0,i=this.children.length;r<i;r++){var a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Fp,e,zp),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Fp,jp,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];i(e.shapes,l)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],f=0,d=this.material.length;f<d;f++)c.push(i(e.materials,this.material[f]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var h=0;h<this.children.length;h++)r.children.push(this.children[h].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];r.animations.push(i(e.animations,v))}}if(t){var m=E(e.geometries),g=E(e.materials),y=E(e.textures),b=E(e.images),w=E(e.shapes),x=E(e.skeletons),_=E(e.animations),S=E(e.nodes);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),w.length>0&&(n.shapes=w),x.length>0&&(n.skeletons=x),_.length>0&&(n.animations=_),S.length>0&&(n.nodes=S)}return n.object=r,n;function E(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(th);Xp.DEFAULT_UP=new qh(0,1,0),Xp.DEFAULT_MATRIX_AUTO_UPDATE=!0,Xp.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Yp=new qh,Qp=new qh,Kp=new qh,Jp=new qh,$p=new qh,ev=new qh,tv=new qh,nv=new qh,rv=new qh,iv=new qh,av=!1,ov=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qh,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qh,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new qh;(0,I.Z)(this,e),this.a=t,this.b=n,this.c=r}return(0,L.Z)(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Yp.subVectors(this.c,this.b),Qp.subVectors(this.a,this.b),.5*Yp.cross(Qp).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return!1===av&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),av=!0),e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"getInterpolation",value:function(t,n,r,i,a){return e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;$p.subVectors(a,i),ev.subVectors(o,i),nv.subVectors(e,i);var s=$p.dot(nv),u=ev.dot(nv);if(s<=0&&u<=0)return t.copy(i);rv.subVectors(e,a);var l=$p.dot(rv),c=ev.dot(rv);if(l>=0&&c<=l)return t.copy(a);var f=s*c-l*u;if(f<=0&&s>=0&&l<=0)return n=s/(s-l),t.copy(i).addScaledVector($p,n);iv.subVectors(e,o);var d=$p.dot(iv),h=ev.dot(iv);if(h>=0&&d<=h)return t.copy(o);var p=d*u-s*h;if(p<=0&&u>=0&&h<=0)return r=u/(u-h),t.copy(i).addScaledVector(ev,r);var v=l*h-d*c;if(v<=0&&c-l>=0&&d-h>=0)return tv.subVectors(o,a),r=(c-l)/(c-l+(d-h)),t.copy(a).addScaledVector(tv,r);var m=1/(v+p+f);return n=p*m,r=f*m,t.copy(i).addScaledVector($p,n).addScaledVector(ev,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),Yp.subVectors(e,t),r.cross(Yp);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){Yp.subVectors(r,t),Qp.subVectors(n,t),Kp.subVectors(e,t);var a=Yp.dot(Yp),o=Yp.dot(Qp),s=Yp.dot(Kp),u=Qp.dot(Qp),l=Qp.dot(Kp),c=a*u-o*o;if(0===c)return i.set(-2,-1,-1);var f=1/c,d=(u*s-o*l)*f,h=(a*l-o*s)*f;return i.set(1-d-h,h,d)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,Jp),Jp.x>=0&&Jp.y>=0&&Jp.x+Jp.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return!1===av&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),av=!0),this.getInterpolation(e,t,n,r,i,a,o,s)}},{key:"getInterpolation",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,Jp),s.setScalar(0),s.addScaledVector(i,Jp.x),s.addScaledVector(a,Jp.y),s.addScaledVector(o,Jp.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return Yp.subVectors(n,t),Qp.subVectors(e,t),Yp.cross(Qp).dot(r)<0}}]),e}(),sv=0,uv=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty((0,z.Z)(e),"id",{value:sv++}),e.uuid=oh(),e.name="",e.type="Material",e.blending=Wl,e.side=Fl,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.alphaHash=!1,e.blendSrc=ac,e.blendDst=oc,e.blendEquation=Ql,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=vc,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=Id,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=yd,e.stencilZFail=yd,e.stencilZPass=yd,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return(0,L.Z)(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}else console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."))}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Wl&&(n.blending=this.blending),this.side!==Fl&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=this.alphaHash),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(th),lv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},cv={h:0,s:0,l:0},fv={h:0,s:0,l:0};function dv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var hv=function(e){function t(e,n,r){return(0,I.Z)(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}return(0,L.Z)(t,[{key:"set",value:function(e,t,n){if(void 0===t&&void 0===n){var r=e;r&&r.isColor?this.copy(r):"number"===typeof r?this.setHex(r):"string"===typeof r&&this.setStyle(r)}else this.setRGB(e,t,n);return this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pd;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Ih.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ih.workingColorSpace;return this.r=e,this.g=t,this.b=n,Ih.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ih.workingColorSpace;if(e=uh(e,1),t=sh(t,0,1),n=sh(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=dv(a,i,e+1/3),this.g=dv(a,i,e),this.b=dv(a,i,e-1/3)}return Ih.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pd;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var s=t[1],u=s.length;if(3===u)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(6===u)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pd,n=lv[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=Mh(e.r),this.g=Mh(e.g),this.b=Mh(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Ah(e.r),this.g=Ah(e.g),this.b=Ah(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pd;return Ih.fromWorkingColorSpace(pv.copy(this),e),65536*Math.round(sh(255*pv.r,0,255))+256*Math.round(sh(255*pv.g,0,255))+Math.round(sh(255*pv.b,0,255))}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pd;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ih.workingColorSpace;Ih.fromWorkingColorSpace(pv.copy(this),t);var n,r,i=pv.r,a=pv.g,o=pv.b,s=Math.max(i,a,o),u=Math.min(i,a,o),l=(u+s)/2;if(u===s)n=0,r=0;else{var c=s-u;switch(r=l<=.5?c/(s+u):c/(2-s-u),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=l,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ih.workingColorSpace;return Ih.fromWorkingColorSpace(pv.copy(this),t),e.r=pv.r,e.g=pv.g,e.b=pv.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pd;Ih.fromWorkingColorSpace(pv.copy(this),e);var t=pv.r,n=pv.g,r=pv.b;return e!==pd?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(cv),cv.h+=e,cv.s+=t,cv.l+=n,this.setHSL(cv.h,cv.s,cv.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(cv),e.getHSL(fv);var n=lh(cv.h,fv.h,t),r=lh(cv.s,fv.s,t),i=lh(cv.l,fv.l,t);return this.setHSL(n,r,i),this}},{key:"setFromVector3",value:function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}},{key:"applyMatrix3",value:function(e){var t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:e,value:(0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),pv=new hv;hv.NAMES=lv;var vv=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new hv(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=wc,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(uv),mv=gv();function gv(){for(var e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512),a=0;a<256;++a){var o=a-127;o<-27?(r[a]=0,r[256|a]=32768,i[a]=24,i[256|a]=24):o<-14?(r[a]=1024>>-o-14,r[256|a]=1024>>-o-14|32768,i[a]=-o-1,i[256|a]=-o-1):o<=15?(r[a]=o+15<<10,r[256|a]=o+15<<10|32768,i[a]=13,i[256|a]=13):o<128?(r[a]=31744,r[256|a]=64512,i[a]=24,i[256|a]=24):(r[a]=31744,r[256|a]=64512,i[a]=13,i[256|a]=13)}for(var s=new Uint32Array(2048),u=new Uint32Array(64),l=new Uint32Array(64),c=1;c<1024;++c){for(var f=c<<13,d=0;0===(8388608&f);)f<<=1,d-=8388608;f&=-8388609,d+=947912704,s[c]=f|d}for(var h=1024;h<2048;++h)s[h]=939524096+(h-1024<<13);for(var p=1;p<31;++p)u[p]=p<<23;u[31]=1199570944,u[32]=2147483648;for(var v=33;v<63;++v)u[v]=2147483648+(v-32<<23);u[63]=3347054592;for(var m=1;m<64;++m)32!==m&&(l[m]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:u,offsetTable:l}}function yv(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=sh(e,-65504,65504),mv.floatView[0]=e;var t=mv.uint32View[0],n=t>>23&511;return mv.baseTable[n]+((8388607&t)>>mv.shiftTable[n])}function bv(e){var t=e>>10;return mv.uint32View[0]=mv.mantissaTable[mv.offsetTable[t]+(1023&e)]+mv.exponentTable[t],mv.floatView[0]}var wv={toHalfFloat:yv,fromHalfFloat:bv},xv=new qh,_v=new mh,Sv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,I.Z)(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=r,this.usage=zd,this.updateRange={offset:0,count:-1},this.gpuType=ef,this.version=0}return(0,L.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)_v.fromBufferAttribute(this,t),_v.applyMatrix3(e),this.setXY(t,_v.x,_v.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)xv.fromBufferAttribute(this,r),xv.applyMatrix3(e),this.setXYZ(r,xv.x,xv.y,xv.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)xv.fromBufferAttribute(this,t),xv.applyMatrix4(e),this.setXYZ(t,xv.x,xv.y,xv.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)xv.fromBufferAttribute(this,t),xv.applyNormalMatrix(e),this.setXYZ(t,xv.x,xv.y,xv.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)xv.fromBufferAttribute(this,t),xv.transformDirection(e),this.setXYZ(t,xv.x,xv.y,xv.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=hh(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=ph(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=hh(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=ph(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=hh(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=ph(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=hh(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=ph(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=ph(t,this.array),n=ph(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=ph(t,this.array),n=ph(n,this.array),r=ph(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=ph(t,this.array),n=ph(n,this.array),r=ph(r,this.array),i=ph(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==zd&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}(),Ev=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){return(0,I.Z)(this,n),t.call(this,new Int8Array(e),r,i)}return(0,L.Z)(n)}(Sv),Mv=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){return(0,I.Z)(this,n),t.call(this,new Uint8Array(e),r,i)}return(0,L.Z)(n)}(Sv),Av=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){return(0,I.Z)(this,n),t.call(this,new Uint8ClampedArray(e),r,i)}return(0,L.Z)(n)}(Sv),kv=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){return(0,I.Z)(this,n),t.call(this,new Int16Array(e),r,i)}return(0,L.Z)(n)}(Sv),Tv=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){return(0,I.Z)(this,n),t.call(this,new Uint16Array(e),r,i)}return(0,L.Z)(n)}(Sv),Cv=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){return(0,I.Z)(this,n),t.call(this,new Int32Array(e),r,i)}return(0,L.Z)(n)}(Sv),Pv=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){return(0,I.Z)(this,n),t.call(this,new Uint32Array(e),r,i)}return(0,L.Z)(n)}(Sv),Rv=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){var a;return(0,I.Z)(this,n),(a=t.call(this,new Uint16Array(e),r,i)).isFloat16BufferAttribute=!0,a}return(0,L.Z)(n,[{key:"getX",value:function(e){var t=bv(this.array[e*this.itemSize]);return this.normalized&&(t=hh(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=ph(t,this.array)),this.array[e*this.itemSize]=yv(t),this}},{key:"getY",value:function(e){var t=bv(this.array[e*this.itemSize+1]);return this.normalized&&(t=hh(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=ph(t,this.array)),this.array[e*this.itemSize+1]=yv(t),this}},{key:"getZ",value:function(e){var t=bv(this.array[e*this.itemSize+2]);return this.normalized&&(t=hh(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=ph(t,this.array)),this.array[e*this.itemSize+2]=yv(t),this}},{key:"getW",value:function(e){var t=bv(this.array[e*this.itemSize+3]);return this.normalized&&(t=hh(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=ph(t,this.array)),this.array[e*this.itemSize+3]=yv(t),this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=ph(t,this.array),n=ph(n,this.array)),this.array[e+0]=yv(t),this.array[e+1]=yv(n),this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=ph(t,this.array),n=ph(n,this.array),r=ph(r,this.array)),this.array[e+0]=yv(t),this.array[e+1]=yv(n),this.array[e+2]=yv(r),this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=ph(t,this.array),n=ph(n,this.array),r=ph(r,this.array),i=ph(i,this.array)),this.array[e+0]=yv(t),this.array[e+1]=yv(n),this.array[e+2]=yv(r),this.array[e+3]=yv(i),this}}]),n}(Sv),Iv=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){return(0,I.Z)(this,n),t.call(this,new Float32Array(e),r,i)}return(0,L.Z)(n)}(Sv),Lv=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){return(0,I.Z)(this,n),t.call(this,new Float64Array(e),r,i)}return(0,L.Z)(n)}(Sv),Zv=0,Ov=new Sp,Nv=new Xp,Uv=new qh,Dv=new Qh,Bv=new Qh,Fv=new qh,zv=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty((0,z.Z)(e),"id",{value:Zv++}),e.uuid=oh(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return(0,L.Z)(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(bh(e)?Pv:Tv)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new gh).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Ov.makeRotationFromQuaternion(e),this.applyMatrix4(Ov),this}},{key:"rotateX",value:function(e){return Ov.makeRotationX(e),this.applyMatrix4(Ov),this}},{key:"rotateY",value:function(e){return Ov.makeRotationY(e),this.applyMatrix4(Ov),this}},{key:"rotateZ",value:function(e){return Ov.makeRotationZ(e),this.applyMatrix4(Ov),this}},{key:"translate",value:function(e,t,n){return Ov.makeTranslation(e,t,n),this.applyMatrix4(Ov),this}},{key:"scale",value:function(e,t,n){return Ov.makeScale(e,t,n),this.applyMatrix4(Ov),this}},{key:"lookAt",value:function(e){return Nv.lookAt(e),Nv.updateMatrix(),this.applyMatrix4(Nv.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Uv).negate(),this.translate(Uv.x,Uv.y,Uv.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Iv(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Qh);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new qh(-1/0,-1/0,-1/0),new qh(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];Dv.setFromBufferAttribute(i),this.morphTargetsRelative?(Fv.addVectors(this.boundingBox.min,Dv.min),this.boundingBox.expandByPoint(Fv),Fv.addVectors(this.boundingBox.max,Dv.max),this.boundingBox.expandByPoint(Fv)):(this.boundingBox.expandByPoint(Dv.min),this.boundingBox.expandByPoint(Dv.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new pp);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new qh,1/0);if(e){var n=this.boundingSphere.center;if(Dv.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];Bv.setFromBufferAttribute(a),this.morphTargetsRelative?(Fv.addVectors(Dv.min,Bv.min),Dv.expandByPoint(Fv),Fv.addVectors(Dv.max,Bv.max),Dv.expandByPoint(Fv)):(Dv.expandByPoint(Bv.min),Dv.expandByPoint(Bv.max))}Dv.getCenter(n);for(var o=0,s=0,u=e.count;s<u;s++)Fv.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(Fv));if(t)for(var l=0,c=t.length;l<c;l++)for(var f=t[l],d=this.morphTargetsRelative,h=0,p=f.count;h<p;h++)Fv.fromBufferAttribute(f,h),d&&(Uv.fromBufferAttribute(e,h),Fv.add(Uv)),o=Math.max(o,n.distanceToSquared(Fv));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Sv(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,u=[],l=[],c=0;c<o;c++)u[c]=new qh,l[c]=new qh;var f=new qh,d=new qh,h=new qh,p=new mh,v=new mh,m=new mh,g=new qh,y=new qh,b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(var w=0,x=b.length;w<x;++w)for(var _=b[w],S=_.start,E=S,M=S+_.count;E<M;E+=3)N(n[E+0],n[E+1],n[E+2]);for(var A=new qh,k=new qh,T=new qh,C=new qh,P=0,R=b.length;P<R;++P)for(var I=b[P],L=I.start,Z=L,O=L+I.count;Z<O;Z+=3)U(n[Z+0]),U(n[Z+1]),U(n[Z+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function N(e,t,n){f.fromArray(r,3*e),d.fromArray(r,3*t),h.fromArray(r,3*n),p.fromArray(a,2*e),v.fromArray(a,2*t),m.fromArray(a,2*n),d.sub(f),h.sub(f),v.sub(p),m.sub(p);var i=1/(v.x*m.y-m.x*v.y);isFinite(i)&&(g.copy(d).multiplyScalar(m.y).addScaledVector(h,-v.y).multiplyScalar(i),y.copy(h).multiplyScalar(v.x).addScaledVector(d,-m.x).multiplyScalar(i),u[e].add(g),u[t].add(g),u[n].add(g),l[e].add(y),l[t].add(y),l[n].add(y))}function U(e){T.fromArray(i,3*e),C.copy(T);var t=u[e];A.copy(t),A.sub(T.multiplyScalar(T.dot(t))).normalize(),k.crossVectors(C,t);var n=k.dot(l[e])<0?-1:1;s[4*e]=A.x,s[4*e+1]=A.y,s[4*e+2]=A.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new Sv(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new qh,o=new qh,s=new qh,u=new qh,l=new qh,c=new qh,f=new qh,d=new qh;if(e)for(var h=0,p=e.count;h<p;h+=3){var v=e.getX(h+0),m=e.getX(h+1),g=e.getX(h+2);a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),f.subVectors(s,o),d.subVectors(a,o),f.cross(d),u.fromBufferAttribute(n,v),l.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),u.add(f),l.add(f),c.add(f),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,b=t.count;y<b;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),f.subVectors(s,o),d.subVectors(a,o),f.cross(d),n.setXYZ(y+0,f.x,f.y,f.z),n.setXYZ(y+1,f.x,f.y,f.z),n.setXYZ(y+2,f.x,f.y,f.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Fv.fromBufferAttribute(e,t),Fv.normalize(),e.setXYZ(t,Fv.x,Fv.y,Fv.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,u=0,l=t.length;u<l;u++){o=e.isInterleavedBufferAttribute?t[u]*e.data.stride+e.offset:t[u]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new Sv(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var s=this.morphAttributes;for(var u in s){for(var l=[],c=s[u],f=0,d=c.length;f<d;f++){var h=e(c[f],r);l.push(h)}t.morphAttributes[u]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,v=0,m=p.length;v<m;v++){var g=p[v];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},u=!1;for(var l in this.morphAttributes){for(var c=this.morphAttributes[l],f=[],d=0,h=c.length;d<h;d++){var p=c[d];f.push(p.toJSON(e.data))}f.length>0&&(s[l]=f,u=!0)}u&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(e.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var u=[],l=o[s],c=0,f=l.length;c<f;c++)u.push(l[c].clone(t));this.morphAttributes[s]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,h=0,p=d.length;h<p;h++){var v=d[h];this.addGroup(v.start,v.count,v.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(th),jv=new Sp,Hv=new _p,Gv=new pp,Wv=new qh,Vv=new qh,qv=new qh,Xv=new qh,Yv=new qh,Qv=new qh,Kv=new mh,Jv=new mh,$v=new mh,em=new qh,tm=new qh,nm=new qh,rm=new qh,im=new qh,am=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zv,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vv;return(0,I.Z)(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,L.Z)(n,[{key:"copy",value:function(e,t){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);var o=this.morphTargetInfluences;if(i&&o){Qv.set(0,0,0);for(var s=0,u=i.length;s<u;s++){var l=o[s],c=i[s];0!==l&&(Yv.fromBufferAttribute(c,e),a?Qv.addScaledVector(Yv,l):Qv.addScaledVector(Yv.sub(t),l))}t.add(Qv)}return t}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),Gv.copy(n.boundingSphere),Gv.applyMatrix4(i),Hv.copy(e.ray).recast(e.near),!1===Gv.containsPoint(Hv.origin)){if(null===Hv.intersectSphere(Gv,Wv))return;if(Hv.origin.distanceToSquared(Wv)>Math.pow(e.far-e.near,2))return}jv.copy(i).invert(),Hv.copy(e.ray).applyMatrix4(jv),null!==n.boundingBox&&!1===Hv.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,Hv)}}},{key:"_computeIntersections",value:function(e,t,n){var r,i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,u=i.attributes.uv,l=i.attributes.uv1,c=i.attributes.normal,f=i.groups,d=i.drawRange;if(null!==o)if(Array.isArray(a))for(var h=0,p=f.length;h<p;h++)for(var v=f[h],m=a[v.materialIndex],g=Math.max(v.start,d.start),y=Math.min(o.count,Math.min(v.start+v.count,d.start+d.count));g<y;g+=3){(r=om(this,m,e,n,u,l,c,o.getX(g),o.getX(g+1),o.getX(g+2)))&&(r.faceIndex=Math.floor(g/3),r.face.materialIndex=v.materialIndex,t.push(r))}else for(var b=Math.max(0,d.start),w=Math.min(o.count,d.start+d.count);b<w;b+=3){(r=om(this,a,e,n,u,l,c,o.getX(b),o.getX(b+1),o.getX(b+2)))&&(r.faceIndex=Math.floor(b/3),t.push(r))}else if(void 0!==s)if(Array.isArray(a))for(var x=0,_=f.length;x<_;x++)for(var S=f[x],E=a[S.materialIndex],M=Math.max(S.start,d.start),A=Math.min(s.count,Math.min(S.start+S.count,d.start+d.count));M<A;M+=3){(r=om(this,E,e,n,u,l,c,M,M+1,M+2))&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=S.materialIndex,t.push(r))}else for(var k=Math.max(0,d.start),T=Math.min(s.count,d.start+d.count);k<T;k+=3){(r=om(this,a,e,n,u,l,c,k,k+1,k+2))&&(r.faceIndex=Math.floor(k/3),t.push(r))}}}]),n}(Xp);function om(e,t,n,r,i,a,o,s,u,l){e.getVertexPosition(s,Vv),e.getVertexPosition(u,qv),e.getVertexPosition(l,Xv);var c=function(e,t,n,r,i,a,o,s){if(null===(t.side===zl?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===Fl,s)))return null;im.copy(s),im.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(im);return u<n.near||u>n.far?null:{distance:u,point:im.clone(),object:e}}(e,t,n,r,Vv,qv,Xv,rm);if(c){i&&(Kv.fromBufferAttribute(i,s),Jv.fromBufferAttribute(i,u),$v.fromBufferAttribute(i,l),c.uv=ov.getInterpolation(rm,Vv,qv,Xv,Kv,Jv,$v,new mh)),a&&(Kv.fromBufferAttribute(a,s),Jv.fromBufferAttribute(a,u),$v.fromBufferAttribute(a,l),c.uv1=ov.getInterpolation(rm,Vv,qv,Xv,Kv,Jv,$v,new mh),c.uv2=c.uv1),o&&(em.fromBufferAttribute(o,s),tm.fromBufferAttribute(o,u),nm.fromBufferAttribute(o,l),c.normal=ov.getInterpolation(rm,Vv,qv,Xv,em,tm,nm,new qh),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));var f={a:s,b:u,c:l,normal:new qh,materialIndex:0};ov.getNormal(Vv,qv,Xv,f.normal),c.face=f}return c}var sm=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;(0,I.Z)(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:u};var l=(0,z.Z)(e);o=Math.floor(o),s=Math.floor(s),u=Math.floor(u);var c=[],f=[],d=[],h=[],p=0,v=0;function m(e,t,n,r,i,a,o,s,u,m,g){for(var y=a/u,b=o/m,w=a/2,x=o/2,_=s/2,S=u+1,E=m+1,M=0,A=0,k=new qh,T=0;T<E;T++)for(var C=T*b-x,P=0;P<S;P++){var R=P*y-w;k[e]=R*r,k[t]=C*i,k[n]=_,f.push(k.x,k.y,k.z),k[e]=0,k[t]=0,k[n]=s>0?1:-1,d.push(k.x,k.y,k.z),h.push(P/u),h.push(1-T/m),M+=1}for(var I=0;I<m;I++)for(var L=0;L<u;L++){var Z=p+L+S*I,O=p+L+S*(I+1),N=p+(L+1)+S*(I+1),U=p+(L+1)+S*I;c.push(Z,O,U),c.push(O,N,U),A+=6}l.addGroup(v,A,g),v+=A,p+=M}return m("z","y","x",-1,-1,a,i,r,u,s,0),m("z","y","x",1,-1,a,i,-r,u,s,1),m("x","z","y",1,1,r,a,i,o,u,2),m("x","z","y",1,-1,r,a,-i,o,u,3),m("x","y","z",1,-1,r,i,a,o,s,4),m("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(c),e.setAttribute("position",new Iv(f,3)),e.setAttribute("normal",new Iv(d,3)),e.setAttribute("uv",new Iv(h,2)),e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(zv);function um(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function lm(e){for(var t={},n=0;n<e.length;n++){var r=um(e[n]);for(var i in r)t[i]=r[i]}return t}function cm(e){return null===e.getRenderTarget()?e.outputColorSpace:vd}var fm={clone:um,merge:lm},dm=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.forceSinglePass=!0,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=um(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(uv),hm=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new Sp,e.projectionMatrix=new Sp,e.projectionMatrixInverse=new Sp,e.coordinateSystem=$d,e}return(0,L.Z)(n,[{key:"copy",value:function(e,t){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){(0,Nu.Z)((0,Uu.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){(0,Nu.Z)((0,Uu.Z)(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Xp),pm=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return(0,I.Z)(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return(0,L.Z)(n,[{key:"copy",value:function(e,t){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*ah*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*ih*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*ah*Math.atan(Math.tan(.5*ih*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*ih*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(hm),vm=-90,mm=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){var a;(0,I.Z)(this,n),(a=t.call(this)).type="CubeCamera",a.renderTarget=i,a.coordinateSystem=null;var o=new pm(vm,1,e,r);o.layers=a.layers,a.add(o);var s=new pm(vm,1,e,r);s.layers=a.layers,a.add(s);var u=new pm(vm,1,e,r);u.layers=a.layers,a.add(u);var l=new pm(vm,1,e,r);l.layers=a.layers,a.add(l);var c=new pm(vm,1,e,r);c.layers=a.layers,a.add(c);var f=new pm(vm,1,e,r);return f.layers=a.layers,a.add(f),a}return(0,L.Z)(n,[{key:"updateCoordinateSystem",value:function(){var e,t=this.coordinateSystem,n=this.children.concat(),r=(0,N.Z)(n,6),i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],c=(0,F.Z)(n);try{for(c.s();!(e=c.n()).done;){var f=e.value;this.remove(f)}}catch(vk){c.e(vk)}finally{c.f()}if(t===$d)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else{if(t!==eh)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1)}var d,h=(0,F.Z)(n);try{for(h.s();!(d=h.n()).done;){var p=d.value;this.add(p),p.updateMatrixWorld()}}catch(vk){h.e(vk)}finally{h.f()}}},{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());var r=(0,N.Z)(this.children,6),i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],c=e.getRenderTarget(),f=e.toneMapping,d=e.xr.enabled;e.toneMapping=Sc,e.xr.enabled=!1;var h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,u),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=f,e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}]),n}(Xp),gm=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i,a,o,s,u,l,c,f){var d;return(0,I.Z)(this,n),e=void 0!==e?e:[],r=void 0!==r?r:Pc,(d=t.call(this,e,r,i,a,o,s,u,l,c,f)).isCubeTexture=!0,d.flipY=!1,d}return(0,L.Z)(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(Dh),ym=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,I.Z)(this,n),(e=t.call(this,r,r,i)).isWebGLCubeRenderTarget=!0;var a={width:r,height:r,depth:1},o=[a,a,a,a,a,a];return void 0!==i.encoding&&(Eh("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===ud?pd:hd),e.texture=new gm(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,e.texture.minFilter=void 0!==i.minFilter?i.minFilter:Hc,e}return(0,L.Z)(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new sm(5,5,5),o=new dm({name:"CubemapFromEquirect",uniforms:um(n),vertexShader:r,fragmentShader:i,side:zl,blending:Gl});o.uniforms.tEquirect.value=t;var s=new am(a,o),u=t.minFilter;return t.minFilter===Vc&&(t.minFilter=Hc),new mm(1,10,this).update(e,s),t.minFilter=u,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(Fh),bm=new qh,wm=new qh,xm=new gh,_m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qh(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,I.Z)(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return(0,L.Z)(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=bm.subVectors(n,t).cross(wm.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}},{key:"intersectLine",value:function(e,t){var n=e.delta(bm),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||xm.getNormalMatrix(e),r=this.coplanarPoint(bm).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Sm=new pp,Em=new qh,Mm=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _m,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _m,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new _m,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new _m,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new _m,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new _m;(0,I.Z)(this,e),this.planes=[t,n,r,i,a,o]}return(0,L.Z)(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$d,n=this.planes,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],c=r[6],f=r[7],d=r[8],h=r[9],p=r[10],v=r[11],m=r[12],g=r[13],y=r[14],b=r[15];if(n[0].setComponents(s-i,f-u,v-d,b-m).normalize(),n[1].setComponents(s+i,f+u,v+d,b+m).normalize(),n[2].setComponents(s+a,f+l,v+h,b+g).normalize(),n[3].setComponents(s-a,f-l,v-h,b-g).normalize(),n[4].setComponents(s-o,f-c,v-p,b-y).normalize(),t===$d)n[5].setComponents(s+o,f+c,v+p,b+y).normalize();else{if(t!==eh)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(o,c,p,y).normalize()}return this}},{key:"intersectsObject",value:function(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Sm.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{var t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Sm.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Sm)}},{key:"intersectsSprite",value:function(e){return Sm.center.set(0,0,0),Sm.radius=.7071067811865476,Sm.applyMatrix4(e.matrixWorld),this.intersectsSphere(Sm)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(Em.x=r.normal.x>0?e.max.x:e.min.x,Em.y=r.normal.y>0?e.max.y:e.min.y,Em.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Em)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function Am(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function km(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i,a=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=e.FLOAT;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=e.HALF_FLOAT}else i=e.UNSIGNED_SHORT;else if(a instanceof Int16Array)i=e.SHORT;else if(a instanceof Uint32Array)i=e.UNSIGNED_INT;else if(a instanceof Int32Array)i=e.INT;else if(a instanceof Int8Array)i=e.BYTE;else if(a instanceof Uint8Array)i=e.UNSIGNED_BYTE;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=e.UNSIGNED_BYTE}return{buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(o.buffer,t,i),o.version=t.version)}}}}var Tm=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,I.Z)(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,u=i/2,l=Math.floor(a),c=Math.floor(o),f=l+1,d=c+1,h=r/l,p=i/c,v=[],m=[],g=[],y=[],b=0;b<d;b++)for(var w=b*p-u,x=0;x<f;x++){var _=x*h-s;m.push(_,-w,0),g.push(0,0,1),y.push(x/l),y.push(1-b/c)}for(var S=0;S<c;S++)for(var E=0;E<l;E++){var M=E+f*S,A=E+f*(S+1),k=E+1+f*(S+1),T=E+1+f*S;v.push(M,A,T),v.push(A,k,T)}return e.setIndex(v),e.setAttribute("position",new Iv(m,3)),e.setAttribute("normal",new Iv(g,3)),e.setAttribute("uv",new Iv(y,2)),e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(zv),Cm={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Pm={common:{diffuse:{value:new hv(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new gh},alphaMap:{value:null},alphaMapTransform:{value:new gh},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new gh}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new gh}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new gh}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new gh},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new gh},normalScale:{value:new mh(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new gh},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new gh}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new gh}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new gh}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new hv(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new hv(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new gh},alphaTest:{value:0},uvTransform:{value:new gh}},sprite:{diffuse:{value:new hv(16777215)},opacity:{value:1},center:{value:new mh(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new gh},alphaMap:{value:null},alphaMapTransform:{value:new gh},alphaTest:{value:0}}},Rm={basic:{uniforms:lm([Pm.common,Pm.specularmap,Pm.envmap,Pm.aomap,Pm.lightmap,Pm.fog]),vertexShader:Cm.meshbasic_vert,fragmentShader:Cm.meshbasic_frag},lambert:{uniforms:lm([Pm.common,Pm.specularmap,Pm.envmap,Pm.aomap,Pm.lightmap,Pm.emissivemap,Pm.bumpmap,Pm.normalmap,Pm.displacementmap,Pm.fog,Pm.lights,{emissive:{value:new hv(0)}}]),vertexShader:Cm.meshlambert_vert,fragmentShader:Cm.meshlambert_frag},phong:{uniforms:lm([Pm.common,Pm.specularmap,Pm.envmap,Pm.aomap,Pm.lightmap,Pm.emissivemap,Pm.bumpmap,Pm.normalmap,Pm.displacementmap,Pm.fog,Pm.lights,{emissive:{value:new hv(0)},specular:{value:new hv(1118481)},shininess:{value:30}}]),vertexShader:Cm.meshphong_vert,fragmentShader:Cm.meshphong_frag},standard:{uniforms:lm([Pm.common,Pm.envmap,Pm.aomap,Pm.lightmap,Pm.emissivemap,Pm.bumpmap,Pm.normalmap,Pm.displacementmap,Pm.roughnessmap,Pm.metalnessmap,Pm.fog,Pm.lights,{emissive:{value:new hv(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Cm.meshphysical_vert,fragmentShader:Cm.meshphysical_frag},toon:{uniforms:lm([Pm.common,Pm.aomap,Pm.lightmap,Pm.emissivemap,Pm.bumpmap,Pm.normalmap,Pm.displacementmap,Pm.gradientmap,Pm.fog,Pm.lights,{emissive:{value:new hv(0)}}]),vertexShader:Cm.meshtoon_vert,fragmentShader:Cm.meshtoon_frag},matcap:{uniforms:lm([Pm.common,Pm.bumpmap,Pm.normalmap,Pm.displacementmap,Pm.fog,{matcap:{value:null}}]),vertexShader:Cm.meshmatcap_vert,fragmentShader:Cm.meshmatcap_frag},points:{uniforms:lm([Pm.points,Pm.fog]),vertexShader:Cm.points_vert,fragmentShader:Cm.points_frag},dashed:{uniforms:lm([Pm.common,Pm.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Cm.linedashed_vert,fragmentShader:Cm.linedashed_frag},depth:{uniforms:lm([Pm.common,Pm.displacementmap]),vertexShader:Cm.depth_vert,fragmentShader:Cm.depth_frag},normal:{uniforms:lm([Pm.common,Pm.bumpmap,Pm.normalmap,Pm.displacementmap,{opacity:{value:1}}]),vertexShader:Cm.meshnormal_vert,fragmentShader:Cm.meshnormal_frag},sprite:{uniforms:lm([Pm.sprite,Pm.fog]),vertexShader:Cm.sprite_vert,fragmentShader:Cm.sprite_frag},background:{uniforms:{uvTransform:{value:new gh},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Cm.background_vert,fragmentShader:Cm.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Cm.backgroundCube_vert,fragmentShader:Cm.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Cm.cube_vert,fragmentShader:Cm.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Cm.equirect_vert,fragmentShader:Cm.equirect_frag},distanceRGBA:{uniforms:lm([Pm.common,Pm.displacementmap,{referencePosition:{value:new qh},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Cm.distanceRGBA_vert,fragmentShader:Cm.distanceRGBA_frag},shadow:{uniforms:lm([Pm.lights,Pm.fog,{color:{value:new hv(0)},opacity:{value:1}}]),vertexShader:Cm.shadow_vert,fragmentShader:Cm.shadow_frag}};Rm.physical={uniforms:lm([Rm.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new gh},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new gh},clearcoatNormalScale:{value:new mh(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new gh},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new gh},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new gh},sheen:{value:0},sheenColor:{value:new hv(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new gh},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new gh},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new gh},transmissionSamplerSize:{value:new mh},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new gh},attenuationDistance:{value:0},attenuationColor:{value:new hv(0)},specularColor:{value:new hv(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new gh},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new gh},anisotropyVector:{value:new mh},anisotropyMap:{value:null},anisotropyMapTransform:{value:new gh}}]),vertexShader:Cm.meshphysical_vert,fragmentShader:Cm.meshphysical_frag};var Im={r:0,b:0,g:0};function Lm(e,t,n,r,i,a,o){var s,u,l=new hv(0),c=!0===a?0:1,f=null,d=0,h=null;function p(t,n){t.getRGB(Im,cm(e)),r.buffers.color.setClear(Im.r,Im.g,Im.b,n,o)}return{getClearColor:function(){return l},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(e),p(l,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){p(l,c=e)},render:function(a,v){var m=!1,g=!0===v.isScene?v.background:null;switch(g&&g.isTexture&&(g=(v.backgroundBlurriness>0?n:t).get(g)),null===g?p(l,c):g&&g.isColor&&(p(g,1),m=!0),e.xr.getEnvironmentBlendMode()){case"opaque":m=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),m=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),m=!0}(e.autoClear||m)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),g&&(g.isCubeTexture||g.mapping===Zc)?(void 0===u&&((u=new am(new sm(1,1,1),new dm({name:"BackgroundCubeMaterial",uniforms:um(Rm.backgroundCube.uniforms),vertexShader:Rm.backgroundCube.vertexShader,fragmentShader:Rm.backgroundCube.fragmentShader,side:zl,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=g,u.material.uniforms.flipEnvMap.value=g.isCubeTexture&&!1===g.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=g.colorSpace!==pd,f===g&&d===g.version&&h===e.toneMapping||(u.material.needsUpdate=!0,f=g,d=g.version,h=e.toneMapping),u.layers.enableAll(),a.unshift(u,u.geometry,u.material,0,0,null)):g&&g.isTexture&&(void 0===s&&((s=new am(new Tm(2,2),new dm({name:"BackgroundMaterial",uniforms:um(Rm.background.uniforms),vertexShader:Rm.background.vertexShader,fragmentShader:Rm.background.fragmentShader,side:Fl,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=g,s.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,s.material.toneMapped=g.colorSpace!==pd,!0===g.matrixAutoUpdate&&g.updateMatrix(),s.material.uniforms.uvTransform.value.copy(g.matrix),f===g&&d===g.version&&h===e.toneMapping||(s.material.needsUpdate=!0,f=g,d=g.version,h=e.toneMapping),s.layers.enableAll(),a.unshift(s,s.geometry,s.material,0,0,null))}}}function Zm(e,t,n,r){var i=e.getParameter(e.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},u=h(null),l=u,c=!1;function f(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function h(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){for(var e=l.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function v(e){m(e,0)}function m(n,i){var a=l.newAttributes,o=l.enabledAttributes,s=l.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function g(){for(var t=l.newAttributes,n=l.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function b(){w(),c=!0,l!==u&&f((l=u).object)}function w(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,d,b,w){var x=!1;if(o){var _=function(t,n,i){var o=!0===i.wireframe,u=s[t.id];void 0===u&&(u={},s[t.id]=u);var l=u[n.id];void 0===l&&(l={},u[n.id]=l);var c=l[o];void 0===c&&(c=h(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[o]=c);return c}(b,d,u);l!==_&&f((l=_).object),x=function(e,t,n,r){var i=l.attributes,a=t.attributes,o=0,s=n.getAttributes();for(var u in s){if(s[u].location>=0){var c=i[u],f=a[u];if(void 0===f&&("instanceMatrix"===u&&e.instanceMatrix&&(f=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(f=e.instanceColor)),void 0===c)return!0;if(c.attribute!==f)return!0;if(f&&c.data!==f.data)return!0;o++}}return l.attributesNum!==o||l.index!==r}(i,b,d,w),x&&function(e,t,n,r){var i={},a=t.attributes,o=0,s=n.getAttributes();for(var u in s){if(s[u].location>=0){var c=a[u];void 0===c&&("instanceMatrix"===u&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(c=e.instanceColor));var f={};f.attribute=c,c&&c.data&&(f.data=c.data),i[u]=f,o++}}l.attributes=i,l.attributesNum=o,l.index=r}(i,b,d,w)}else{var S=!0===u.wireframe;l.geometry===b.id&&l.program===d.id&&l.wireframe===S||(l.geometry=b.id,l.program=d.id,l.wireframe=S,x=!0)}null!==w&&n.update(w,e.ELEMENT_ARRAY_BUFFER),(x||c)&&(c=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();var u=s.attributes,l=o.getAttributes(),c=a.defaultAttributeValues;for(var f in l){var d=l[f];if(d.location>=0){var h=u[f];if(void 0===h&&("instanceMatrix"===f&&i.instanceMatrix&&(h=i.instanceMatrix),"instanceColor"===f&&i.instanceColor&&(h=i.instanceColor)),void 0!==h){var b=h.normalized,w=h.itemSize,x=n.get(h);if(void 0===x)continue;var _=x.buffer,S=x.type,E=x.bytesPerElement,M=!0===r.isWebGL2&&(S===e.INT||S===e.UNSIGNED_INT||h.gpuType===Jc);if(h.isInterleavedBufferAttribute){var A=h.data,k=A.stride,T=h.offset;if(A.isInstancedInterleavedBuffer){for(var C=0;C<d.locationSize;C++)m(d.location+C,A.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=A.meshPerAttribute*A.count)}else for(var P=0;P<d.locationSize;P++)v(d.location+P);e.bindBuffer(e.ARRAY_BUFFER,_);for(var R=0;R<d.locationSize;R++)y(d.location+R,w/d.locationSize,S,b,k*E,(T+w/d.locationSize*R)*E,M)}else{if(h.isInstancedBufferAttribute){for(var I=0;I<d.locationSize;I++)m(d.location+I,h.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=h.meshPerAttribute*h.count)}else for(var L=0;L<d.locationSize;L++)v(d.location+L);e.bindBuffer(e.ARRAY_BUFFER,_);for(var Z=0;Z<d.locationSize;Z++)y(d.location+Z,w/d.locationSize,S,b,w*E,w/d.locationSize*Z*E,M)}}else if(void 0!==c){var O=c[f];if(void 0!==O)switch(O.length){case 2:e.vertexAttrib2fv(d.location,O);break;case 3:e.vertexAttrib3fv(d.location,O);break;case 4:e.vertexAttrib4fv(d.location,O);break;default:e.vertexAttrib1fv(d.location,O)}}}}g()}(i,u,d,b),null!==w&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(w).buffer))},reset:b,resetDefaultState:w,dispose:function(){for(var e in b(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)d(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:p,enableAttribute:v,disableUnusedAttributes:g}}function Om(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var u,l;if(a)u=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](i,r,o,s),n.update(o,i,s)}}}function Nm(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var u=a||t.has("WEBGL_draw_buffers"),l=!0===n.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),f=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_TEXTURE_SIZE),h=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),p=e.getParameter(e.MAX_VERTEX_ATTRIBS),v=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),g=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),y=f>0,b=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:f,maxTextureSize:d,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:a?e.getParameter(e.MAX_SAMPLES):0}}function Um(e){var t=this,n=null,r=0,i=!1,a=!1,o=new _m,s=new gh,u={value:null,needsUpdate:!1};function l(e,n,r,i){var a=null!==e?e.length:0,l=null;if(0!==a){if(l=u.value,!0!==i||null===l){var c=r+4*a,f=n.matrixWorldInverse;s.getNormalMatrix(f),(null===l||l.length<c)&&(l=new Float32Array(c));for(var d=0,h=r;d!==a;++d,h+=4)o.copy(e[d]).applyMatrix4(f,s),o.normal.toArray(l,h),l[h+3]=o.constant}u.value=l,u.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,l(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=l(e,t,0)},this.setState=function(o,s,c){var f=o.clippingPlanes,d=o.clipIntersection,h=o.clipShadows,p=e.get(o);if(!i||null===f||0===f.length||a&&!h)a?l(null):function(){u.value!==n&&(u.value=n,u.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{var v=a?0:r,m=4*v,g=p.clippingState||null;u.value=g,g=l(f,s,m,c);for(var y=0;y!==m;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=v}}}function Dm(e){var t=new WeakMap;function n(e,t){return t===Ic?e.mapping=Pc:t===Lc&&(e.mapping=Rc),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===Ic||a===Lc){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new ym(o.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var Bm=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return(0,I.Z)(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=u,e.updateProjectionMatrix(),e}return(0,L.Z)(n,[{key:"copy",value:function(e,t){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=u*this.view.offsetX)+u*this.view.width,s=(o-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(hm),Fm=[.125,.215,.35,.446,.526,.582],zm=20,jm=new Bm,Hm=new hv,Gm=null,Wm=(1+Math.sqrt(5))/2,Vm=1/Wm,qm=[new qh(1,1,1),new qh(-1,1,1),new qh(1,1,-1),new qh(-1,1,-1),new qh(0,Wm,Vm),new qh(0,Wm,-Vm),new qh(Vm,0,Wm),new qh(-Vm,0,Wm),new qh(Wm,Vm,0),new qh(-Wm,Vm,0)],Xm=function(){function e(t){(0,I.Z)(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return(0,L.Z)(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Gm=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Jm(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Km(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(Gm),e.scissorTest=!1,Qm(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===Pc||e.mapping===Rc?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Gm=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Hc,minFilter:Hc,generateMipmaps:!1,type:tf,format:sf,colorSpace:vd,depthBuffer:!1},r=Ym(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Ym(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+Fm.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var u=1/s;o>e-4?u=Fm[o-e+4-1]:0===o&&(u=0),r.push(u);for(var l=1/(s-2),c=-l,f=1+l,d=[c,c,f,c,f,f,c,c,f,f,c,f],h=6,p=6,v=3,m=2,g=1,y=new Float32Array(v*p*h),b=new Float32Array(m*p*h),w=new Float32Array(g*p*h),x=0;x<h;x++){var _=x%3*2/3-1,S=x>2?0:-1,E=[_,S,0,_+2/3,S,0,_+2/3,S+1,0,_,S,0,_+2/3,S+1,0,_,S+1,0];y.set(E,v*p*x),b.set(d,m*p*x);var M=[x,x,x,x,x,x];w.set(M,g*p*x)}var A=new zv;A.setAttribute("position",new Sv(y,v)),A.setAttribute("uv",new Sv(b,m)),A.setAttribute("faceIndex",new Sv(w,g)),t.push(A),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(zm),i=new qh(0,1,0),a=new dm({name:"SphericalGaussianBlur",defines:{n:zm,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:Gl,depthTest:!1,depthWrite:!1});return a}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new am(this._lodPlanes[0],e);this._renderer.compile(t,jm)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new pm(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,u=s.autoClear,l=s.toneMapping;s.getClearColor(Hm),s.toneMapping=Sc,s.autoClear=!1;var c=new vv({name:"PMREM.Background",side:zl,depthWrite:!1,depthTest:!1}),f=new am(new sm,c),d=!1,h=e.background;h?h.isColor&&(c.color.copy(h),e.background=null,d=!0):(c.color.copy(Hm),d=!0);for(var p=0;p<6;p++){var v=p%3;0===v?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===v?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));var m=this._cubeSize;Qm(r,v*m,p>2?m:0,m,m),s.setRenderTarget(r),d&&s.render(f,i),s.render(e,i)}f.geometry.dispose(),f.material.dispose(),s.toneMapping=l,s.autoClear=u,e.background=h}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===Pc||e.mapping===Rc;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Jm()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Km());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new am(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;Qm(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,jm)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=qm[(r-1)%qm.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,u=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new am(this._lodPlanes[r],u),c=u.uniforms,f=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*f):2*Math.PI/39,h=i/d,p=isFinite(i)?1+Math.floor(3*h):zm;p>zm&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(zm));for(var v=[],m=0,g=0;g<zm;++g){var y=g/h,b=Math.exp(-y*y/2);v.push(b),0===g?m+=b:g<p&&(m+=2*b)}for(var w=0;w<v.length;w++)v[w]=v[w]/m;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=v,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var x=this._lodMax;c.dTheta.value=d,c.mipInt.value=x-n;var _=this._sizeLods[r];Qm(t,3*_*(r>x-4?r-x+4:0),4*(this._cubeSize-_),3*_,2*_),s.setRenderTarget(t),s.render(l,jm)}}]),e}();function Ym(e,t,n){var r=new Fh(e,t,n);return r.texture.mapping=Zc,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Qm(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Km(){return new dm({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:Gl,depthTest:!1,depthWrite:!1})}function Jm(){return new dm({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:Gl,depthTest:!1,depthWrite:!1})}function $m(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===Ic||a===Lc,s=a===Pc||a===Rc;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var u=t.get(i);return null===n&&(n=new Xm(e)),u=o?n.fromEquirectangular(i,u):n.fromCubemap(i,u),t.set(i,u),u.texture}if(t.has(i))return t.get(i).texture;var l=i.image;if(o&&l&&l.height>0||s&&l&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)){null===n&&(n=new Xm(e));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function eg(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function tg(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);for(var l in s.morphAttributes)for(var c=s.morphAttributes[l],f=0,d=c.length;f<d;f++)t.remove(c[f]);s.removeEventListener("dispose",o),delete i[s.id];var h=a.get(s);h&&(t.remove(h),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],f=s[u+1],d=s[u+2];n.push(c,f,f,d,d,c)}}else{var h=i.array;o=i.version;for(var p=0,v=h.length/3-1;p<v;p+=3){var m=p+0,g=p+1,y=p+2;n.push(m,g,g,y,y,m)}}var b=new(bh(n)?Pv:Tv)(n,1);b.version=o;var w=a.get(e);w&&t.remove(w),a.set(e,b)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){var r=n.attributes;for(var i in r)t.update(r[i],e.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],u=0,l=s.length;u<l;u++)t.update(s[u],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function ng(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,u,l){if(0!==l){var c,f;if(s)c=e,f="drawElementsInstanced";else if(f="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[f](i,u,a,r*o,l),n.update(u,i,l)}}}function rg(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function ig(e,t){return e[0]-t[0]}function ag(e,t){return Math.abs(t[1])-Math.abs(e[1])}function og(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new Bh,s=[],u=0;u<8;u++)s[u]=[u,0];return{update:function(u,l,c){var f=u.morphTargetInfluences;if(!0===t.isWebGL2){var d=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,h=void 0!==d?d.length:0,p=a.get(l);if(void 0===p||p.count!==h){void 0!==p&&p.texture.dispose();var v=void 0!==l.morphAttributes.position,m=void 0!==l.morphAttributes.normal,g=void 0!==l.morphAttributes.color,y=l.morphAttributes.position||[],b=l.morphAttributes.normal||[],w=l.morphAttributes.color||[],x=0;!0===v&&(x=1),!0===m&&(x=2),!0===g&&(x=3);var _=l.attributes.position.count*x,S=1;_>t.maxTextureSize&&(S=Math.ceil(_/t.maxTextureSize),_=t.maxTextureSize);var E=new Float32Array(_*S*4*h),M=new zh(E,_,S,h);M.type=ef,M.needsUpdate=!0;for(var A=4*x,k=0;k<h;k++)for(var T=y[k],C=b[k],P=w[k],R=_*S*4*k,I=0;I<T.count;I++){var L=I*A;!0===v&&(o.fromBufferAttribute(T,I),E[R+L+0]=o.x,E[R+L+1]=o.y,E[R+L+2]=o.z,E[R+L+3]=0),!0===m&&(o.fromBufferAttribute(C,I),E[R+L+4]=o.x,E[R+L+5]=o.y,E[R+L+6]=o.z,E[R+L+7]=0),!0===g&&(o.fromBufferAttribute(P,I),E[R+L+8]=o.x,E[R+L+9]=o.y,E[R+L+10]=o.z,E[R+L+11]=4===P.itemSize?o.w:1)}p={count:h,texture:M,size:new mh(_,S)},a.set(l,p),l.addEventListener("dispose",(function e(){M.dispose(),a.delete(l),l.removeEventListener("dispose",e)}))}for(var Z=0,O=0;O<f.length;O++)Z+=f[O];var N=l.morphTargetsRelative?1:1-Z;c.getUniforms().setValue(e,"morphTargetBaseInfluence",N),c.getUniforms().setValue(e,"morphTargetInfluences",f),c.getUniforms().setValue(e,"morphTargetsTexture",p.texture,n),c.getUniforms().setValue(e,"morphTargetsTextureSize",p.size)}else{var U=void 0===f?0:f.length,D=r[l.id];if(void 0===D||D.length!==U){D=[];for(var B=0;B<U;B++)D[B]=[B,0];r[l.id]=D}for(var F=0;F<U;F++){var z=D[F];z[0]=F,z[1]=f[F]}D.sort(ag);for(var j=0;j<8;j++)j<U&&D[j][1]?(s[j][0]=D[j][0],s[j][1]=D[j][1]):(s[j][0]=Number.MAX_SAFE_INTEGER,s[j][1]=0);s.sort(ig);for(var H=l.morphAttributes.position,G=l.morphAttributes.normal,W=0,V=0;V<8;V++){var q=s[V],X=q[0],Y=q[1];X!==Number.MAX_SAFE_INTEGER&&Y?(H&&l.getAttribute("morphTarget"+V)!==H[X]&&l.setAttribute("morphTarget"+V,H[X]),G&&l.getAttribute("morphNormal"+V)!==G[X]&&l.setAttribute("morphNormal"+V,G[X]),i[V]=Y,W+=Y):(H&&!0===l.hasAttribute("morphTarget"+V)&&l.deleteAttribute("morphTarget"+V),G&&!0===l.hasAttribute("morphNormal"+V)&&l.deleteAttribute("morphNormal"+V),i[V]=0)}var Q=l.morphTargetsRelative?1:1-W;c.getUniforms().setValue(e,"morphTargetBaseInfluence",Q),c.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function sg(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){var s=r.render.frame,u=o.geometry,l=t.get(o,u);if(i.get(l)!==s&&(t.update(l),i.set(l,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),i.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){var c=o.skeleton;i.get(c)!==s&&(c.update(),i.set(c,s))}return l},dispose:function(){i=new WeakMap}}}var ug=new Dh,lg=new zh,cg=new Hh,fg=new gm,dg=[],hg=[],pg=new Float32Array(16),vg=new Float32Array(9),mg=new Float32Array(4);function gg(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=dg[i];if(void 0===a&&(a=new Float32Array(i),dg[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function yg(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function bg(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function wg(e,t){var n=hg[t];void 0===n&&(n=new Int32Array(t),hg[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function xg(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function _g(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(yg(n,t))return;e.uniform2fv(this.addr,t),bg(n,t)}}function Sg(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(yg(n,t))return;e.uniform3fv(this.addr,t),bg(n,t)}}function Eg(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(yg(n,t))return;e.uniform4fv(this.addr,t),bg(n,t)}}function Mg(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(yg(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),bg(n,t)}else{if(yg(n,r))return;mg.set(r),e.uniformMatrix2fv(this.addr,!1,mg),bg(n,r)}}function Ag(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(yg(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),bg(n,t)}else{if(yg(n,r))return;vg.set(r),e.uniformMatrix3fv(this.addr,!1,vg),bg(n,r)}}function kg(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(yg(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),bg(n,t)}else{if(yg(n,r))return;pg.set(r),e.uniformMatrix4fv(this.addr,!1,pg),bg(n,r)}}function Tg(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Cg(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(yg(n,t))return;e.uniform2iv(this.addr,t),bg(n,t)}}function Pg(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(yg(n,t))return;e.uniform3iv(this.addr,t),bg(n,t)}}function Rg(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(yg(n,t))return;e.uniform4iv(this.addr,t),bg(n,t)}}function Ig(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Lg(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(yg(n,t))return;e.uniform2uiv(this.addr,t),bg(n,t)}}function Zg(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(yg(n,t))return;e.uniform3uiv(this.addr,t),bg(n,t)}}function Og(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(yg(n,t))return;e.uniform4uiv(this.addr,t),bg(n,t)}}function Ng(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||ug,i)}function Ug(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||cg,i)}function Dg(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||fg,i)}function Bg(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||lg,i)}function Fg(e,t){e.uniform1fv(this.addr,t)}function zg(e,t){var n=gg(t,this.size,2);e.uniform2fv(this.addr,n)}function jg(e,t){var n=gg(t,this.size,3);e.uniform3fv(this.addr,n)}function Hg(e,t){var n=gg(t,this.size,4);e.uniform4fv(this.addr,n)}function Gg(e,t){var n=gg(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Wg(e,t){var n=gg(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Vg(e,t){var n=gg(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function qg(e,t){e.uniform1iv(this.addr,t)}function Xg(e,t){e.uniform2iv(this.addr,t)}function Yg(e,t){e.uniform3iv(this.addr,t)}function Qg(e,t){e.uniform4iv(this.addr,t)}function Kg(e,t){e.uniform1uiv(this.addr,t)}function Jg(e,t){e.uniform2uiv(this.addr,t)}function $g(e,t){e.uniform3uiv(this.addr,t)}function ey(e,t){e.uniform4uiv(this.addr,t)}function ty(e,t,n){var r=this.cache,i=t.length,a=wg(n,i);yg(r,a)||(e.uniform1iv(this.addr,a),bg(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||ug,a[o])}function ny(e,t,n){var r=this.cache,i=t.length,a=wg(n,i);yg(r,a)||(e.uniform1iv(this.addr,a),bg(r,a));for(var o=0;o!==i;++o)n.setTexture3D(t[o]||cg,a[o])}function ry(e,t,n){var r=this.cache,i=t.length,a=wg(n,i);yg(r,a)||(e.uniform1iv(this.addr,a),bg(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||fg,a[o])}function iy(e,t,n){var r=this.cache,i=t.length,a=wg(n,i);yg(r,a)||(e.uniform1iv(this.addr,a),bg(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||lg,a[o])}var ay=(0,L.Z)((function e(t,n,r){(0,I.Z)(this,e),this.id=t,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return xg;case 35664:return _g;case 35665:return Sg;case 35666:return Eg;case 35674:return Mg;case 35675:return Ag;case 35676:return kg;case 5124:case 35670:return Tg;case 35667:case 35671:return Cg;case 35668:case 35672:return Pg;case 35669:case 35673:return Rg;case 5125:return Ig;case 36294:return Lg;case 36295:return Zg;case 36296:return Og;case 35678:case 36198:case 36298:case 36306:case 35682:return Ng;case 35679:case 36299:case 36307:return Ug;case 35680:case 36300:case 36308:case 36293:return Dg;case 36289:case 36303:case 36311:case 36292:return Bg}}(n.type)})),oy=(0,L.Z)((function e(t,n,r){(0,I.Z)(this,e),this.id=t,this.addr=r,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return Fg;case 35664:return zg;case 35665:return jg;case 35666:return Hg;case 35674:return Gg;case 35675:return Wg;case 35676:return Vg;case 5124:case 35670:return qg;case 35667:case 35671:return Xg;case 35668:case 35672:return Yg;case 35669:case 35673:return Qg;case 5125:return Kg;case 36294:return Jg;case 36295:return $g;case 36296:return ey;case 35678:case 36198:case 36298:case 36306:case 35682:return ty;case 35679:case 36299:case 36307:return ny;case 35680:case 36300:case 36308:case 36293:return ry;case 36289:case 36303:case 36311:case 36292:return iy}}(n.type)})),sy=function(){function e(t){(0,I.Z)(this,e),this.id=t,this.seq=[],this.map={}}return(0,L.Z)(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}]),e}(),uy=/(\w+)(\])?(\[|\.)?/g;function ly(e,t){e.seq.push(t),e.map[t.id]=t}function cy(e,t,n){var r=e.name,i=r.length;for(uy.lastIndex=0;;){var a=uy.exec(r),o=uy.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===i){ly(n,void 0===l?new ay(s,e,t):new oy(s,e,t));break}var c=n.map[s];void 0===c&&ly(n,c=new sy(s)),n=c}}var fy=function(){function e(t,n){(0,I.Z)(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var a=t.getActiveUniform(n,i);cy(a,t.getUniformLocation(n,a.name),this)}}return(0,L.Z)(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function dy(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var hy=0;function py(e,t,n){var r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function vy(e,t){var n=function(e){switch(e){case vd:return["Linear","( value )"];case pd:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function my(e,t){var n;switch(t){case Ec:n="Linear";break;case Mc:n="Reinhard";break;case Ac:n="OptimizedCineon";break;case kc:n="ACESFilmic";break;case Tc:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function gy(e){return""!==e}function yy(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function by(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var wy=/^[ \t]*#include +<([\w\d./]+)>/gm;function xy(e){return e.replace(wy,Sy)}var _y=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Sy(e,t){var n=Cm[t];if(void 0===n){var r=_y.get(t);if(void 0===r)throw new Error("Can not resolve #include <"+t+">");n=Cm[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,r)}return xy(n)}var Ey=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function My(e){return e.replace(Ey,Ay)}function Ay(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function ky(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Ty(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,u=n.vertexShader,l=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===Ul?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===Dl?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Bl&&(t="SHADOWMAP_TYPE_VSM"),t}(n),f=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Pc:case Rc:t="ENVMAP_TYPE_CUBE";break;case Zc:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),d=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===Rc&&(t="ENVMAP_MODE_REFRACTION");return t}(n),h=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case wc:t="ENVMAP_BLENDING_MULTIPLY";break;case xc:t="ENVMAP_BLENDING_MIX";break;case _c:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),v=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(gy).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(gy).join("\n")).length>0&&(i+="\n"),(a=[v,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(gy).join("\n")).length>0&&(a+="\n")):(i=[ky(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(gy).join("\n"),a=[v,ky(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Sc?"#define TONE_MAPPING":"",n.toneMapping!==Sc?Cm.tonemapping_pars_fragment:"",n.toneMapping!==Sc?my("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Cm.colorspace_pars_fragment,vy("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(gy).join("\n")),u=by(u=yy(u=xy(u),n),n),l=by(l=yy(l=xy(l),n),n),u=My(u),l=My(l),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===Kd?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Kd?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var b,w,x=y+i+u,_=y+a+l,S=dy(o,o.VERTEX_SHADER,x),E=dy(o,o.FRAGMENT_SHADER,_);if(o.attachShader(g,S),o.attachShader(g,E),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var M=o.getProgramInfoLog(g).trim(),A=o.getShaderInfoLog(S).trim(),k=o.getShaderInfoLog(E).trim(),T=!0,C=!0;if(!1===o.getProgramParameter(g,o.LINK_STATUS))if(T=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(o,g,S,E);else{var P=py(o,S,"vertex"),R=py(o,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(g,o.VALIDATE_STATUS)+"\n\nProgram Info Log: "+M+"\n"+P+"\n"+R)}else""!==M?console.warn("THREE.WebGLProgram: Program Info Log:",M):""!==A&&""!==k||(C=!1);C&&(this.diagnostics={runnable:T,programLog:M,vertexShader:{log:A,prefix:i},fragmentShader:{log:k,prefix:a}})}return o.deleteShader(S),o.deleteShader(E),this.getUniforms=function(){return void 0===b&&(b=new fy(o,g)),b},this.getAttributes=function(){return void 0===w&&(w=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;a.type===e.FLOAT_MAT2&&(s=2),a.type===e.FLOAT_MAT3&&(s=3),a.type===e.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,g)),w},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=hy++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=S,this.fragmentShader=E,this}var Cy=0,Py=function(){function e(){(0,I.Z)(this,e),this.shaderCache=new Map,this.materialCache=new Map}return(0,L.Z)(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=this.materialCache.get(e),r=(0,F.Z)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code)}}catch(vk){r.e(vk)}finally{r.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new Ry(e),t.set(e,n)),n}}]),e}(),Ry=(0,L.Z)((function e(t){(0,I.Z)(this,e),this.id=Cy++,this.code=t,this.usedTimes=0}));function Iy(e,t,n,r,i,a,o){var s=new Zp,u=new Py,l=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures,h=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(e){return 0===e?"uv":"uv".concat(e)}return{getParameters:function(a,s,l,m,g){var y=m.fog,b=g.geometry,w=a.isMeshStandardMaterial?m.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||w),_=x&&x.mapping===Zc?x.image.height:null,S=p[a.type];null!==a.precision&&(h=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",h,"instead.");var E,M,A,k,T=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,C=void 0!==T?T.length:0,P=0;if(void 0!==b.morphAttributes.position&&(P=1),void 0!==b.morphAttributes.normal&&(P=2),void 0!==b.morphAttributes.color&&(P=3),S){var R=Rm[S];E=R.vertexShader,M=R.fragmentShader}else E=a.vertexShader,M=a.fragmentShader,u.update(a),A=u.getVertexShaderID(a),k=u.getFragmentShaderID(a);var I=e.getRenderTarget(),L=!0===g.isInstancedMesh,Z=!!a.map,O=!!a.matcap,N=!!x,U=!!a.aoMap,D=!!a.lightMap,B=!!a.bumpMap,F=!!a.normalMap,z=!!a.displacementMap,j=!!a.emissiveMap,H=!!a.metalnessMap,G=!!a.roughnessMap,W=a.anisotropy>0,V=a.clearcoat>0,q=a.iridescence>0,X=a.sheen>0,Y=a.transmission>0,Q=W&&!!a.anisotropyMap,K=V&&!!a.clearcoatMap,J=V&&!!a.clearcoatNormalMap,$=V&&!!a.clearcoatRoughnessMap,ee=q&&!!a.iridescenceMap,te=q&&!!a.iridescenceThicknessMap,ne=X&&!!a.sheenColorMap,re=X&&!!a.sheenRoughnessMap,ie=!!a.specularMap,ae=!!a.specularColorMap,oe=!!a.specularIntensityMap,se=Y&&!!a.transmissionMap,ue=Y&&!!a.thicknessMap,le=!!a.gradientMap,ce=!!a.alphaMap,fe=a.alphaTest>0,de=!!a.alphaHash,he=!!a.extensions,pe=!!b.attributes.uv1,ve=!!b.attributes.uv2,me=!!b.attributes.uv3;return{isWebGL2:c,shaderID:S,shaderType:a.type,shaderName:a.name,vertexShader:E,fragmentShader:M,defines:a.defines,customVertexShaderID:A,customFragmentShaderID:k,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:h,instancing:L,instancingColor:L&&null!==g.instanceColor,supportsVertexTextures:d,outputColorSpace:null===I?e.outputColorSpace:!0===I.isXRRenderTarget?I.texture.colorSpace:vd,map:Z,matcap:O,envMap:N,envMapMode:N&&x.mapping,envMapCubeUVHeight:_,aoMap:U,lightMap:D,bumpMap:B,normalMap:F,displacementMap:d&&z,emissiveMap:j,normalMapObjectSpace:F&&a.normalMapType===dd,normalMapTangentSpace:F&&a.normalMapType===fd,metalnessMap:H,roughnessMap:G,anisotropy:W,anisotropyMap:Q,clearcoat:V,clearcoatMap:K,clearcoatNormalMap:J,clearcoatRoughnessMap:$,iridescence:q,iridescenceMap:ee,iridescenceThicknessMap:te,sheen:X,sheenColorMap:ne,sheenRoughnessMap:re,specularMap:ie,specularColorMap:ae,specularIntensityMap:oe,transmission:Y,transmissionMap:se,thicknessMap:ue,gradientMap:le,opaque:!1===a.transparent&&a.blending===Wl,alphaMap:ce,alphaTest:fe,alphaHash:de,combine:a.combine,mapUv:Z&&v(a.map.channel),aoMapUv:U&&v(a.aoMap.channel),lightMapUv:D&&v(a.lightMap.channel),bumpMapUv:B&&v(a.bumpMap.channel),normalMapUv:F&&v(a.normalMap.channel),displacementMapUv:z&&v(a.displacementMap.channel),emissiveMapUv:j&&v(a.emissiveMap.channel),metalnessMapUv:H&&v(a.metalnessMap.channel),roughnessMapUv:G&&v(a.roughnessMap.channel),anisotropyMapUv:Q&&v(a.anisotropyMap.channel),clearcoatMapUv:K&&v(a.clearcoatMap.channel),clearcoatNormalMapUv:J&&v(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:$&&v(a.clearcoatRoughnessMap.channel),iridescenceMapUv:ee&&v(a.iridescenceMap.channel),iridescenceThicknessMapUv:te&&v(a.iridescenceThicknessMap.channel),sheenColorMapUv:ne&&v(a.sheenColorMap.channel),sheenRoughnessMapUv:re&&v(a.sheenRoughnessMap.channel),specularMapUv:ie&&v(a.specularMap.channel),specularColorMapUv:ae&&v(a.specularColorMap.channel),specularIntensityMapUv:oe&&v(a.specularIntensityMap.channel),transmissionMapUv:se&&v(a.transmissionMap.channel),thicknessMapUv:ue&&v(a.thicknessMap.channel),alphaMapUv:ce&&v(a.alphaMap.channel),vertexTangents:!!b.attributes.tangent&&(F||W),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,vertexUv1s:pe,vertexUv2s:ve,vertexUv3s:me,pointsUvs:!0===g.isPoints&&!!b.attributes.uv&&(Z||ce),fog:!!y,useFog:!0===a.fog,fogExp2:y&&y.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:f,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:C,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:Sc,useLegacyLights:e.useLegacyLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===jl,flipSided:a.side===zl,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:he&&!0===a.extensions.derivatives,extensionFragDepth:he&&!0===a.extensions.fragDepth,extensionDrawBuffers:he&&!0===a.extensions.drawBuffers,extensionShaderTextureLOD:he&&!0===a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.useLegacyLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=p[e.type];if(n){var r=Rm[n];t=fm.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=l.length;i<o;i++){var s=l[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new Ty(e,n,t,a),l.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=l.indexOf(e);l[t]=l[l.length-1],l.pop(),e.destroy()}},releaseShaderCache:function(e){u.remove(e)},programs:l,dispose:function(){u.dispose()}}}function Ly(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Zy(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Oy(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Ny(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var u=e[t];return void 0===u?(u={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=i,u.groupOrder=a,u.renderOrder=n.renderOrder,u.z=o,u.group=s),t++,u}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Zy),r.length>1&&r.sort(t||Oy),i.length>1&&i.sort(t||Oy)}}}function Uy(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new Ny,e.set(t,[r])):n>=i.length?(r=new Ny,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function Dy(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new qh,color:new hv};break;case"SpotLight":n={position:new qh,direction:new qh,color:new hv,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new qh,color:new hv,distance:0,decay:0};break;case"HemisphereLight":n={direction:new qh,skyColor:new hv,groundColor:new hv};break;case"RectAreaLight":n={color:new hv,position:new qh,halfWidth:new qh,halfHeight:new qh}}return e[t.id]=n,n}}}var By=0;function Fy(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function zy(e,t){for(var n=new Dy,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mh};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mh,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)i.probe.push(new qh);var o=new qh,s=new Sp,u=new Sp;return{setup:function(a,o){for(var s=0,u=0,l=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var f=0,d=0,h=0,p=0,v=0,m=0,g=0,y=0,b=0,w=0;a.sort(Fy);for(var x=!0===o?Math.PI:1,_=0,S=a.length;_<S;_++){var E=a[_],M=E.color,A=E.intensity,k=E.distance,T=E.shadow&&E.shadow.map?E.shadow.map.texture:null;if(E.isAmbientLight)s+=M.r*A*x,u+=M.g*A*x,l+=M.b*A*x;else if(E.isLightProbe)for(var C=0;C<9;C++)i.probe[C].addScaledVector(E.sh.coefficients[C],A);else if(E.isDirectionalLight){var P=n.get(E);if(P.color.copy(E.color).multiplyScalar(E.intensity*x),E.castShadow){var R=E.shadow,I=r.get(E);I.shadowBias=R.bias,I.shadowNormalBias=R.normalBias,I.shadowRadius=R.radius,I.shadowMapSize=R.mapSize,i.directionalShadow[f]=I,i.directionalShadowMap[f]=T,i.directionalShadowMatrix[f]=E.shadow.matrix,m++}i.directional[f]=P,f++}else if(E.isSpotLight){var L=n.get(E);L.position.setFromMatrixPosition(E.matrixWorld),L.color.copy(M).multiplyScalar(A*x),L.distance=k,L.coneCos=Math.cos(E.angle),L.penumbraCos=Math.cos(E.angle*(1-E.penumbra)),L.decay=E.decay,i.spot[h]=L;var Z=E.shadow;if(E.map&&(i.spotLightMap[b]=E.map,b++,Z.updateMatrices(E),E.castShadow&&w++),i.spotLightMatrix[h]=Z.matrix,E.castShadow){var O=r.get(E);O.shadowBias=Z.bias,O.shadowNormalBias=Z.normalBias,O.shadowRadius=Z.radius,O.shadowMapSize=Z.mapSize,i.spotShadow[h]=O,i.spotShadowMap[h]=T,y++}h++}else if(E.isRectAreaLight){var N=n.get(E);N.color.copy(M).multiplyScalar(A),N.halfWidth.set(.5*E.width,0,0),N.halfHeight.set(0,.5*E.height,0),i.rectArea[p]=N,p++}else if(E.isPointLight){var U=n.get(E);if(U.color.copy(E.color).multiplyScalar(E.intensity*x),U.distance=E.distance,U.decay=E.decay,E.castShadow){var D=E.shadow,B=r.get(E);B.shadowBias=D.bias,B.shadowNormalBias=D.normalBias,B.shadowRadius=D.radius,B.shadowMapSize=D.mapSize,B.shadowCameraNear=D.camera.near,B.shadowCameraFar=D.camera.far,i.pointShadow[d]=B,i.pointShadowMap[d]=T,i.pointShadowMatrix[d]=E.shadow.matrix,g++}i.point[d]=U,d++}else if(E.isHemisphereLight){var F=n.get(E);F.skyColor.copy(E.color).multiplyScalar(A*x),F.groundColor.copy(E.groundColor).multiplyScalar(A*x),i.hemi[v]=F,v++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=Pm.LTC_FLOAT_1,i.rectAreaLTC2=Pm.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=Pm.LTC_HALF_1,i.rectAreaLTC2=Pm.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=u,i.ambient[2]=l;var z=i.hash;z.directionalLength===f&&z.pointLength===d&&z.spotLength===h&&z.rectAreaLength===p&&z.hemiLength===v&&z.numDirectionalShadows===m&&z.numPointShadows===g&&z.numSpotShadows===y&&z.numSpotMaps===b||(i.directional.length=f,i.spot.length=h,i.rectArea.length=p,i.point.length=d,i.hemi.length=v,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=y,i.spotShadowMap.length=y,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=y+b-w,i.spotLightMap.length=b,i.numSpotLightShadowsWithMaps=w,z.directionalLength=f,z.pointLength=d,z.spotLength=h,z.rectAreaLength=p,z.hemiLength=v,z.numDirectionalShadows=m,z.numPointShadows=g,z.numSpotShadows=y,z.numSpotMaps=b,i.version=By++)},setupView:function(e,t){for(var n=0,r=0,a=0,l=0,c=0,f=t.matrixWorldInverse,d=0,h=e.length;d<h;d++){var p=e[d];if(p.isDirectionalLight){var v=i.directional[n];v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(f),n++}else if(p.isSpotLight){var m=i.spot[a];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(f),m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(f),a++}else if(p.isRectAreaLight){var g=i.rectArea[l];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(f),u.identity(),s.copy(p.matrixWorld),s.premultiply(f),u.extractRotation(s),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(u),g.halfHeight.applyMatrix4(u),l++}else if(p.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(f),r++}else if(p.isHemisphereLight){var b=i.hemi[c];b.direction.setFromMatrixPosition(p.matrixWorld),b.direction.transformDirection(f),c++}}},state:i}}function jy(e,t){var n=new zy(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function Hy(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(i=new jy(e,t),n.set(r,[i])):a>=o.length?(i=new jy(e,t),o.push(i)):i=o[a],i},dispose:function(){n=new WeakMap}}}var Gy=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=ld,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(uv),Wy=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(uv);function Vy(e,t,n){var r,i=new Mm,a=new mh,o=new mh,s=new Bh,u=new Gy({depthPacking:cd}),c=new Wy,f={},d=n.maxTextureSize,h=(r={},(0,l.Z)(r,Fl,zl),(0,l.Z)(r,zl,Fl),(0,l.Z)(r,jl,jl),r),p=new dm({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new mh},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),v=p.clone();v.defines.HORIZONTAL_PASS=1;var m=new zv;m.setAttribute("position",new Sv(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var g=new am(m,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ul;var b=this.type;function w(n,r){var i=t.update(g);p.defines.VSM_SAMPLES!==n.blurSamples&&(p.defines.VSM_SAMPLES=n.blurSamples,v.defines.VSM_SAMPLES=n.blurSamples,p.needsUpdate=!0,v.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new Fh(a.x,a.y)),p.uniforms.shadow_pass.value=n.map.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,p,g,null),v.uniforms.shadow_pass.value=n.mapPass.texture,v.uniforms.resolution.value=n.mapSize,v.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,v,g,null)}function x(t,n,r,i){var a=null,o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?c:u,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var s=a.uuid,l=n.uuid,d=f[s];void 0===d&&(d={},f[s]=d);var p=d[l];void 0===p&&(p=a.clone(),d[l]=p),a=p}(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===Bl?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial)&&(e.properties.get(a).light=r);return a}function _(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===Bl)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var u=t.update(n),l=n.material;if(Array.isArray(l))for(var c=u.groups,f=0,d=c.length;f<d;f++){var h=c[f],p=l[h.materialIndex];if(p&&p.visible){var v=x(n,p,o,s);e.renderBufferDirect(a,null,u,v,n,h)}}else if(l.visible){var m=x(n,l,o,s);e.renderBufferDirect(a,null,u,m,n,null)}}for(var g=n.children,y=0,b=g.length;y<b;y++)_(g[y],r,a,o,s)}}this.render=function(t,n,r){if(!1!==y.enabled&&(!1!==y.autoUpdate||!1!==y.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),l=e.getActiveCubeFace(),c=e.getActiveMipmapLevel(),f=e.state;f.setBlending(Gl),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var h=b!==Bl&&this.type===Bl,p=b===Bl&&this.type!==Bl,v=0,m=t.length;v<m;v++){var g=t[v],x=g.shadow;if(void 0!==x){if(!1!==x.autoUpdate||!1!==x.needsUpdate){a.copy(x.mapSize);var S=x.getFrameExtents();if(a.multiply(S),o.copy(x.mapSize),(a.x>d||a.y>d)&&(a.x>d&&(o.x=Math.floor(d/S.x),a.x=o.x*S.x,x.mapSize.x=o.x),a.y>d&&(o.y=Math.floor(d/S.y),a.y=o.y*S.y,x.mapSize.y=o.y)),null===x.map||!0===h||!0===p){var E=this.type!==Bl?{minFilter:Dc,magFilter:Dc}:{};null!==x.map&&x.map.dispose(),x.map=new Fh(a.x,a.y,E),x.map.texture.name=g.name+".shadowMap",x.camera.updateProjectionMatrix()}e.setRenderTarget(x.map),e.clear();for(var M=x.getViewportCount(),A=0;A<M;A++){var k=x.getViewport(A);s.set(o.x*k.x,o.y*k.y,o.x*k.z,o.y*k.w),f.viewport(s),x.updateMatrices(g,A),i=x.getFrustum(),_(n,r,x.camera,g,this.type)}!0!==x.isPointLightShadow&&this.type===Bl&&w(x,r),x.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}b=this.type,y.needsUpdate=!1,e.setRenderTarget(u,l,c)}}}function qy(e,t,n){var r,i,a=n.isWebGL2;var o=new function(){var t=!1,n=new Bh,r=null,i=new Bh(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?H(e.DEPTH_TEST):G(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case dc:e.depthFunc(e.NEVER);break;case hc:e.depthFunc(e.ALWAYS);break;case pc:e.depthFunc(e.LESS);break;case vc:e.depthFunc(e.LEQUAL);break;case mc:e.depthFunc(e.EQUAL);break;case gc:e.depthFunc(e.GEQUAL);break;case yc:e.depthFunc(e.GREATER);break;case bc:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},u=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(n){t||(n?H(e.STENCIL_TEST):G(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&u===r||(e.stencilOp(t,n,r),o=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null}}},c=new WeakMap,f=new WeakMap,d={},h={},p=new WeakMap,v=[],m=null,g=!1,y=null,b=null,w=null,x=null,_=null,S=null,E=null,M=!1,A=null,k=null,T=null,C=null,P=null,R=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),I=!1,L=0,Z=e.getParameter(e.VERSION);-1!==Z.indexOf("WebGL")?(L=parseFloat(/^WebGL (\d)/.exec(Z)[1]),I=L>=1):-1!==Z.indexOf("OpenGL ES")&&(L=parseFloat(/^OpenGL ES (\d)/.exec(Z)[1]),I=L>=2);var O=null,N={},U=e.getParameter(e.SCISSOR_BOX),D=e.getParameter(e.VIEWPORT),B=(new Bh).fromArray(U),F=(new Bh).fromArray(D);function z(t,n,r,i){var o=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var u=0;u<r;u++)!a||t!==e.TEXTURE_3D&&t!==e.TEXTURE_2D_ARRAY?e.texImage2D(n+u,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,o);return s}var j={};function H(t){!0!==d[t]&&(e.enable(t),d[t]=!0)}function G(t){!1!==d[t]&&(e.disable(t),d[t]=!1)}j[e.TEXTURE_2D]=z(e.TEXTURE_2D,e.TEXTURE_2D,1),j[e.TEXTURE_CUBE_MAP]=z(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),a&&(j[e.TEXTURE_2D_ARRAY]=z(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),j[e.TEXTURE_3D]=z(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),s.setClear(1),u.setClear(0),H(e.DEPTH_TEST),s.setFunc(vc),Y(!1),Q(Ll),H(e.CULL_FACE),X(Gl);var W=(r={},(0,l.Z)(r,Ql,e.FUNC_ADD),(0,l.Z)(r,Kl,e.FUNC_SUBTRACT),(0,l.Z)(r,Jl,e.FUNC_REVERSE_SUBTRACT),r);if(a)W[$l]=e.MIN,W[ec]=e.MAX;else{var V=t.get("EXT_blend_minmax");null!==V&&(W[$l]=V.MIN_EXT,W[ec]=V.MAX_EXT)}var q=(i={},(0,l.Z)(i,tc,e.ZERO),(0,l.Z)(i,nc,e.ONE),(0,l.Z)(i,rc,e.SRC_COLOR),(0,l.Z)(i,ac,e.SRC_ALPHA),(0,l.Z)(i,fc,e.SRC_ALPHA_SATURATE),(0,l.Z)(i,lc,e.DST_COLOR),(0,l.Z)(i,sc,e.DST_ALPHA),(0,l.Z)(i,ic,e.ONE_MINUS_SRC_COLOR),(0,l.Z)(i,oc,e.ONE_MINUS_SRC_ALPHA),(0,l.Z)(i,cc,e.ONE_MINUS_DST_COLOR),(0,l.Z)(i,uc,e.ONE_MINUS_DST_ALPHA),i);function X(t,n,r,i,a,o,s,u){if(t!==Gl){if(!1===g&&(H(e.BLEND),g=!0),t===Yl)a=a||n,o=o||r,s=s||i,n===b&&a===_||(e.blendEquationSeparate(W[n],W[a]),b=n,_=a),r===w&&i===x&&o===S&&s===E||(e.blendFuncSeparate(q[r],q[i],q[o],q[s]),w=r,x=i,S=o,E=s),y=t,M=!1;else if(t!==y||u!==M){if(b===Ql&&_===Ql||(e.blendEquation(e.FUNC_ADD),b=Ql,_=Ql),u)switch(t){case Wl:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case Vl:e.blendFunc(e.ONE,e.ONE);break;case ql:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case Xl:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case Wl:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case Vl:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case ql:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case Xl:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}w=null,x=null,S=null,E=null,y=t,M=u}}else!0===g&&(G(e.BLEND),g=!1)}function Y(t){A!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),A=t)}function Q(t){t!==Il?(H(e.CULL_FACE),t!==k&&(t===Ll?e.cullFace(e.BACK):t===Zl?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):G(e.CULL_FACE),k=t}function K(t,n,r){t?(H(e.POLYGON_OFFSET_FILL),C===n&&P===r||(e.polygonOffset(n,r),C=n,P=r)):G(e.POLYGON_OFFSET_FILL)}return{buffers:{color:o,depth:s,stencil:u},enable:H,disable:G,bindFramebuffer:function(t,n){return h[t]!==n&&(e.bindFramebuffer(t,n),h[t]=n,a&&(t===e.DRAW_FRAMEBUFFER&&(h[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(h[e.DRAW_FRAMEBUFFER]=n)),!0)},drawBuffers:function(r,i){var a=v,o=!1;if(r)if(void 0===(a=p.get(i))&&(a=[],p.set(i,a)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(a.length!==s.length||a[0]!==e.COLOR_ATTACHMENT0){for(var u=0,l=s.length;u<l;u++)a[u]=e.COLOR_ATTACHMENT0+u;a.length=s.length,o=!0}}else a[0]!==e.COLOR_ATTACHMENT0&&(a[0]=e.COLOR_ATTACHMENT0,o=!0);else a[0]!==e.BACK&&(a[0]=e.BACK,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return m!==t&&(e.useProgram(t),m=t,!0)},setBlending:X,setMaterial:function(t,n){t.side===jl?G(e.CULL_FACE):H(e.CULL_FACE);var r=t.side===zl;n&&(r=!r),Y(r),t.blending===Wl&&!1===t.transparent?X(Gl):X(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),s.setFunc(t.depthFunc),s.setTest(t.depthTest),s.setMask(t.depthWrite),o.setMask(t.colorWrite);var i=t.stencilWrite;u.setTest(i),i&&(u.setMask(t.stencilWriteMask),u.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),u.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),K(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?H(e.SAMPLE_ALPHA_TO_COVERAGE):G(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Y,setCullFace:Q,setLineWidth:function(t){t!==T&&(I&&e.lineWidth(t),T=t)},setPolygonOffset:K,setScissorTest:function(t){t?H(e.SCISSOR_TEST):G(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+R-1),O!==t&&(e.activeTexture(t),O=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===O?e.TEXTURE0+R-1:O);var i=N[r];void 0===i&&(i={type:void 0,texture:void 0},N[r]=i),i.type===t&&i.texture===n||(O!==r&&(e.activeTexture(r),O=r),e.bindTexture(t,n||j[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=N[O];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){var r=f.get(n);void 0===r&&(r=new WeakMap,f.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=f.get(n).get(t);c.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),c.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===B.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),B.copy(t))},viewport:function(t){!1===F.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),F.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===a&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),d={},O=null,N={},h={},p=new WeakMap,v=[],m=null,g=!1,y=null,b=null,w=null,x=null,_=null,S=null,E=null,M=!1,A=null,k=null,T=null,C=null,P=null,B.set(0,0,e.canvas.width,e.canvas.height),F.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),u.reset()}}}function Xy(e,t,n,r,i,a,o){var s,u,c,f,d=i.isWebGL2,h=i.maxTextures,p=i.maxCubemapSize,v=i.maxTextureSize,m=i.maxSamples,g=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,y="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),b=new WeakMap,w=new WeakMap,x=!1;try{x="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(vk){}function _(e,t){return x?new OffscreenCanvas(e,t):_h("canvas")}function S(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?dh:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===f&&(f=_(o,s));var u=n?_(o,s):f;return u.width=o,u.height=s,u.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function E(e){return ch(e.width)&&ch(e.height)}function M(e,t){return e.generateMipmaps&&t&&e.minFilter!==Dc&&e.minFilter!==Hc}function A(t){e.generateMipmap(t)}function k(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===d)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;return r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RGBA&&(i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=a===pd&&!1===o?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)),s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function T(e,t,n){return!0===M(e,n)||e.isFramebufferTexture&&e.minFilter!==Dc&&e.minFilter!==Hc?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function C(t){return t===Dc||t===Bc||t===zc?e.NEAREST:e.LINEAR}function P(e){var t=e.target;t.removeEventListener("dispose",P),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=w.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&I(e),0===Object.keys(i).length&&w.delete(n)}r.remove(e)}(t),t.isVideoTexture&&b.delete(t)}function R(t){var n=t.target;n.removeEventListener("dispose",R),function(t){var n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(i.__webglFramebuffer[s]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var u=0;u<i.__webglColorRenderbuffer.length;u++)i.__webglColorRenderbuffer[u]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[u]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var l=0,c=n.length;l<c;l++){var f=r.get(n[l]);f.__webglTexture&&(e.deleteTexture(f.__webglTexture),o.memory.textures--),r.remove(n[l])}r.remove(n),r.remove(t)}(n)}function I(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete w.get(i)[n.__cacheKey],o.memory.textures--}var L=0;function Z(t,i){var a=r.get(t);if(t.isVideoTexture&&function(e){var t=o.render.frame;b.get(e)!==t&&(b.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){var s=t.image;if(null===s)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==s.complete)return void F(a,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}var O=(s={},(0,l.Z)(s,Oc,e.REPEAT),(0,l.Z)(s,Nc,e.CLAMP_TO_EDGE),(0,l.Z)(s,Uc,e.MIRRORED_REPEAT),s),N=(u={},(0,l.Z)(u,Dc,e.NEAREST),(0,l.Z)(u,Bc,e.NEAREST_MIPMAP_NEAREST),(0,l.Z)(u,zc,e.NEAREST_MIPMAP_LINEAR),(0,l.Z)(u,Hc,e.LINEAR),(0,l.Z)(u,Gc,e.LINEAR_MIPMAP_NEAREST),(0,l.Z)(u,Vc,e.LINEAR_MIPMAP_LINEAR),u),U=(c={},(0,l.Z)(c,Ld,e.NEVER),(0,l.Z)(c,Fd,e.ALWAYS),(0,l.Z)(c,Zd,e.LESS),(0,l.Z)(c,Nd,e.LEQUAL),(0,l.Z)(c,Od,e.EQUAL),(0,l.Z)(c,Bd,e.GEQUAL),(0,l.Z)(c,Ud,e.GREATER),(0,l.Z)(c,Dd,e.NOTEQUAL),c);function D(n,a,o){if(o?(e.texParameteri(n,e.TEXTURE_WRAP_S,O[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,O[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,O[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,N[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,N[a.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),a.wrapS===Nc&&a.wrapT===Nc||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,C(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,C(a.minFilter)),a.minFilter!==Dc&&a.minFilter!==Hc&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,U[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===Dc)return;if(a.minFilter!==zc&&a.minFilter!==Vc)return;if(a.type===ef&&!1===t.has("OES_texture_float_linear"))return;if(!1===d&&a.type===tf&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function B(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",P));var i=n.source,a=w.get(i);void 0===a&&(a={},w.set(i,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;var u=a[t.__cacheKey];void 0!==u&&(a[t.__cacheKey].usedTimes--,0===u.usedTimes&&I(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function F(t,i,o){var s=e.TEXTURE_2D;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(s=e.TEXTURE_2D_ARRAY),i.isData3DTexture&&(s=e.TEXTURE_3D);var u=B(t,i),l=i.source;n.bindTexture(s,t.__webglTexture,e.TEXTURE0+o);var c=r.get(l);if(l.version!==c.__version||!0===u){n.activeTexture(e.TEXTURE0+o),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);var f,h=function(e){return!d&&(e.wrapS!==Nc||e.wrapT!==Nc||e.minFilter!==Dc&&e.minFilter!==Hc)}(i)&&!1===E(i.image),p=S(i.image,h,!1,v),m=E(p=V(i,p))||d,g=a.convert(i.format,i.colorSpace),y=a.convert(i.type),b=k(i.internalFormat,g,y,i.colorSpace);D(s,i,m);var w=i.mipmaps,x=d&&!0!==i.isVideoTexture,_=void 0===c.__version||!0===u,C=T(i,p,m);if(i.isDepthTexture)b=e.DEPTH_COMPONENT,d?b=i.type===ef?e.DEPTH_COMPONENT32F:i.type===$c?e.DEPTH_COMPONENT24:i.type===af?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:i.type===ef&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===cf&&b===e.DEPTH_COMPONENT&&i.type!==Kc&&i.type!==$c&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=$c,y=a.convert(i.type)),i.format===ff&&b===e.DEPTH_COMPONENT&&(b=e.DEPTH_STENCIL,i.type!==af&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=af,y=a.convert(i.type))),_&&(x?n.texStorage2D(e.TEXTURE_2D,1,b,p.width,p.height):n.texImage2D(e.TEXTURE_2D,0,b,p.width,p.height,0,g,y,null));else if(i.isDataTexture)if(w.length>0&&m){x&&_&&n.texStorage2D(e.TEXTURE_2D,C,b,w[0].width,w[0].height);for(var P=0,R=w.length;P<R;P++)f=w[P],x?n.texSubImage2D(e.TEXTURE_2D,P,0,0,f.width,f.height,g,y,f.data):n.texImage2D(e.TEXTURE_2D,P,b,f.width,f.height,0,g,y,f.data);i.generateMipmaps=!1}else x?(_&&n.texStorage2D(e.TEXTURE_2D,C,b,p.width,p.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,p.width,p.height,g,y,p.data)):n.texImage2D(e.TEXTURE_2D,0,b,p.width,p.height,0,g,y,p.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){x&&_&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,b,w[0].width,w[0].height,p.depth);for(var I=0,L=w.length;I<L;I++)f=w[I],i.format!==sf?null!==g?x?n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,I,0,0,0,f.width,f.height,p.depth,g,f.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,I,b,f.width,f.height,p.depth,0,f.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):x?n.texSubImage3D(e.TEXTURE_2D_ARRAY,I,0,0,0,f.width,f.height,p.depth,g,y,f.data):n.texImage3D(e.TEXTURE_2D_ARRAY,I,b,f.width,f.height,p.depth,0,g,y,f.data)}else{x&&_&&n.texStorage2D(e.TEXTURE_2D,C,b,w[0].width,w[0].height);for(var Z=0,O=w.length;Z<O;Z++)f=w[Z],i.format!==sf?null!==g?x?n.compressedTexSubImage2D(e.TEXTURE_2D,Z,0,0,f.width,f.height,g,f.data):n.compressedTexImage2D(e.TEXTURE_2D,Z,b,f.width,f.height,0,f.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):x?n.texSubImage2D(e.TEXTURE_2D,Z,0,0,f.width,f.height,g,y,f.data):n.texImage2D(e.TEXTURE_2D,Z,b,f.width,f.height,0,g,y,f.data)}else if(i.isDataArrayTexture)x?(_&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,b,p.width,p.height,p.depth),n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,p.width,p.height,p.depth,g,y,p.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,b,p.width,p.height,p.depth,0,g,y,p.data);else if(i.isData3DTexture)x?(_&&n.texStorage3D(e.TEXTURE_3D,C,b,p.width,p.height,p.depth),n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,p.width,p.height,p.depth,g,y,p.data)):n.texImage3D(e.TEXTURE_3D,0,b,p.width,p.height,p.depth,0,g,y,p.data);else if(i.isFramebufferTexture){if(_)if(x)n.texStorage2D(e.TEXTURE_2D,C,b,p.width,p.height);else for(var N=p.width,U=p.height,F=0;F<C;F++)n.texImage2D(e.TEXTURE_2D,F,b,N,U,0,g,y,null),N>>=1,U>>=1}else if(w.length>0&&m){x&&_&&n.texStorage2D(e.TEXTURE_2D,C,b,w[0].width,w[0].height);for(var z=0,j=w.length;z<j;z++)f=w[z],x?n.texSubImage2D(e.TEXTURE_2D,z,0,0,g,y,f):n.texImage2D(e.TEXTURE_2D,z,b,g,y,f);i.generateMipmaps=!1}else x?(_&&n.texStorage2D(e.TEXTURE_2D,C,b,p.width,p.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,g,y,p)):n.texImage2D(e.TEXTURE_2D,0,b,g,y,p);M(i,m)&&A(s),c.__version=l.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function z(t,i,o,s,u){var l=a.convert(o.format,o.colorSpace),c=a.convert(o.type),f=k(o.internalFormat,l,c,o.colorSpace);r.get(i).__hasExternalTextures||(u===e.TEXTURE_3D||u===e.TEXTURE_2D_ARRAY?n.texImage3D(u,0,f,i.width,i.height,i.depth,0,l,c,null):n.texImage2D(u,0,f,i.width,i.height,0,l,c,null)),n.bindFramebuffer(e.FRAMEBUFFER,t),W(i)?g.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,u,r.get(o).__webglTexture,0,G(i)):(u===e.TEXTURE_2D||u>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&u<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,u,r.get(o).__webglTexture,0),n.bindFramebuffer(e.FRAMEBUFFER,null)}function j(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){var i=e.DEPTH_COMPONENT16;if(r||W(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===ef?i=e.DEPTH_COMPONENT32F:o.type===$c&&(i=e.DEPTH_COMPONENT24));var s=G(n);W(n)?g.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,s,i,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,s,i,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,i,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){var u=G(n);r&&!1===W(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,u,e.DEPTH24_STENCIL8,n.width,n.height):W(n)?g.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,u,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else for(var l=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<l.length;c++){var f=l[c],d=a.convert(f.format,f.colorSpace),h=a.convert(f.type),p=k(f.internalFormat,d,h,f.colorSpace),v=G(n);r&&!1===W(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,v,p,n.width,n.height):W(n)?g.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,v,p,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,p,n.width,n.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function H(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),Z(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=G(i);if(i.depthTexture.format===cf)W(i)?g.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==ff)throw new Error("Unknown depthTexture format");W(i)?g.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),j(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),j(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function G(e){return Math.min(m,e.samples)}function W(e){var n=r.get(e);return d&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(e,n){var r=e.colorSpace,i=e.format,a=e.type;return!0===e.isCompressedTexture||e.format===Jd||r!==vd&&r!==hd&&(r===pd?!1===d?!0===t.has("EXT_sRGB")&&i===sf?(e.format=Jd,e.minFilter=Hc,e.generateMipmaps=!1):n=Lh.sRGBToLinear(n):i===sf&&a===Xc||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",r)),n}this.allocateTextureUnit=function(){var e=L;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),L+=1,e},this.resetTextureUnits=function(){L=0},this.setTexture2D=Z,this.setTexture2DArray=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?F(a,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?F(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,i,o){if(6!==i.image.length)return;var s=B(t,i),u=i.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+o);var l=r.get(u);if(u.version!==l.__version||!0===s){n.activeTexture(e.TEXTURE0+o),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);for(var c=i.isCompressedTexture||i.image[0].isCompressedTexture,f=i.image[0]&&i.image[0].isDataTexture,h=[],v=0;v<6;v++)h[v]=c||f?f?i.image[v].image:i.image[v]:S(i.image[v],!1,!0,p),h[v]=V(i,h[v]);var m,g=h[0],y=E(g)||d,b=a.convert(i.format,i.colorSpace),w=a.convert(i.type),x=k(i.internalFormat,b,w,i.colorSpace),_=d&&!0!==i.isVideoTexture,C=void 0===l.__version||!0===s,P=T(i,g,y);if(D(e.TEXTURE_CUBE_MAP,i,y),c){_&&C&&n.texStorage2D(e.TEXTURE_CUBE_MAP,P,x,g.width,g.height);for(var R=0;R<6;R++){m=h[R].mipmaps;for(var I=0;I<m.length;I++){var L=m[I];i.format!==sf?null!==b?_?n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+R,I,0,0,L.width,L.height,b,L.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+R,I,x,L.width,L.height,0,L.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):_?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+R,I,0,0,L.width,L.height,b,w,L.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+R,I,x,L.width,L.height,0,b,w,L.data)}}}else{m=i.mipmaps,_&&C&&(m.length>0&&P++,n.texStorage2D(e.TEXTURE_CUBE_MAP,P,x,h[0].width,h[0].height));for(var Z=0;Z<6;Z++)if(f){_?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,0,0,h[Z].width,h[Z].height,b,w,h[Z].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,x,h[Z].width,h[Z].height,0,b,w,h[Z].data);for(var O=0;O<m.length;O++){var N=m[O].image[Z].image;_?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Z,O+1,0,0,N.width,N.height,b,w,N.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Z,O+1,x,N.width,N.height,0,b,w,N.data)}}else{_?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,0,0,b,w,h[Z]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,x,b,w,h[Z]);for(var U=0;U<m.length;U++){var F=m[U];_?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Z,U+1,0,0,b,w,F.image[Z]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Z,U+1,x,b,w,F.image[Z])}}}M(i,y)&&A(e.TEXTURE_CUBE_MAP),l.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(o,t,i):n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture,e.TEXTURE0+i)},this.rebindTextures=function(t,n,i){var a=r.get(t);void 0!==n&&z(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),void 0!==i&&H(t)},this.setupRenderTarget=function(t){var s=t.texture,u=r.get(t),l=r.get(s);t.addEventListener("dispose",R),!0!==t.isWebGLMultipleRenderTargets&&(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=s.version,o.memory.textures++);var c=!0===t.isWebGLCubeRenderTarget,f=!0===t.isWebGLMultipleRenderTargets,h=E(t)||d;if(c){u.__webglFramebuffer=[];for(var p=0;p<6;p++)u.__webglFramebuffer[p]=e.createFramebuffer()}else{if(u.__webglFramebuffer=e.createFramebuffer(),f)if(i.drawBuffers)for(var v=t.texture,m=0,g=v.length;m<g;m++){var y=r.get(v[m]);void 0===y.__webglTexture&&(y.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(d&&t.samples>0&&!1===W(t)){var b=f?s:[s];u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer);for(var w=0;w<b.length;w++){var x=b[w];u.__webglColorRenderbuffer[w]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,u.__webglColorRenderbuffer[w]);var _=a.convert(x.format,x.colorSpace),S=a.convert(x.type),T=k(x.internalFormat,_,S,x.colorSpace,!0===t.isXRRenderTarget),C=G(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,C,T,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+w,e.RENDERBUFFER,u.__webglColorRenderbuffer[w])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),j(u.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(c){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),D(e.TEXTURE_CUBE_MAP,s,h);for(var P=0;P<6;P++)z(u.__webglFramebuffer[P],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+P);M(s,h)&&A(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(f){for(var I=t.texture,L=0,Z=I.length;L<Z;L++){var O=I[L],N=r.get(O);n.bindTexture(e.TEXTURE_2D,N.__webglTexture),D(e.TEXTURE_2D,O,h),z(u.__webglFramebuffer,t,O,e.COLOR_ATTACHMENT0+L,e.TEXTURE_2D),M(O,h)&&A(e.TEXTURE_2D)}n.unbindTexture()}else{var U=e.TEXTURE_2D;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(d?U=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(U,l.__webglTexture),D(U,s,h),z(u.__webglFramebuffer,t,s,e.COLOR_ATTACHMENT0,U),M(s,h)&&A(U),n.unbindTexture()}t.depthBuffer&&H(t)},this.updateRenderTargetMipmap=function(t){for(var i=E(t)||d,a=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=0,s=a.length;o<s;o++){var u=a[o];if(M(u,i)){var l=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,c=r.get(u).__webglTexture;n.bindTexture(l,c),A(l),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(d&&t.samples>0&&!1===W(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=e.COLOR_BUFFER_BIT,u=[],l=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=r.get(t),f=!0===t.isWebGLMultipleRenderTargets;if(f)for(var h=0;h<i.length;h++)n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+h,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+h,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(var p=0;p<i.length;p++){u.push(e.COLOR_ATTACHMENT0+p),t.depthBuffer&&u.push(l);var v=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===v&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),f&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,c.__webglColorRenderbuffer[p]),!0===v&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[l]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[l])),f){var m=r.get(i[p]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,m,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),y&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,u)}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),f)for(var g=0;g<i.length;g++){n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+g,e.RENDERBUFFER,c.__webglColorRenderbuffer[g]);var b=r.get(i[g]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+g,e.TEXTURE_2D,b,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=H,this.setupFrameBufferTexture=z,this.useMultisampledRTT=W}function Yy(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hd;if(n===Xc)return e.UNSIGNED_BYTE;if(n===nf)return e.UNSIGNED_SHORT_4_4_4_4;if(n===rf)return e.UNSIGNED_SHORT_5_5_5_1;if(n===Yc)return e.BYTE;if(n===Qc)return e.SHORT;if(n===Kc)return e.UNSIGNED_SHORT;if(n===Jc)return e.INT;if(n===$c)return e.UNSIGNED_INT;if(n===ef)return e.FLOAT;if(n===tf)return r?e.HALF_FLOAT:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(n===of)return e.ALPHA;if(n===sf)return e.RGBA;if(n===uf)return e.LUMINANCE;if(n===lf)return e.LUMINANCE_ALPHA;if(n===cf)return e.DEPTH_COMPONENT;if(n===ff)return e.DEPTH_STENCIL;if(n===Jd)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(n===df)return e.RED;if(n===hf)return e.RED_INTEGER;if(n===pf)return e.RG;if(n===vf)return e.RG_INTEGER;if(n===mf)return e.RGBA_INTEGER;if(n===gf||n===yf||n===bf||n===wf)if(a===pd){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===gf)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===yf)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===bf)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===wf)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===gf)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===yf)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===bf)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===wf)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===xf||n===_f||n===Sf||n===Ef){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===xf)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===_f)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Sf)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Ef)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Mf)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===Af||n===kf){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(n===Af)return a===pd?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===kf)return a===pd?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===Tf||n===Cf||n===Pf||n===Rf||n===If||n===Lf||n===Zf||n===Of||n===Nf||n===Uf||n===Df||n===Bf||n===Ff||n===zf){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(n===Tf)return a===pd?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Cf)return a===pd?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Pf)return a===pd?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Rf)return a===pd?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===If)return a===pd?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Lf)return a===pd?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Zf)return a===pd?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Of)return a===pd?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Nf)return a===pd?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Uf)return a===pd?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Df)return a===pd?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Bf)return a===pd?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Ff)return a===pd?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===zf)return a===pd?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===jf){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===jf)return a===pd?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(n===Hf||n===Gf||n===Wf||n===Vf){if(null===(i=t.get("EXT_texture_compression_rgtc")))return null;if(n===jf)return i.COMPRESSED_RED_RGTC1_EXT;if(n===Gf)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Wf)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Vf)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===af?r?e.UNSIGNED_INT_24_8:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var Qy=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,I.Z)(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=r,e}return(0,L.Z)(n)}(pm),Ky=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return(0,L.Z)(n)}(Xp),Jy={type:"move"},$y=function(){function e(){(0,I.Z)(this,e),this._targetRay=null,this._grip=null,this._hand=null}return(0,L.Z)(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new Ky,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new Ky,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new qh,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new qh),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new Ky,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new qh,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new qh),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,r=(0,F.Z)(e.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(t,i)}}catch(vk){r.e(vk)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,u=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(u&&e.hand){a=!0;var l,c=(0,F.Z)(e.hand.values());try{for(c.s();!(l=c.n()).done;){var f=l.value,d=t.getJointPose(f,n),h=this._getHandJoint(u,f);null!==d&&(h.matrix.fromArray(d.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,h.jointRadius=d.radius),h.visible=null!==d}}catch(vk){c.e(vk)}finally{c.f()}var p=u.joints["index-finger-tip"],v=u.joints["thumb-tip"],m=p.position.distanceTo(v.position);u.inputState.pinching&&m>.025?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&m<=.015&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Jy)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==u&&(u.visible=null!==a),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new Ky;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}]),e}(),eb=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i,a,o,s,u,l,c,f){var d;if((0,I.Z)(this,n),(f=void 0!==f?f:cf)!==cf&&f!==ff)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&f===cf&&(i=$c),void 0===i&&f===ff&&(i=af),(d=t.call(this,null,a,o,s,u,l,f,i,c)).isDepthTexture=!0,d.image={width:e,height:r},d.magFilter=void 0!==u?u:Dc,d.minFilter=void 0!==l?l:Dc,d.flipY=!1,d.generateMipmaps=!1,d.compareFunction=null,d}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.compareFunction=e.compareFunction,this}},{key:"toJSON",value:function(e){var t=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this,e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}]),n}(Dh),tb=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r){var i;(0,I.Z)(this,n),i=t.call(this);var a=(0,z.Z)(i),o=null,s=1,u=null,l="local-floor",c=1,f=null,d=null,h=null,p=null,v=null,m=null,g=r.getContextAttributes(),y=null,b=null,w=[],x=[],_=new pm;_.layers.enable(1),_.viewport=new Bh;var S=new pm;S.layers.enable(2),S.viewport=new Bh;var E=[_,S],M=new Qy;M.layers.enable(1),M.layers.enable(2);var A=null,k=null;function T(e){var t=x.indexOf(e.inputSource);if(-1!==t){var n=w[t];void 0!==n&&(n.update(e.inputSource,e.frame,f||u),n.dispatchEvent({type:e.type,data:e.inputSource}))}}function C(){o.removeEventListener("select",T),o.removeEventListener("selectstart",T),o.removeEventListener("selectend",T),o.removeEventListener("squeeze",T),o.removeEventListener("squeezestart",T),o.removeEventListener("squeezeend",T),o.removeEventListener("end",C),o.removeEventListener("inputsourceschange",L);for(var t=0;t<w.length;t++){var n=x[t];null!==n&&(x[t]=null,w[t].disconnect(n))}A=null,k=null,e.setRenderTarget(y),v=null,p=null,h=null,o=null,b=null,D.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function L(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=x.indexOf(n);r>=0&&(x[r]=null,w[r].disconnect(n))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=x.indexOf(a);if(-1===o){for(var s=0;s<w.length;s++){if(s>=x.length){x.push(a),o=s;break}if(null===x[s]){x[s]=a,o=s;break}}if(-1===o)break}var u=w[o];u&&u.connect(a)}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=w[e];return void 0===t&&(t=new $y,w[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=w[e];return void 0===t&&(t=new $y,w[e]=t),t.getGripSpace()},i.getHand=function(e){var t=w[e];return void 0===t&&(t=new $y,w[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){s=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){l=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return f||u},i.setReferenceSpace=function(e){f=e},i.getBaseLayer=function(){return null!==p?p:v},i.getBinding=function(){return h},i.getFrame=function(){return m},i.getSession=function(){return o},i.setSession=function(){var t=(0,R.Z)((0,P.Z)().mark((function t(n){var i,d,m,w,x;return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=n)){t.next=25;break}if(y=e.getRenderTarget(),o.addEventListener("select",T),o.addEventListener("selectstart",T),o.addEventListener("selectend",T),o.addEventListener("squeeze",T),o.addEventListener("squeezestart",T),o.addEventListener("squeezeend",T),o.addEventListener("end",C),o.addEventListener("inputsourceschange",L),!0===g.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return void 0===o.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==o.renderState.layers||g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s},v=new XRWebGLLayer(o,r,i),o.updateRenderState({baseLayer:v}),b=new Fh(v.framebufferWidth,v.framebufferHeight,{format:sf,type:Xc,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil})):(d=null,m=null,w=null,g.depth&&(w=g.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,d=g.stencil?ff:cf,m=g.stencil?af:$c),x={colorFormat:r.RGBA8,depthFormat:w,scaleFactor:s},h=new XRWebGLBinding(o,r),p=h.createProjectionLayer(x),o.updateRenderState({layers:[p]}),b=new Fh(p.textureWidth,p.textureHeight,{format:sf,type:Xc,depthTexture:new eb(p.textureWidth,p.textureHeight,m,void 0,void 0,void 0,void 0,void 0,void 0,d),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0}),e.properties.get(b).__ignoreDepthValues=p.ignoreDepthValues),b.isXRRenderTarget=!0,this.setFoveation(c),f=null,t.next=20,o.requestReferenceSpace(l);case 20:u=t.sent,D.setContext(o),D.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 25:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.getEnvironmentBlendMode=function(){if(null!==o)return o.environmentBlendMode};var Z=new qh,O=new qh;function N(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==o){M.near=S.near=_.near=e.near,M.far=S.far=_.far=e.far,A===M.near&&k===M.far||(o.updateRenderState({depthNear:M.near,depthFar:M.far}),A=M.near,k=M.far);var t=e.parent,n=M.cameras;N(M,t);for(var r=0;r<n.length;r++)N(n[r],t);2===n.length?function(e,t,n){Z.setFromMatrixPosition(t.matrixWorld),O.setFromMatrixPosition(n.matrixWorld);var r=Z.distanceTo(O),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],f=(a[8]+1)/a[0],d=o*c,h=o*f,p=r/(-c+f),v=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+p,g=s+p,y=d-v,b=h+(r-v),w=u*s/g*m,x=l*s/g*m;e.projectionMatrix.makePerspective(y,b,w,x,m,g),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(M,_,S):M.projectionMatrix.copy(_.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0);for(var r=e.children,i=0,a=r.length;i<a;i++)r[i].updateMatrixWorld(!0);e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*ah*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,M,t)}},i.getCamera=function(){return M},i.getFoveation=function(){if(null!==p||null!==v)return c},i.setFoveation=function(e){c=e,null!==p&&(p.fixedFoveation=e),null!==v&&void 0!==v.fixedFoveation&&(v.fixedFoveation=e)};var U=null;var D=new Am;return D.setAnimationLoop((function(t,n){if(d=n.getViewerPose(f||u),m=n,null!==d){var r=d.views;null!==v&&(e.setRenderTargetFramebuffer(b,v.framebuffer),e.setRenderTarget(b));var i=!1;r.length!==M.cameras.length&&(M.cameras.length=0,i=!0);for(var o=0;o<r.length;o++){var s=r[o],l=null;if(null!==v)l=v.getViewport(s);else{var c=h.getViewSubImage(p,s);l=c.viewport,0===o&&(e.setRenderTargetTextures(b,c.colorTexture,p.ignoreDepthValues?void 0:c.depthStencilTexture),e.setRenderTarget(b))}var g=E[o];void 0===g&&((g=new pm).layers.enable(o),g.viewport=new Bh,E[o]=g),g.matrix.fromArray(s.transform.matrix),g.matrix.decompose(g.position,g.quaternion,g.scale),g.projectionMatrix.fromArray(s.projectionMatrix),g.projectionMatrixInverse.copy(g.projectionMatrix).invert(),g.viewport.set(l.x,l.y,l.width,l.height),0===o&&(M.matrix.copy(g.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),!0===i&&M.cameras.push(g)}}for(var y=0;y<w.length;y++){var _=x[y],S=w[y];null!==_&&void 0!==S&&S.update(_,n,f||u)}U&&U(t,n),n.detectedPlanes&&a.dispatchEvent({type:"planesdetected",data:n}),m=null})),i.setAnimationLoop=function(e){U=e},i.dispose=function(){},i}return(0,L.Z)(n)}(th);function nb(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===zl&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===zl&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);var a=t.get(i).envMap;if(a&&(r.envMap.value=a,r.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;var o=!0===e.useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*o,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,cm(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform));e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));var i=t.get(r).envMap;i&&(e.envMapIntensity.value=r.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===zl&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){var r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function rb(e,t,n,r){var i={},a={},o=[],s=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function u(e,t,n){var r=e.value;if(void 0===n[t]){if("number"===typeof r)n[t]=r;else{for(var i=Array.isArray(r)?r:[r],a=[],o=0;o<i.length;o++)a.push(i[o].clone());n[t]=a}return!0}if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else for(var s=Array.isArray(n[t])?n[t]:[n[t]],u=Array.isArray(r)?r:[r],l=0;l<s.length;l++){var c=s[l];if(!1===c.equals(u[l]))return c.copy(u[l]),!0}return!1}function l(e){var t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,f){var d=i[n.id];void 0===d&&(!function(e){for(var t=e.uniforms,n=0,r=16,i=0,a=0,o=t.length;a<o;a++){for(var s=t[a],u={boundary:0,storage:0},c=Array.isArray(s.value)?s.value:[s.value],f=0,d=c.length;f<d;f++){var h=l(c[f]);u.boundary+=h.boundary,u.storage+=h.storage}if(s.__data=new Float32Array(u.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=n,a>0)0!==(i=n%r)&&r-i-u.boundary<0&&(n+=r-i,s.__offset=n);n+=u.storage}(i=n%r)>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),d=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",c));var h=f.program;r.updateUBOMapping(n,h);var p=t.render.frame;a[n.id]!==p&&(!function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(var o=0,s=r.length;o<s;o++){var c=r[o];if(!0===u(c,o,a)){for(var f=c.__offset,d=Array.isArray(c.value)?c.value:[c.value],h=0,p=0;p<d.length;p++){var v=d[p],m=l(v);"number"===typeof v?(c.__data[0]=v,e.bufferSubData(e.UNIFORM_BUFFER,f+h,c.__data)):v.isMatrix3?(c.__data[0]=v.elements[0],c.__data[1]=v.elements[1],c.__data[2]=v.elements[2],c.__data[3]=v.elements[0],c.__data[4]=v.elements[3],c.__data[5]=v.elements[4],c.__data[6]=v.elements[5],c.__data[7]=v.elements[0],c.__data[8]=v.elements[6],c.__data[9]=v.elements[7],c.__data[10]=v.elements[8],c.__data[11]=v.elements[0]):(v.toArray(c.__data,h),h+=m.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,f,c.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=p)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}var ib=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,I.Z)(this,e);var n,r=t.canvas,i=void 0===r?function(){var e=_h("canvas");return e.style.display="block",e}():r,a=t.context,o=void 0===a?null:a,s=t.depth,u=void 0===s||s,l=t.stencil,c=void 0===l||l,f=t.alpha,d=void 0!==f&&f,h=t.antialias,p=void 0!==h&&h,v=t.premultipliedAlpha,m=void 0===v||v,g=t.preserveDrawingBuffer,y=void 0!==g&&g,b=t.powerPreference,w=void 0===b?"default":b,x=t.failIfMajorPerformanceCaveat,_=void 0!==x&&x;this.isWebGLRenderer=!0,n=null!==o?o.getContextAttributes().alpha:d;var S=new Uint32Array(4),E=new Int32Array(4),M=null,A=null,k=[],T=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=pd,this.useLegacyLights=!0,this.toneMapping=Sc,this.toneMappingExposure=1;var C=this,P=!1,R=0,L=0,Z=null,O=-1,N=null,U=new Bh,D=new Bh,B=null,F=new hv(0),z=0,j=i.width,H=i.height,G=1,W=null,V=null,q=new Bh(0,0,j,H),X=new Bh(0,0,j,H),Y=!1,Q=new Mm,K=!1,J=!1,$=null,ee=new Sp,te=new mh,ne=new qh,re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ie(){return null===Z?G:1}var ae,oe,se,ue,le,ce,fe,de,he,pe,ve,me,ge,ye,be,we,xe,_e,Se,Ee,Me,Ae,ke,Te,Ce=o;function Pe(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=i.getContext(r,t);if(null!==a)return a}return null}try{var Re={alpha:!0,depth:u,stencil:c,antialias:p,premultipliedAlpha:m,preserveDrawingBuffer:y,powerPreference:w,failIfMajorPerformanceCaveat:_};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r".concat(Cl)),i.addEventListener("webglcontextlost",Oe,!1),i.addEventListener("webglcontextrestored",Ne,!1),i.addEventListener("webglcontextcreationerror",Ue,!1),null===Ce){var Ie=["webgl2","webgl","experimental-webgl"];if(!0===C.isWebGL1Renderer&&Ie.shift(),null===(Ce=Pe(Ie,Re)))throw Pe(Ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}"undefined"!==typeof WebGLRenderingContext&&Ce instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===Ce.getShaderPrecisionFormat&&(Ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ye){throw console.error("THREE.WebGLRenderer: "+Ye.message),Ye}function Le(){ae=new eg(Ce),oe=new Nm(Ce,ae,t),ae.init(oe),Ae=new Yy(Ce,ae,oe),se=new qy(Ce,ae,oe),ue=new rg(Ce),le=new Ly,ce=new Xy(Ce,ae,se,le,oe,Ae,ue),fe=new Dm(C),de=new $m(C),he=new km(Ce,oe),ke=new Zm(Ce,ae,he,oe),pe=new tg(Ce,he,ue,ke),ve=new sg(Ce,pe,he,ue),Se=new og(Ce,oe,ce),we=new Um(le),me=new Iy(C,fe,de,ae,oe,ke,we),ge=new nb(C,le),ye=new Uy,be=new Hy(ae,oe),_e=new Lm(C,fe,de,se,ve,n,m),xe=new Vy(C,ve,oe),Te=new rb(Ce,ue,oe,se),Ee=new Om(Ce,ae,ue,oe),Me=new ng(Ce,ae,ue,oe),ue.programs=me.programs,C.capabilities=oe,C.extensions=ae,C.properties=le,C.renderLists=ye,C.shadowMap=xe,C.state=se,C.info=ue}Le();var Ze=new tb(C,Ce);function Oe(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function Ne(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1;var e=ue.autoReset,t=xe.enabled,n=xe.autoUpdate,r=xe.needsUpdate,i=xe.type;Le(),ue.autoReset=e,xe.enabled=t,xe.autoUpdate=n,xe.needsUpdate=r,xe.type=i}function Ue(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function De(e){var t=e.target;t.removeEventListener("dispose",De),function(e){(function(e){var t=le.get(e).programs;void 0!==t&&(t.forEach((function(e){me.releaseProgram(e)})),e.isShaderMaterial&&me.releaseShaderCache(e))})(e),le.remove(e)}(t)}this.xr=Ze,this.getContext=function(){return Ce},this.getContextAttributes=function(){return Ce.getContextAttributes()},this.forceContextLoss=function(){var e=ae.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=ae.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(e){void 0!==e&&(G=e,this.setSize(j,H,!1))},this.getSize=function(e){return e.set(j,H)},this.setSize=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Ze.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(j=e,H=t,i.width=Math.floor(e*G),i.height=Math.floor(t*G),!0===n&&(i.style.width=e+"px",i.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(j*G,H*G).floor()},this.setDrawingBufferSize=function(e,t,n){j=e,H=t,G=n,i.width=Math.floor(e*n),i.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(U)},this.getViewport=function(e){return e.copy(q)},this.setViewport=function(e,t,n,r){e.isVector4?q.set(e.x,e.y,e.z,e.w):q.set(e,t,n,r),se.viewport(U.copy(q).multiplyScalar(G).floor())},this.getScissor=function(e){return e.copy(X)},this.setScissor=function(e,t,n,r){e.isVector4?X.set(e.x,e.y,e.z,e.w):X.set(e,t,n,r),se.scissor(D.copy(X).multiplyScalar(G).floor())},this.getScissorTest=function(){return Y},this.setScissorTest=function(e){se.setScissorTest(Y=e)},this.setOpaqueSort=function(e){W=e},this.setTransparentSort=function(e){V=e},this.getClearColor=function(e){return e.copy(_e.getClearColor())},this.setClearColor=function(){_e.setClearColor.apply(_e,arguments)},this.getClearAlpha=function(){return _e.getClearAlpha()},this.setClearAlpha=function(){_e.setClearAlpha.apply(_e,arguments)},this.clear=function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){var r=!1;if(null!==Z){var i=Z.texture.format;r=i===mf||i===vf||i===hf}if(r){var a=Z.texture.type,o=a===Xc||a===$c||a===Kc||a===af||a===nf||a===rf,s=_e.getClearColor(),u=_e.getClearAlpha(),l=s.r,c=s.g,f=s.b;o?(S[0]=l,S[1]=c,S[2]=f,S[3]=u,Ce.clearBufferuiv(Ce.COLOR,0,S)):(E[0]=l,E[1]=c,E[2]=f,E[3]=u,Ce.clearBufferiv(Ce.COLOR,0,E))}else n|=Ce.COLOR_BUFFER_BIT}e&&(n|=Ce.DEPTH_BUFFER_BIT),t&&(n|=Ce.STENCIL_BUFFER_BIT),Ce.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Oe,!1),i.removeEventListener("webglcontextrestored",Ne,!1),i.removeEventListener("webglcontextcreationerror",Ue,!1),ye.dispose(),be.dispose(),le.dispose(),fe.dispose(),de.dispose(),ve.dispose(),ke.dispose(),Te.dispose(),me.dispose(),Ze.dispose(),Ze.removeEventListener("sessionstart",Fe),Ze.removeEventListener("sessionend",ze),$&&($.dispose(),$=null),je.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=re);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=re);ce.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===Z?C.outputColorSpace:!0===Z.isXRRenderTarget?Z.texture.colorSpace:vd,u=(r.isMeshStandardMaterial?de:fe).get(r.envMap||o),l=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),f=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,h=!!n.morphAttributes.color,p=r.toneMapped?C.toneMapping:Sc,v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,m=void 0!==v?v.length:0,g=le.get(r),y=A.state.lights;if(!0===K&&(!0===J||e!==N)){var b=e===N&&r.id===O;we.setState(r,e,b)}var w=!1;r.version===g.__version?g.needsLights&&g.lightsStateVersion!==y.state.version||g.outputColorSpace!==s||i.isInstancedMesh&&!1===g.instancing?w=!0:i.isInstancedMesh||!0!==g.instancing?i.isSkinnedMesh&&!1===g.skinning?w=!0:i.isSkinnedMesh||!0!==g.skinning?g.envMap!==u||!0===r.fog&&g.fog!==a?w=!0:void 0===g.numClippingPlanes||g.numClippingPlanes===we.numPlanes&&g.numIntersection===we.numIntersection?(g.vertexAlphas!==l||g.vertexTangents!==c||g.morphTargets!==f||g.morphNormals!==d||g.morphColors!==h||g.toneMapping!==p||!0===oe.isWebGL2&&g.morphTargetsCount!==m)&&(w=!0):w=!0:w=!0:w=!0:(w=!0,g.__version=r.version);var x=g.currentProgram;!0===w&&(x=qe(r,t,i));var _=!1,S=!1,E=!1,M=x.getUniforms(),k=g.uniforms;se.useProgram(x.program)&&(_=!0,S=!0,E=!0);r.id!==O&&(O=r.id,S=!0);if(_||N!==e){if(M.setValue(Ce,"projectionMatrix",e.projectionMatrix),oe.logarithmicDepthBuffer&&M.setValue(Ce,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),N!==e&&(N=e,S=!0,E=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var T=M.map.cameraPosition;void 0!==T&&T.setValue(Ce,ne.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&M.setValue(Ce,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&M.setValue(Ce,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){M.setOptional(Ce,i,"bindMatrix"),M.setOptional(Ce,i,"bindMatrixInverse");var P=i.skeleton;P&&(oe.floatVertexTextures?(null===P.boneTexture&&P.computeBoneTexture(),M.setValue(Ce,"boneTexture",P.boneTexture,ce),M.setValue(Ce,"boneTextureSize",P.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var R=n.morphAttributes;(void 0!==R.position||void 0!==R.normal||void 0!==R.color&&!0===oe.isWebGL2)&&Se.update(i,n,x);(S||g.receiveShadow!==i.receiveShadow)&&(g.receiveShadow=i.receiveShadow,M.setValue(Ce,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(k.envMap.value=u,k.flipEnvMap.value=u.isCubeTexture&&!1===u.isRenderTargetTexture?-1:1);S&&(M.setValue(Ce,"toneMappingExposure",C.toneMappingExposure),g.needsLights&&(L=E,(I=k).ambientLightColor.needsUpdate=L,I.lightProbe.needsUpdate=L,I.directionalLights.needsUpdate=L,I.directionalLightShadows.needsUpdate=L,I.pointLights.needsUpdate=L,I.pointLightShadows.needsUpdate=L,I.spotLights.needsUpdate=L,I.spotLightShadows.needsUpdate=L,I.rectAreaLights.needsUpdate=L,I.hemisphereLights.needsUpdate=L),a&&!0===r.fog&&ge.refreshFogUniforms(k,a),ge.refreshMaterialUniforms(k,r,G,H,$),fy.upload(Ce,g.uniformsList,k,ce));var I,L;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(fy.upload(Ce,g.uniformsList,k,ce),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&M.setValue(Ce,"center",i.center);if(M.setValue(Ce,"modelViewMatrix",i.modelViewMatrix),M.setValue(Ce,"normalMatrix",i.normalMatrix),M.setValue(Ce,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var U=r.uniformsGroups,D=0,B=U.length;D<B;D++)if(oe.isWebGL2){var F=U[D];Te.update(F,x),Te.bind(F,x)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return x}(e,t,n,r,i);se.setMaterial(r,o);var u=n.index,l=1;!0===r.wireframe&&(u=pe.getWireframeAttribute(n),l=2);var c=n.drawRange,f=n.attributes.position,d=c.start*l,h=(c.start+c.count)*l;null!==a&&(d=Math.max(d,a.start*l),h=Math.min(h,(a.start+a.count)*l)),null!==u?(d=Math.max(d,0),h=Math.min(h,u.count)):void 0!==f&&null!==f&&(d=Math.max(d,0),h=Math.min(h,f.count));var p=h-d;if(!(p<0||p===1/0)){var v;ke.setup(i,r,s,n,u);var m=Ee;if(null!==u&&(v=he.get(u),(m=Me).setIndex(v)),i.isMesh)!0===r.wireframe?(se.setLineWidth(r.wireframeLinewidth*ie()),m.setMode(Ce.LINES)):m.setMode(Ce.TRIANGLES);else if(i.isLine){var g=r.linewidth;void 0===g&&(g=1),se.setLineWidth(g*ie()),i.isLineSegments?m.setMode(Ce.LINES):i.isLineLoop?m.setMode(Ce.LINE_LOOP):m.setMode(Ce.LINE_STRIP)}else i.isPoints?m.setMode(Ce.POINTS):i.isSprite&&m.setMode(Ce.TRIANGLES);if(i.isInstancedMesh)m.renderInstances(d,p,i.count);else if(n.isInstancedBufferGeometry){var y=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,b=Math.min(n.instanceCount,y);m.renderInstances(d,p,b)}else m.render(d,p)}},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===jl&&!1===e.forceSinglePass?(e.side=zl,e.needsUpdate=!0,qe(e,t,n),e.side=Fl,e.needsUpdate=!0,qe(e,t,n),e.side=jl):qe(e,t,n)}(A=be.get(e)).init(),T.push(A),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(A.pushLight(e),e.castShadow&&A.pushShadow(e))})),A.setupLights(C.useLegacyLights),e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),T.pop(),A=null};var Be=null;function Fe(){je.stop()}function ze(){je.start()}var je=new Am;function He(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)A.pushLight(e),e.castShadow&&A.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||Q.intersectsSprite(e)){r&&ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ee);var i=ve.update(e),a=e.material;a.visible&&M.push(e,i,a,n,ne.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||Q.intersectsObject(e))){var o=ve.update(e),s=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),ne.copy(e.boundingSphere.center)):(null===o.boundingSphere&&o.computeBoundingSphere(),ne.copy(o.boundingSphere.center)),ne.applyMatrix4(e.matrixWorld).applyMatrix4(ee)),Array.isArray(s))for(var u=o.groups,l=0,c=u.length;l<c;l++){var f=u[l],d=s[f.materialIndex];d&&d.visible&&M.push(e,o,d,n,ne.z,f)}else s.visible&&M.push(e,o,s,n,ne.z,null)}for(var h=e.children,p=0,v=h.length;p<v;p++)He(h[p],t,n,r)}}function Ge(e,t,n,r){var i=e.opaque,a=e.transmissive,o=e.transparent;A.setupLightsView(n),!0===K&&we.setGlobalState(C.clippingPlanes,n),a.length>0&&function(e,t,n,r){var i=oe.isWebGL2;null===$&&($=new Fh(1,1,{generateMipmaps:!0,type:ae.has("EXT_color_buffer_half_float")?tf:Xc,minFilter:Vc,samples:i?4:0}));C.getDrawingBufferSize(te),i?$.setSize(te.x,te.y):$.setSize(dh(te.x),dh(te.y));var a=C.getRenderTarget();C.setRenderTarget($),C.getClearColor(F),(z=C.getClearAlpha())<1&&C.setClearColor(16777215,.5);C.clear();var o=C.toneMapping;C.toneMapping=Sc,We(e,n,r),ce.updateMultisampleRenderTarget($),ce.updateRenderTargetMipmap($);for(var s=!1,u=0,l=t.length;u<l;u++){var c=t[u],f=c.object,d=c.geometry,h=c.material,p=c.group;if(h.side===jl&&f.layers.test(r.layers)){var v=h.side;h.side=zl,h.needsUpdate=!0,Ve(f,n,r,d,h,p),h.side=v,h.needsUpdate=!0,s=!0}}!0===s&&(ce.updateMultisampleRenderTarget($),ce.updateRenderTargetMipmap($));C.setRenderTarget(a),C.setClearColor(F,z),C.toneMapping=o}(i,a,t,n),r&&se.viewport(U.copy(r)),i.length>0&&We(i,t,n),a.length>0&&We(a,t,n),o.length>0&&We(o,t,n),se.buffers.depth.setTest(!0),se.buffers.depth.setMask(!0),se.buffers.color.setMask(!0),se.setPolygonOffset(!1)}function We(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,u=o.geometry,l=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&Ve(s,t,n,u,l,c)}}function Ve(e,t,n,r,i,a){e.onBeforeRender(C,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(C,t,n,r,e,a),!0===i.transparent&&i.side===jl&&!1===i.forceSinglePass?(i.side=zl,i.needsUpdate=!0,C.renderBufferDirect(n,t,r,i,e,a),i.side=Fl,i.needsUpdate=!0,C.renderBufferDirect(n,t,r,i,e,a),i.side=jl):C.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(C,t,n,r,i,a)}function qe(e,t,n){!0!==t.isScene&&(t=re);var r=le.get(e),i=A.state.lights,a=A.state.shadowsArray,o=i.state.version,s=me.getParameters(e,i.state,a,t,n),u=me.getProgramCacheKey(s),l=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?de:fe).get(e.envMap||r.environment),void 0===l&&(e.addEventListener("dispose",De),l=new Map,r.programs=l);var c=l.get(u);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return Xe(e,s),c}else s.uniforms=me.getUniforms(e),e.onBuild(n,s,C),e.onBeforeCompile(s,C),c=me.acquireProgram(s,u),l.set(u,c),r.uniforms=s.uniforms;var f=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(f.clippingPlanes=we.uniform),Xe(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(f.ambientLightColor.value=i.state.ambient,f.lightProbe.value=i.state.probe,f.directionalLights.value=i.state.directional,f.directionalLightShadows.value=i.state.directionalShadow,f.spotLights.value=i.state.spot,f.spotLightShadows.value=i.state.spotShadow,f.rectAreaLights.value=i.state.rectArea,f.ltc_1.value=i.state.rectAreaLTC1,f.ltc_2.value=i.state.rectAreaLTC2,f.pointLights.value=i.state.point,f.pointLightShadows.value=i.state.pointShadow,f.hemisphereLights.value=i.state.hemi,f.directionalShadowMap.value=i.state.directionalShadowMap,f.directionalShadowMatrix.value=i.state.directionalShadowMatrix,f.spotShadowMap.value=i.state.spotShadowMap,f.spotLightMatrix.value=i.state.spotLightMatrix,f.spotLightMap.value=i.state.spotLightMap,f.pointShadowMap.value=i.state.pointShadowMap,f.pointShadowMatrix.value=i.state.pointShadowMatrix);var d=c.getUniforms(),h=fy.seqWithValue(d.seq,f);return r.currentProgram=c,r.uniformsList=h,c}function Xe(e,t){var n=le.get(e);n.outputColorSpace=t.outputColorSpace,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}je.setAnimationLoop((function(e){Be&&Be(e)})),"undefined"!==typeof self&&je.setContext(self),this.setAnimationLoop=function(e){Be=e,Ze.setAnimationLoop(e),null===e?je.stop():je.start()},Ze.addEventListener("sessionstart",Fe),Ze.addEventListener("sessionend",ze),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==P){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Ze.enabled&&!0===Ze.isPresenting&&(!0===Ze.cameraAutoUpdate&&Ze.updateCamera(t),t=Ze.getCamera()),!0===e.isScene&&e.onBeforeRender(C,e,t,Z),(A=be.get(e,T.length)).init(),T.push(A),ee.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Q.setFromProjectionMatrix(ee),J=this.localClippingEnabled,K=we.init(this.clippingPlanes,J),(M=ye.get(e,k.length)).init(),k.push(M),He(e,t,0,C.sortObjects),M.finish(),!0===C.sortObjects&&M.sort(W,V),this.info.render.frame++,!0===K&&we.beginShadows();var n=A.state.shadowsArray;if(xe.render(n,e,t),!0===K&&we.endShadows(),!0===this.info.autoReset&&this.info.reset(),_e.render(M,e),A.setupLights(C.useLegacyLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];Ge(M,e,o,o.viewport)}else Ge(M,e,t);null!==Z&&(ce.updateMultisampleRenderTarget(Z),ce.updateRenderTargetMipmap(Z)),!0===e.isScene&&e.onAfterRender(C,e,t),ke.resetDefaultState(),O=-1,N=null,T.pop(),A=T.length>0?T[T.length-1]:null,k.pop(),M=k.length>0?k[k.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return Z},this.setRenderTargetTextures=function(e,t,n){le.get(e.texture).__webglTexture=t,le.get(e.depthTexture).__webglTexture=n;var r=le.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===ae.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=le.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Z=e,R=t,L=n;var r=!0,i=null,a=!1,o=!1;if(e){var s=le.get(e);void 0!==s.__useDefaultFramebuffer?(se.bindFramebuffer(Ce.FRAMEBUFFER,null),r=!1):void 0===s.__webglFramebuffer?ce.setupRenderTarget(e):s.__hasExternalTextures&&ce.rebindTextures(e,le.get(e.texture).__webglTexture,le.get(e.depthTexture).__webglTexture);var u=e.texture;(u.isData3DTexture||u.isDataArrayTexture||u.isCompressedArrayTexture)&&(o=!0);var l=le.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=l[t],a=!0):i=oe.isWebGL2&&e.samples>0&&!1===ce.useMultisampledRTT(e)?le.get(e).__webglMultisampledFramebuffer:l,U.copy(e.viewport),D.copy(e.scissor),B=e.scissorTest}else U.copy(q).multiplyScalar(G).floor(),D.copy(X).multiplyScalar(G).floor(),B=Y;if(se.bindFramebuffer(Ce.FRAMEBUFFER,i)&&oe.drawBuffers&&r&&se.drawBuffers(e,i),se.viewport(U),se.scissor(D),se.setScissorTest(B),a){var c=le.get(e.texture);Ce.framebufferTexture2D(Ce.FRAMEBUFFER,Ce.COLOR_ATTACHMENT0,Ce.TEXTURE_CUBE_MAP_POSITIVE_X+t,c.__webglTexture,n)}else if(o){var f=le.get(e.texture),d=t||0;Ce.framebufferTextureLayer(Ce.FRAMEBUFFER,Ce.COLOR_ATTACHMENT0,f.__webglTexture,n||0,d)}O=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=le.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){se.bindFramebuffer(Ce.FRAMEBUFFER,s);try{var u=e.texture,l=u.format,c=u.type;if(l!==sf&&Ae.convert(l)!==Ce.getParameter(Ce.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var f=c===tf&&(ae.has("EXT_color_buffer_half_float")||oe.isWebGL2&&ae.has("EXT_color_buffer_float"));if(c!==Xc&&Ae.convert(c)!==Ce.getParameter(Ce.IMPLEMENTATION_COLOR_READ_TYPE)&&(c!==ef||!(oe.isWebGL2||ae.has("OES_texture_float")||ae.has("WEBGL_color_buffer_float")))&&!f)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Ce.readPixels(t,n,r,i,Ae.convert(l),Ae.convert(c),a)}finally{var d=null!==Z?le.get(Z).__webglFramebuffer:null;se.bindFramebuffer(Ce.FRAMEBUFFER,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);ce.setTexture2D(t,0),Ce.copyTexSubImage2D(Ce.TEXTURE_2D,n,0,0,e.x,e.y,i,a),se.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=Ae.convert(n.format),s=Ae.convert(n.type);ce.setTexture2D(n,0),Ce.pixelStorei(Ce.UNPACK_FLIP_Y_WEBGL,n.flipY),Ce.pixelStorei(Ce.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),Ce.pixelStorei(Ce.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?Ce.texSubImage2D(Ce.TEXTURE_2D,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?Ce.compressedTexSubImage2D(Ce.TEXTURE_2D,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):Ce.texSubImage2D(Ce.TEXTURE_2D,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&Ce.generateMipmap(Ce.TEXTURE_2D),se.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(C.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,u=e.max.z-e.min.z+1,l=Ae.convert(r.format),c=Ae.convert(r.type);if(r.isData3DTexture)ce.setTexture3D(r,0),a=Ce.TEXTURE_3D;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ce.setTexture2DArray(r,0),a=Ce.TEXTURE_2D_ARRAY}Ce.pixelStorei(Ce.UNPACK_FLIP_Y_WEBGL,r.flipY),Ce.pixelStorei(Ce.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),Ce.pixelStorei(Ce.UNPACK_ALIGNMENT,r.unpackAlignment);var f=Ce.getParameter(Ce.UNPACK_ROW_LENGTH),d=Ce.getParameter(Ce.UNPACK_IMAGE_HEIGHT),h=Ce.getParameter(Ce.UNPACK_SKIP_PIXELS),p=Ce.getParameter(Ce.UNPACK_SKIP_ROWS),v=Ce.getParameter(Ce.UNPACK_SKIP_IMAGES),m=n.isCompressedTexture?n.mipmaps[0]:n.image;Ce.pixelStorei(Ce.UNPACK_ROW_LENGTH,m.width),Ce.pixelStorei(Ce.UNPACK_IMAGE_HEIGHT,m.height),Ce.pixelStorei(Ce.UNPACK_SKIP_PIXELS,e.min.x),Ce.pixelStorei(Ce.UNPACK_SKIP_ROWS,e.min.y),Ce.pixelStorei(Ce.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?Ce.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,m.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Ce.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,m.data)):Ce.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,m),Ce.pixelStorei(Ce.UNPACK_ROW_LENGTH,f),Ce.pixelStorei(Ce.UNPACK_IMAGE_HEIGHT,d),Ce.pixelStorei(Ce.UNPACK_SKIP_PIXELS,h),Ce.pixelStorei(Ce.UNPACK_SKIP_ROWS,p),Ce.pixelStorei(Ce.UNPACK_SKIP_IMAGES,v),0===i&&r.generateMipmaps&&Ce.generateMipmap(a),se.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?ce.setTextureCube(e,0):e.isData3DTexture?ce.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ce.setTexture2DArray(e,0):ce.setTexture2D(e,0),se.unbindTexture()},this.resetState=function(){R=0,L=0,Z=null,se.reset(),ke.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}return(0,L.Z)(e,[{key:"coordinateSystem",get:function(){return $d}},{key:"physicallyCorrectLights",get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}},{key:"outputEncoding",get:function(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===pd?ud:sd},set:function(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===ud?pd:vd}}]),e}(),ab=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,L.Z)(n)}(ib);ab.prototype.isWebGL1Renderer=!0;var ob,sb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;(0,I.Z)(this,e),this.isFogExp2=!0,this.name="",this.color=new hv(t),this.density=n}return(0,L.Z)(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}(),ub=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;(0,I.Z)(this,e),this.isFog=!0,this.name="",this.color=new hv(t),this.near=n,this.far=r}return(0,L.Z)(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),lb=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:(0,z.Z)(e)})),e}return(0,L.Z)(n,[{key:"copy",value:function(e,t){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}]),n}(Xp),cb=function(){function e(t,n){(0,I.Z)(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=zd,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=oh()}return(0,L.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=oh()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=oh()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),fb=new qh,db=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,I.Z)(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=i}return(0,L.Z)(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)fb.fromBufferAttribute(this,t),fb.applyMatrix4(e),this.setXYZ(t,fb.x,fb.y,fb.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)fb.fromBufferAttribute(this,t),fb.applyNormalMatrix(e),this.setXYZ(t,fb.x,fb.y,fb.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)fb.fromBufferAttribute(this,t),fb.transformDirection(e),this.setXYZ(t,fb.x,fb.y,fb.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=ph(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=ph(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=ph(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=ph(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=hh(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=hh(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=hh(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=hh(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=ph(t,this.array),n=ph(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ph(t,this.array),n=ph(n,this.array),r=ph(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ph(t,this.array),n=ph(n,this.array),r=ph(r,this.array),i=ph(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new Sv(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}(),hb=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).isSpriteMaterial=!0,r.type="SpriteMaterial",r.color=new hv(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.fog=!0,r.setValues(e),r}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(uv),pb=new qh,vb=new qh,mb=new qh,gb=new mh,yb=new mh,bb=new Sp,wb=new qh,xb=new qh,_b=new qh,Sb=new mh,Eb=new mh,Mb=new mh,Ab=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;if((0,I.Z)(this,n),(r=t.call(this)).isSprite=!0,r.type="Sprite",void 0===ob){ob=new zv;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new cb(i,5);ob.setIndex([0,1,2,0,2,3]),ob.setAttribute("position",new db(a,3,0,!1)),ob.setAttribute("uv",new db(a,2,3,!1))}return r.geometry=ob,r.material=void 0!==e?e:new hb,r.center=new mh(.5,.5),r}return(0,L.Z)(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),vb.setFromMatrixScale(this.matrixWorld),bb.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),mb.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&vb.multiplyScalar(-mb.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;kb(wb.set(-.5,-.5,0),mb,a,vb,n,r),kb(xb.set(.5,-.5,0),mb,a,vb,n,r),kb(_b.set(.5,.5,0),mb,a,vb,n,r),Sb.set(0,0),Eb.set(1,0),Mb.set(1,1);var o=e.ray.intersectTriangle(wb,xb,_b,!1,pb);if(null!==o||(kb(xb.set(-.5,.5,0),mb,a,vb,n,r),Eb.set(0,1),null!==(o=e.ray.intersectTriangle(wb,_b,xb,!1,pb)))){var s=e.ray.origin.distanceTo(pb);s<e.near||s>e.far||t.push({distance:s,point:pb.clone(),uv:ov.getInterpolation(pb,wb,xb,_b,Sb,Eb,Mb,new mh),face:null,object:this})}}},{key:"copy",value:function(e,t){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(Xp);function kb(e,t,n,r,i,a){gb.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(yb.x=a*gb.x-i*gb.y,yb.y=i*gb.x+a*gb.y):yb.copy(gb),e.copy(t),e.x+=yb.x,e.y+=yb.y,e.applyMatrix4(bb)}var Tb=new qh,Cb=new qh,Pb=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties((0,z.Z)(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return(0,L.Z)(n,[{key:"copy",value:function(e){(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,i=t.length;r<i;r++){var a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);var r,i=this.levels;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r;n++){var i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){Tb.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(Tb);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){Tb.setFromMatrixPosition(e.matrixWorld),Cb.setFromMatrixPosition(this.matrixWorld);var n,r,i=Tb.distanceTo(Cb)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r;n++){var a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),!(i>=a))break;t[n-1].object.visible=!1,t[n].object.visible=!0}for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,i=0,a=r.length;i<a;i++){var o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}]),n}(Xp),Rb=new qh,Ib=new Bh,Lb=new Bh,Zb=new qh,Ob=new Sp,Nb=new qh,Ub=new pp,Db=new Sp,Bb=new _p,Fb=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r){var i;return(0,I.Z)(this,n),(i=t.call(this,e,r)).isSkinnedMesh=!0,i.type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new Sp,i.bindMatrixInverse=new Sp,i.boundingBox=null,i.boundingSphere=null,i}return(0,L.Z)(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry;null===this.boundingBox&&(this.boundingBox=new Qh),this.boundingBox.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)Nb.fromBufferAttribute(t,n),this.applyBoneTransform(n,Nb),this.boundingBox.expandByPoint(Nb)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new pp),this.boundingSphere.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)Nb.fromBufferAttribute(t,n),this.applyBoneTransform(n,Nb),this.boundingSphere.expandByPoint(Nb)}},{key:"copy",value:function(e,t){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"raycast",value:function(e,t){var n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),Ub.copy(this.boundingSphere),Ub.applyMatrix4(r),!1!==e.ray.intersectsSphere(Ub)&&(Db.copy(r).invert(),Bb.copy(e.ray).applyMatrix4(Db),null!==this.boundingBox&&!1===Bb.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,Bb)))}},{key:"getVertexPosition",value:function(e,t){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"getVertexPosition",this).call(this,e,t),this.applyBoneTransform(e,t),t}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new Bh,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){(0,Nu.Z)((0,Uu.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"applyBoneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;Ib.fromBufferAttribute(r.attributes.skinIndex,e),Lb.fromBufferAttribute(r.attributes.skinWeight,e),Rb.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=Lb.getComponent(i);if(0!==a){var o=Ib.getComponent(i);Ob.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(Zb.copy(Rb).applyMatrix4(Ob),a)}}return t.applyMatrix4(this.bindMatrixInverse)}},{key:"boneTransform",value:function(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}]),n}(am),zb=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.call(this)).isBone=!0,e.type="Bone",e}return(0,L.Z)(n)}(Xp),jb=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Dc,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Dc,h=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return(0,I.Z)(this,n),(e=t.call(this,null,u,l,c,f,d,o,s,h,p)).isDataTexture=!0,e.image={data:r,width:i,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,L.Z)(n)}(Dh),Hb=new Sp,Gb=new Sp,Wb=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,I.Z)(this,e),this.uuid=oh(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}return(0,L.Z)(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Sp)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new Sp;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:Gb;Hb.multiplyMatrices(o,t[i]),Hb.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=fh(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new jb(t,e,e,sf,ef);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new zb),this.bones.push(a),this.boneInverses.push((new Sp).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),Vb=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,I.Z)(this,n),(a=t.call(this,e,r,i)).isInstancedBufferAttribute=!0,a.meshPerAttribute=o,a}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(Sv),qb=new Sp,Xb=new Sp,Yb=[],Qb=new Qh,Kb=new Sp,Jb=new am,$b=new pp,ew=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){var a;(0,I.Z)(this,n),(a=t.call(this,e,r)).isInstancedMesh=!0,a.instanceMatrix=new Vb(new Float32Array(16*i),16),a.instanceColor=null,a.count=i,a.boundingBox=null,a.boundingSphere=null;for(var o=0;o<i;o++)a.setMatrixAt(o,Kb);return a}return(0,L.Z)(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new Qh),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,qb),Qb.copy(e.boundingBox).applyMatrix4(qb),this.boundingBox.union(Qb)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new pp),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,qb),$b.copy(e.boundingSphere).applyMatrix4(qb),this.boundingSphere.union($b)}},{key:"copy",value:function(e,t){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(Jb.geometry=this.geometry,Jb.material=this.material,void 0!==Jb.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),$b.copy(this.boundingSphere),$b.applyMatrix4(n),!1!==e.ray.intersectsSphere($b)))for(var i=0;i<r;i++){this.getMatrixAt(i,qb),Xb.multiplyMatrices(n,qb),Jb.matrixWorld=Xb,Jb.raycast(e,Yb);for(var a=0,o=Yb.length;a<o;a++){var s=Yb[a];s.instanceId=i,s.object=this,t.push(s)}Yb.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new Vb(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(am),tw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new hv(16777215),r.map=null,r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(e),r}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(uv),nw=new qh,rw=new qh,iw=new Sp,aw=new _p,ow=new pp,sw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zv,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new tw;return(0,I.Z)(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,L.Z)(n,[{key:"copy",value:function(e,t){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)nw.fromBufferAttribute(t,r-1),rw.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=nw.distanceTo(rw);e.setAttribute("lineDistance",new Iv(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ow.copy(n.boundingSphere),ow.applyMatrix4(r),ow.radius+=i,!1!==e.ray.intersectsSphere(ow)){iw.copy(r).invert(),aw.copy(e.ray).applyMatrix4(iw);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=new qh,l=new qh,c=new qh,f=new qh,d=this.isLineSegments?2:1,h=n.index,p=n.attributes.position;if(null!==h)for(var v=Math.max(0,a.start),m=Math.min(h.count,a.start+a.count)-1;v<m;v+=d){var g=h.getX(v),y=h.getX(v+1);if(u.fromBufferAttribute(p,g),l.fromBufferAttribute(p,y),!(aw.distanceSqToSegment(u,l,f,c)>s)){f.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(f);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var w=Math.max(0,a.start),x=Math.min(p.count,a.start+a.count)-1;w<x;w+=d){if(u.fromBufferAttribute(p,w),l.fromBufferAttribute(p,w+1),!(aw.distanceSqToSegment(u,l,f,c)>s)){f.applyMatrix4(this.matrixWorld);var _=e.ray.origin.distanceTo(f);_<e.near||_>e.far||t.push({distance:_,point:c.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(Xp),uw=new qh,lw=new qh,cw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r){var i;return(0,I.Z)(this,n),(i=t.call(this,e,r)).isLineSegments=!0,i.type="LineSegments",i}return(0,L.Z)(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)uw.fromBufferAttribute(t,r),lw.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+uw.distanceTo(lw);e.setAttribute("lineDistance",new Iv(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(sw),fw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r){var i;return(0,I.Z)(this,n),(i=t.call(this,e,r)).isLineLoop=!0,i.type="LineLoop",i}return(0,L.Z)(n)}(sw),dw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).isPointsMaterial=!0,r.type="PointsMaterial",r.color=new hv(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.fog=!0,r.setValues(e),r}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(uv),hw=new Sp,pw=new _p,vw=new pp,mw=new qh,gw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zv,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dw;return(0,I.Z)(this,n),(e=t.call(this)).isPoints=!0,e.type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,L.Z)(n,[{key:"copy",value:function(e,t){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),vw.copy(n.boundingSphere),vw.applyMatrix4(r),vw.radius+=i,!1!==e.ray.intersectsSphere(vw)){hw.copy(r).invert(),pw.copy(e.ray).applyMatrix4(hw);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=n.index,l=n.attributes.position;if(null!==u)for(var c=Math.max(0,a.start),f=Math.min(u.count,a.start+a.count);c<f;c++){var d=u.getX(c);mw.fromBufferAttribute(l,d),yw(mw,d,s,r,e,t,this)}else for(var h=Math.max(0,a.start),p=Math.min(l.count,a.start+a.count);h<p;h++)mw.fromBufferAttribute(l,h),yw(mw,h,s,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(Xp);function yw(e,t,n,r,i,a,o){var s=pw.distanceSqToPoint(e);if(s<n){var u=new qh;pw.closestPointToPoint(e,u),u.applyMatrix4(r);var l=i.ray.origin.distanceTo(u);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,object:o})}}var bw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i,a,o,s,u,l,c){var f;(0,I.Z)(this,n),(f=t.call(this,e,r,i,a,o,s,u,l,c)).isVideoTexture=!0,f.minFilter=void 0!==s?s:Hc,f.magFilter=void 0!==o?o:Hc,f.generateMipmaps=!1;var d=(0,z.Z)(f);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){d.needsUpdate=!0,e.requestVideoFrameCallback(t)})),f}return(0,L.Z)(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(Dh),ww=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r){var i;return(0,I.Z)(this,n),(i=t.call(this,{width:e,height:r})).isFramebufferTexture=!0,i.magFilter=Dc,i.minFilter=Dc,i.generateMipmaps=!1,i.needsUpdate=!0,i}return(0,L.Z)(n)}(Dh),xw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i,a,o,s,u,l,c,f,d,h){var p;return(0,I.Z)(this,n),(p=t.call(this,null,s,u,l,c,f,a,o,d,h)).isCompressedTexture=!0,p.image={width:r,height:i},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return(0,L.Z)(n)}(Dh),_w=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i,a,o,s){var u;return(0,I.Z)(this,n),(u=t.call(this,e,r,i,o,s)).isCompressedArrayTexture=!0,u.image.depth=a,u.wrapR=Nc,u}return(0,L.Z)(n)}(xw),Sw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i,a,o,s,u,l,c){var f;return(0,I.Z)(this,n),(f=t.call(this,e,r,i,a,o,s,u,l,c)).isCanvasTexture=!0,f.needsUpdate=!0,f}return(0,L.Z)(n)}(Dh),Ew=function(){function e(){(0,I.Z)(this,e),this.type="Curve",this.arcLengthDivisions=200}return(0,L.Z)(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(a-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new mh:new qh);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new qh,r=[],i=[],a=[],o=new qh,s=new Sp,u=0;u<=e;u++){var l=u/e;r[u]=this.getTangentAt(l,new qh)}i[0]=new qh,a[0]=new qh;var c=Number.MAX_VALUE,f=Math.abs(r[0].x),d=Math.abs(r[0].y),h=Math.abs(r[0].z);f<=c&&(c=f,n.set(1,0,0)),d<=c&&(c=d,n.set(0,1,0)),h<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(sh(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(o,v))}a[p].crossVectors(r[p],i[p])}if(!0===t){var m=Math.acos(sh(i[0].dot(i[e]),-1,1));m/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(m=-m);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],m*g)),a[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),Mw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return(0,I.Z)(this,n),(e=t.call(this)).isEllipseCurve=!0,e.type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=a,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=u,e.aClockwise=l,e.aRotation=c,e}return(0,L.Z)(n,[{key:"getPoint",value:function(e,t){for(var n=t||new mh,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),f=s-this.aX,d=u-this.aY;s=f*l-d*c+this.aX,u=f*c+d*l+this.aY}return n.set(s,u)}},{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(Ew),Aw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i,a,o,s){var u;return(0,I.Z)(this,n),(u=t.call(this,e,r,i,i,a,o,s)).isArcCurve=!0,u.type="ArcCurve",u}return(0,L.Z)(n)}(Mw);function kw(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var u=(t-e)/a-(n-e)/(a+o)+(n-t)/o,l=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,u*=o,l*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}var Tw=new qh,Cw=new kw,Pw=new kw,Rw=new kw,Iw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return(0,I.Z)(this,n),(e=t.call(this)).isCatmullRomCurve3=!0,e.type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=a,e.tension=o,e}return(0,L.Z)(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qh,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e,s=Math.floor(o),u=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:0===u&&s===a-1&&(s=a-2,u=1),this.closed||s>0?t=i[(s-1)%a]:(Tw.subVectors(i[0],i[1]).add(i[0]),t=Tw);var l=i[s%a],c=i[(s+1)%a];if(this.closed||s+2<a?n=i[(s+2)%a]:(Tw.subVectors(i[a-1],i[a-2]).add(i[a-1]),n=Tw),"centripetal"===this.curveType||"chordal"===this.curveType){var f="chordal"===this.curveType?.5:.25,d=Math.pow(t.distanceToSquared(l),f),h=Math.pow(l.distanceToSquared(c),f),p=Math.pow(c.distanceToSquared(n),f);h<1e-4&&(h=1),d<1e-4&&(d=h),p<1e-4&&(p=h),Cw.initNonuniformCatmullRom(t.x,l.x,c.x,n.x,d,h,p),Pw.initNonuniformCatmullRom(t.y,l.y,c.y,n.y,d,h,p),Rw.initNonuniformCatmullRom(t.z,l.z,c.z,n.z,d,h,p)}else"catmullrom"===this.curveType&&(Cw.initCatmullRom(t.x,l.x,c.x,n.x,this.tension),Pw.initCatmullRom(t.y,l.y,c.y,n.y,this.tension),Rw.initCatmullRom(t.z,l.z,c.z,n.z,this.tension));return r.set(Cw.calc(u),Pw.calc(u),Rw.calc(u)),r}},{key:"copy",value:function(e){(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){(0,Nu.Z)((0,Uu.Z)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new qh).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(Ew);function Lw(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function Zw(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Ow(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}var Nw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mh,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mh,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new mh,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new mh;return(0,I.Z)(this,n),(e=t.call(this)).isCubicBezierCurve=!0,e.type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return(0,L.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mh,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(Ow(e,n.x,r.x,i.x,a.x),Ow(e,n.y,r.y,i.y,a.y)),t}},{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Ew),Uw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qh,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qh,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new qh,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new qh;return(0,I.Z)(this,n),(e=t.call(this)).isCubicBezierCurve3=!0,e.type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return(0,L.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qh,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(Ow(e,n.x,r.x,i.x,a.x),Ow(e,n.y,r.y,i.y,a.y),Ow(e,n.z,r.z,i.z,a.z)),t}},{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Ew),Dw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mh,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mh;return(0,I.Z)(this,n),(e=t.call(this)).isLineCurve=!0,e.type="LineCurve",e.v1=r,e.v2=i,e}return(0,L.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mh;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mh).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Ew),Bw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qh,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qh;return(0,I.Z)(this,n),(e=t.call(this)).isLineCurve3=!0,e.type="LineCurve3",e.v1=r,e.v2=i,e}return(0,L.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qh;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qh).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Ew),Fw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mh,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mh,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new mh;return(0,I.Z)(this,n),(e=t.call(this)).isQuadraticBezierCurve=!0,e.type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=a,e}return(0,L.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mh,n=this.v0,r=this.v1,i=this.v2;return t.set(Zw(e,n.x,r.x,i.x),Zw(e,n.y,r.y,i.y)),t}},{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Ew),zw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qh,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qh,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new qh;return(0,I.Z)(this,n),(e=t.call(this)).isQuadraticBezierCurve3=!0,e.type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e}return(0,L.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qh,n=this.v0,r=this.v1,i=this.v2;return t.set(Zw(e,n.x,r.x,i.x),Zw(e,n.y,r.y,i.y),Zw(e,n.z,r.z,i.z)),t}},{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Ew),jw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,I.Z)(this,n),(e=t.call(this)).isSplineCurve=!0,e.type="SplineCurve",e.points=r,e}return(0,L.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mh,n=this.points,r=(n.length-1)*e,i=Math.floor(r),a=r-i,o=n[0===i?i:i-1],s=n[i],u=n[i>n.length-2?n.length-1:i+1],l=n[i>n.length-3?n.length-1:i+2];return t.set(Lw(a,o.x,s.x,u.x,l.x),Lw(a,o.y,s.y,u.y,l.y)),t}},{key:"copy",value:function(e){(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){(0,Nu.Z)((0,Uu.Z)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new mh).fromArray(i))}return this}}]),n}(Ew),Hw=Object.freeze({__proto__:null,ArcCurve:Aw,CatmullRomCurve3:Iw,CubicBezierCurve:Nw,CubicBezierCurve3:Uw,EllipseCurve:Mw,LineCurve:Dw,LineCurve3:Bw,QuadraticBezierCurve:Fw,QuadraticBezierCurve3:zw,SplineCurve:jw}),Gw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return(0,L.Z)(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Dw(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var a=r[i]-n,o=this.curves[i],s=o.getLength(),u=0===s?0:1-a/s;return o.getPointAt(u,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){(0,Nu.Z)((0,Uu.Z)(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new Hw[i.type]).fromJSON(i))}return this}}]),n}(Ew),Ww=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).type="Path",r.currentPoint=new mh,e&&r.setFromPoints(e),r}return(0,L.Z)(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new Dw(this.currentPoint.clone(),new mh(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new Fw(this.currentPoint.clone(),new mh(e,t),new mh(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){var o=new Nw(this.currentPoint.clone(),new mh(e,t),new mh(n,r),new mh(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new jw(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}},{key:"absarc",value:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}},{key:"ellipse",value:function(e,t,n,r,i,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+u,t+l,n,r,i,a,o,s),this}},{key:"absellipse",value:function(e,t,n,r,i,a,o,s){var u=new Mw(e,t,n,r,i,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(Gw),Vw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new mh(0,-.5),new mh(.5,0),new mh(0,.5)],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;(0,I.Z)(this,n),(e=t.call(this)).type="LatheGeometry",e.parameters={points:r,segments:i,phiStart:a,phiLength:o},i=Math.floor(i),o=sh(o,0,2*Math.PI);for(var s=[],u=[],l=[],c=[],f=[],d=1/i,h=new qh,p=new mh,v=new qh,m=new qh,g=new qh,y=0,b=0,w=0;w<=r.length-1;w++)switch(w){case 0:y=r[w+1].x-r[w].x,b=r[w+1].y-r[w].y,v.x=1*b,v.y=-y,v.z=0*b,g.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case r.length-1:c.push(g.x,g.y,g.z);break;default:y=r[w+1].x-r[w].x,b=r[w+1].y-r[w].y,v.x=1*b,v.y=-y,v.z=0*b,m.copy(v),v.x+=g.x,v.y+=g.y,v.z+=g.z,v.normalize(),c.push(v.x,v.y,v.z),g.copy(m)}for(var x=0;x<=i;x++)for(var _=a+x*d*o,S=Math.sin(_),E=Math.cos(_),M=0;M<=r.length-1;M++){h.x=r[M].x*S,h.y=r[M].y,h.z=r[M].x*E,u.push(h.x,h.y,h.z),p.x=x/i,p.y=M/(r.length-1),l.push(p.x,p.y);var A=c[3*M+0]*S,k=c[3*M+1],T=c[3*M+0]*E;f.push(A,k,T)}for(var C=0;C<i;C++)for(var P=0;P<r.length-1;P++){var R=P+C*r.length,L=R,Z=R+r.length,O=R+r.length+1,N=R+1;s.push(L,Z,N),s.push(O,N,Z)}return e.setIndex(s),e.setAttribute("position",new Iv(u,3)),e.setAttribute("uv",new Iv(l,2)),e.setAttribute("normal",new Iv(f,3)),e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(zv),qw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;(0,I.Z)(this,n);var s=new Ww;return s.absarc(0,-i/2,r,1.5*Math.PI,0),s.absarc(0,i/2,r,0,.5*Math.PI),(e=t.call(this,s.getPoints(a),o)).type="CapsuleGeometry",e.parameters={radius:r,height:i,capSegments:a,radialSegments:o},e}return(0,L.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.length,e.capSegments,e.radialSegments)}}]),n}(Vw),Xw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;(0,I.Z)(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:i,thetaStart:a,thetaLength:o},i=Math.max(3,i);var s=[],u=[],l=[],c=[],f=new qh,d=new mh;u.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(var h=0,p=3;h<=i;h++,p+=3){var v=a+h/i*o;f.x=r*Math.cos(v),f.y=r*Math.sin(v),u.push(f.x,f.y,f.z),l.push(0,0,1),d.x=(u[p]/r+1)/2,d.y=(u[p+1]/r+1)/2,c.push(d.x,d.y)}for(var m=1;m<=i;m++)s.push(m,m+1,0);return e.setIndex(s),e.setAttribute("position",new Iv(u,3)),e.setAttribute("normal",new Iv(l,3)),e.setAttribute("uv",new Iv(c,2)),e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(zv),Yw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;(0,I.Z)(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:o,heightSegments:s,openEnded:u,thetaStart:l,thetaLength:c};var f=(0,z.Z)(e);o=Math.floor(o),s=Math.floor(s);var d=[],h=[],p=[],v=[],m=0,g=[],y=a/2,b=0;function w(e){for(var t=m,n=new mh,a=new qh,s=0,u=!0===e?r:i,g=!0===e?1:-1,w=1;w<=o;w++)h.push(0,y*g,0),p.push(0,g,0),v.push(.5,.5),m++;for(var x=m,_=0;_<=o;_++){var S=_/o*c+l,E=Math.cos(S),M=Math.sin(S);a.x=u*M,a.y=y*g,a.z=u*E,h.push(a.x,a.y,a.z),p.push(0,g,0),n.x=.5*E+.5,n.y=.5*M*g+.5,v.push(n.x,n.y),m++}for(var A=0;A<o;A++){var k=t+A,T=x+A;!0===e?d.push(T,T+1,k):d.push(T+1,T,k),s+=3}f.addGroup(b,s,!0===e?1:2),b+=s}return function(){for(var e=new qh,t=new qh,n=0,u=(i-r)/a,w=0;w<=s;w++){for(var x=[],_=w/s,S=_*(i-r)+r,E=0;E<=o;E++){var M=E/o,A=M*c+l,k=Math.sin(A),T=Math.cos(A);t.x=S*k,t.y=-_*a+y,t.z=S*T,h.push(t.x,t.y,t.z),e.set(k,u,T).normalize(),p.push(e.x,e.y,e.z),v.push(M,1-_),x.push(m++)}g.push(x)}for(var C=0;C<o;C++)for(var P=0;P<s;P++){var R=g[P][C],I=g[P+1][C],L=g[P+1][C+1],Z=g[P][C+1];d.push(R,I,Z),d.push(I,L,Z),n+=6}f.addGroup(b,n,0),b+=n}(),!1===u&&(r>0&&w(!0),i>0&&w(!1)),e.setIndex(d),e.setAttribute("position",new Iv(h,3)),e.setAttribute("normal",new Iv(p,3)),e.setAttribute("uv",new Iv(v,2)),e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(zv),Qw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return(0,I.Z)(this,n),(e=t.call(this,0,r,i,a,o,s,u,l)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:u,thetaLength:l},e}return(0,L.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(Yw),Kw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,I.Z)(this,n),(e=t.call(this)).type="PolyhedronGeometry",e.parameters={vertices:r,indices:i,radius:a,detail:o};var s=[],u=[];function l(e,t,n,r){for(var i=r+1,a=[],o=0;o<=i;o++){a[o]=[];for(var s=e.clone().lerp(n,o/i),u=t.clone().lerp(n,o/i),l=i-o,f=0;f<=l;f++)a[o][f]=0===f&&o===i?s:s.clone().lerp(u,f/l)}for(var d=0;d<i;d++)for(var h=0;h<2*(i-d)-1;h++){var p=Math.floor(h/2);h%2===0?(c(a[d][p+1]),c(a[d+1][p]),c(a[d][p])):(c(a[d][p+1]),c(a[d+1][p+1]),c(a[d+1][p]))}}function c(e){s.push(e.x,e.y,e.z)}function f(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function d(e,t,n,r){r<0&&1===e.x&&(u[t]=e.x-1),0===n.x&&0===n.z&&(u[t]=r/2/Math.PI+.5)}function h(e){return Math.atan2(e.z,-e.x)}return function(e){for(var t=new qh,n=new qh,r=new qh,a=0;a<i.length;a+=3)f(i[a+0],t),f(i[a+1],n),f(i[a+2],r),l(t,n,r,e)}(o),function(e){for(var t=new qh,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}(a),function(){for(var e=new qh,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=h(e)/2/Math.PI+.5,r=(i=e,Math.atan2(-i.y,Math.sqrt(i.x*i.x+i.z*i.z))/Math.PI+.5);u.push(n,1-r)}var i;(function(){for(var e=new qh,t=new qh,n=new qh,r=new qh,i=new mh,a=new mh,o=new mh,l=0,c=0;l<s.length;l+=9,c+=6){e.set(s[l+0],s[l+1],s[l+2]),t.set(s[l+3],s[l+4],s[l+5]),n.set(s[l+6],s[l+7],s[l+8]),i.set(u[c+0],u[c+1]),a.set(u[c+2],u[c+3]),o.set(u[c+4],u[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var f=h(r);d(i,c+0,e,f),d(a,c+2,t,f),d(o,c+4,n,f)}})(),function(){for(var e=0;e<u.length;e+=6){var t=u[e+0],n=u[e+2],r=u[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(u[e+0]+=1),n<.2&&(u[e+2]+=1),r<.2&&(u[e+4]+=1))}}()}(),e.setAttribute("position",new Iv(s,3)),e.setAttribute("normal",new Iv(s.slice(),3)),e.setAttribute("uv",new Iv(u,2)),0===o?e.computeVertexNormals():e.normalizeNormals(),e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(zv),Jw=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,I.Z)(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o];return(e=t.call(this,s,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],r,i)).type="DodecahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,L.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Kw),$w=new qh,ex=new qh,tx=new qh,nx=new ov,rx=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if((0,I.Z)(this,n),(e=t.call(this)).type="EdgesGeometry",e.parameters={geometry:r,thresholdAngle:i},null!==r){for(var a=Math.pow(10,4),o=Math.cos(ih*i),s=r.getIndex(),u=r.getAttribute("position"),l=s?s.count:u.count,c=[0,0,0],f=["a","b","c"],d=new Array(3),h={},p=[],v=0;v<l;v+=3){s?(c[0]=s.getX(v),c[1]=s.getX(v+1),c[2]=s.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);var m=nx.a,g=nx.b,y=nx.c;if(m.fromBufferAttribute(u,c[0]),g.fromBufferAttribute(u,c[1]),y.fromBufferAttribute(u,c[2]),nx.getNormal(tx),d[0]="".concat(Math.round(m.x*a),",").concat(Math.round(m.y*a),",").concat(Math.round(m.z*a)),d[1]="".concat(Math.round(g.x*a),",").concat(Math.round(g.y*a),",").concat(Math.round(g.z*a)),d[2]="".concat(Math.round(y.x*a),",").concat(Math.round(y.y*a),",").concat(Math.round(y.z*a)),d[0]!==d[1]&&d[1]!==d[2]&&d[2]!==d[0])for(var b=0;b<3;b++){var w=(b+1)%3,x=d[b],_=d[w],S=nx[f[b]],E=nx[f[w]],M="".concat(x,"_").concat(_),A="".concat(_,"_").concat(x);A in h&&h[A]?(tx.dot(h[A].normal)<=o&&(p.push(S.x,S.y,S.z),p.push(E.x,E.y,E.z)),h[A]=null):M in h||(h[M]={index0:c[b],index1:c[w],normal:tx.clone()})}}for(var k in h)if(h[k]){var T=h[k],C=T.index0,P=T.index1;$w.fromBufferAttribute(u,C),ex.fromBufferAttribute(u,P),p.push($w.x,$w.y,$w.z),p.push(ex.x,ex.y,ex.z)}e.setAttribute("position",new Iv(p,3))}return e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}]),n}(zv),ix=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this,e)).uuid=oh(),r.type="Shape",r.holes=[],r}return(0,L.Z)(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){(0,Nu.Z)((0,Uu.Z)(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new Ww).fromJSON(i))}return this}}]),n}(Ww),ax=function(e,t){var n,r,i,a,o,s,u,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,f=c?t[0]*l:e.length,d=ox(e,0,f,l,!0),h=[];if(!d||d.next===d.prev)return h;if(c&&(d=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=ox(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(gx(o));for(s.sort(hx),i=0;i<s.length;i++)n=px(s[i],n);return n}(e,t,d,l)),e.length>80*l){n=i=e[0],r=a=e[1];for(var p=l;p<f;p+=l)(o=e[p])<n&&(n=o),(s=e[p+1])<r&&(r=s),o>i&&(i=o),s>a&&(a=s);u=0!==(u=Math.max(i-n,a-r))?32767/u:0}return ux(d,h,l,n,r,u,0),h};function ox(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=kx(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=kx(a,e[a],e[a+1],o);return o&&xx(o,o.next)&&(Tx(o),o=o.next),o}function sx(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!xx(r,r.next)&&0!==wx(r.prev,r,r.next))r=r.next;else{if(Tx(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function ux(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=mx(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?cx(e,r,i,a):lx(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(u.i/n|0),Tx(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?ux(e=fx(sx(e),t,n),t,n,r,i,a,2):2===o&&dx(e,t,n,r,i,a):ux(sx(e),t,n,r,i,a,1);break}}}function lx(e){var t=e.prev,n=e,r=e.next;if(wx(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,u=n.y,l=r.y,c=i<a?i<o?i:o:a<o?a:o,f=s<u?s<l?s:l:u<l?u:l,d=i>a?i>o?i:o:a>o?a:o,h=s>u?s>l?s:l:u>l?u:l,p=r.next;p!==t;){if(p.x>=c&&p.x<=d&&p.y>=f&&p.y<=h&&yx(i,s,a,u,o,l,p.x,p.y)&&wx(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function cx(e,t,n,r){var i=e.prev,a=e,o=e.next;if(wx(i,a,o)>=0)return!1;for(var s=i.x,u=a.x,l=o.x,c=i.y,f=a.y,d=o.y,h=s<u?s<l?s:l:u<l?u:l,p=c<f?c<d?c:d:f<d?f:d,v=s>u?s>l?s:l:u>l?u:l,m=c>f?c>d?c:d:f>d?f:d,g=mx(h,p,t,n,r),y=mx(v,m,t,n,r),b=e.prevZ,w=e.nextZ;b&&b.z>=g&&w&&w.z<=y;){if(b.x>=h&&b.x<=v&&b.y>=p&&b.y<=m&&b!==i&&b!==o&&yx(s,c,u,f,l,d,b.x,b.y)&&wx(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,w.x>=h&&w.x<=v&&w.y>=p&&w.y<=m&&w!==i&&w!==o&&yx(s,c,u,f,l,d,w.x,w.y)&&wx(w.prev,w,w.next)>=0)return!1;w=w.nextZ}for(;b&&b.z>=g;){if(b.x>=h&&b.x<=v&&b.y>=p&&b.y<=m&&b!==i&&b!==o&&yx(s,c,u,f,l,d,b.x,b.y)&&wx(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=y;){if(w.x>=h&&w.x<=v&&w.y>=p&&w.y<=m&&w!==i&&w!==o&&yx(s,c,u,f,l,d,w.x,w.y)&&wx(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function fx(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!xx(i,a)&&_x(i,r,r.next,a)&&Mx(i,a)&&Mx(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),Tx(r),Tx(r.next),r=e=a),r=r.next}while(r!==e);return sx(r)}function dx(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&bx(o,s)){var u=Ax(o,s);return o=sx(o,o.next),u=sx(u,u.next),ux(o,t,n,r,i,a,0),void ux(u,t,n,r,i,a,0)}s=s.next}o=o.next}while(o!==e)}function hx(e,t){return e.x-t.x}function px(e,t){var n=function(e,t){var n,r=t,i=-1/0,a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>i&&(i=s,n=r.x<r.next.x?r:r.next,s===a))return n}r=r.next}while(r!==t);if(!n)return null;var u,l=n,c=n.x,f=n.y,d=1/0;r=n;do{a>=r.x&&r.x>=c&&a!==r.x&&yx(o<f?a:i,o,c,f,o<f?i:a,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(a-r.x),Mx(r,e)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&vx(n,r)))&&(n=r,d=u)),r=r.next}while(r!==l);return n}(e,t);if(!n)return t;var r=Ax(n,e);return sx(r,r.next),sx(n,n.next)}function vx(e,t){return wx(e.prev,e,t.prev)<0&&wx(t.next,e,e.next)<0}function mx(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function gx(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function yx(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function bx(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&_x(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Mx(e,t)&&Mx(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(wx(e.prev,e,t.prev)||wx(e,t.prev,t))||xx(e,t)&&wx(e.prev,e,e.next)>0&&wx(t.prev,t,t.next)>0)}function wx(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function xx(e,t){return e.x===t.x&&e.y===t.y}function _x(e,t,n,r){var i=Ex(wx(e,t,n)),a=Ex(wx(e,t,r)),o=Ex(wx(n,r,e)),s=Ex(wx(n,r,t));return i!==a&&o!==s||(!(0!==i||!Sx(e,n,t))||(!(0!==a||!Sx(e,r,t))||(!(0!==o||!Sx(n,e,r))||!(0!==s||!Sx(n,t,r)))))}function Sx(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Ex(e){return e>0?1:e<0?-1:0}function Mx(e,t){return wx(e.prev,e,e.next)<0?wx(e,t,e.next)>=0&&wx(e,e.prev,t)>=0:wx(e,t,e.prev)<0||wx(e,e.next,t)<0}function Ax(e,t){var n=new Cx(e.i,e.x,e.y),r=new Cx(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function kx(e,t,n,r){var i=new Cx(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Tx(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Cx(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Px=function(){function e(){(0,I.Z)(this,e)}return(0,L.Z)(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];Rx(e),Ix(n,e);var a=e.length;t.forEach(Rx);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,Ix(n,t[o]);for(var s=ax(n,r),u=0;u<s.length;u+=3)i.push(s.slice(u,u+3));return i}}]),e}();function Rx(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Ix(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var Lx=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ix([new mh(.5,.5),new mh(-.5,.5),new mh(-.5,-.5),new mh(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,I.Z)(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:r,options:i},r=Array.isArray(r)?r:[r];for(var a=(0,z.Z)(e),o=[],s=[],u=0,l=r.length;u<l;u++){c(r[u])}function c(e){var t,n,r,u,l,c=[],f=void 0!==i.curveSegments?i.curveSegments:12,d=void 0!==i.steps?i.steps:1,h=void 0!==i.depth?i.depth:1,p=void 0===i.bevelEnabled||i.bevelEnabled,v=void 0!==i.bevelThickness?i.bevelThickness:.2,m=void 0!==i.bevelSize?i.bevelSize:v-.1,g=void 0!==i.bevelOffset?i.bevelOffset:0,y=void 0!==i.bevelSegments?i.bevelSegments:3,b=i.extrudePath,w=void 0!==i.UVGenerator?i.UVGenerator:Zx,x=!1;b&&(t=b.getSpacedPoints(d),x=!0,p=!1,n=b.computeFrenetFrames(d,!1),r=new qh,u=new qh,l=new qh),p||(y=0,v=0,m=0,g=0);var _=e.extractPoints(f),S=_.shape,E=_.holes;if(!Px.isClockWise(S)){S=S.reverse();for(var M=0,A=E.length;M<A;M++){var k=E[M];Px.isClockWise(k)&&(E[M]=k.reverse())}}for(var T=Px.triangulateShape(S,E),C=S,P=0,R=E.length;P<R;P++){var I=E[P];S=S.concat(I)}function L(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}var Z=S.length,O=T.length;function N(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,u=n.x-e.x,l=n.y-e.y,c=o*o+s*s,f=o*l-s*u;if(Math.abs(f)>Number.EPSILON){var d=Math.sqrt(c),h=Math.sqrt(u*u+l*l),p=t.x-s/d,v=t.y+o/d,m=((n.x-l/h-p)*l-(n.y+u/h-v)*u)/(o*l-s*u),g=(r=p+o*m-e.x)*r+(i=v+s*m-e.y)*i;if(g<=2)return new mh(r,i);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?u>Number.EPSILON&&(y=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(l)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new mh(r/a,i/a)}for(var U=[],D=0,B=C.length,F=B-1,z=D+1;D<B;D++,F++,z++)F===B&&(F=0),z===B&&(z=0),U[D]=N(C[D],C[F],C[z]);for(var j,H=[],G=U.concat(),W=0,V=E.length;W<V;W++){var q=E[W];j=[];for(var X=0,Y=q.length,Q=Y-1,K=X+1;X<Y;X++,Q++,K++)Q===Y&&(Q=0),K===Y&&(K=0),j[X]=N(q[X],q[Q],q[K]);H.push(j),G=G.concat(j)}for(var J=0;J<y;J++){for(var $=J/y,ee=v*Math.cos($*Math.PI/2),te=m*Math.sin($*Math.PI/2)+g,ne=0,re=C.length;ne<re;ne++){var ie=L(C[ne],U[ne],te);Re(ie.x,ie.y,-ee)}for(var ae=0,oe=E.length;ae<oe;ae++){var se=E[ae];j=H[ae];for(var ue=0,le=se.length;ue<le;ue++){var ce=L(se[ue],j[ue],te);Re(ce.x,ce.y,-ee)}}}for(var fe=m+g,de=0;de<Z;de++){var he=p?L(S[de],G[de],fe):S[de];x?(u.copy(n.normals[0]).multiplyScalar(he.x),r.copy(n.binormals[0]).multiplyScalar(he.y),l.copy(t[0]).add(u).add(r),Re(l.x,l.y,l.z)):Re(he.x,he.y,0)}for(var pe=1;pe<=d;pe++)for(var ve=0;ve<Z;ve++){var me=p?L(S[ve],G[ve],fe):S[ve];x?(u.copy(n.normals[pe]).multiplyScalar(me.x),r.copy(n.binormals[pe]).multiplyScalar(me.y),l.copy(t[pe]).add(u).add(r),Re(l.x,l.y,l.z)):Re(me.x,me.y,h/d*pe)}for(var ge=y-1;ge>=0;ge--){for(var ye=ge/y,be=v*Math.cos(ye*Math.PI/2),we=m*Math.sin(ye*Math.PI/2)+g,xe=0,_e=C.length;xe<_e;xe++){var Se=L(C[xe],U[xe],we);Re(Se.x,Se.y,h+be)}for(var Ee=0,Me=E.length;Ee<Me;Ee++){var Ae=E[Ee];j=H[Ee];for(var ke=0,Te=Ae.length;ke<Te;ke++){var Ce=L(Ae[ke],j[ke],we);x?Re(Ce.x,Ce.y+t[d-1].y,t[d-1].x+be):Re(Ce.x,Ce.y,h+be)}}}function Pe(e,t){for(var n=e.length;--n>=0;){var r=n,i=n-1;i<0&&(i=e.length-1);for(var a=0,o=d+2*y;a<o;a++){var s=Z*a,u=Z*(a+1);Le(t+r+s,t+i+s,t+i+u,t+r+u)}}}function Re(e,t,n){c.push(e),c.push(t),c.push(n)}function Ie(e,t,n){Ze(e),Ze(t),Ze(n);var r=o.length/3,i=w.generateTopUV(a,o,r-3,r-2,r-1);Oe(i[0]),Oe(i[1]),Oe(i[2])}function Le(e,t,n,r){Ze(e),Ze(t),Ze(r),Ze(t),Ze(n),Ze(r);var i=o.length/3,s=w.generateSideWallUV(a,o,i-6,i-3,i-2,i-1);Oe(s[0]),Oe(s[1]),Oe(s[3]),Oe(s[1]),Oe(s[2]),Oe(s[3])}function Ze(e){o.push(c[3*e+0]),o.push(c[3*e+1]),o.push(c[3*e+2])}function Oe(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(p){for(var t=0,n=Z*t,r=0;r<O;r++){var i=T[r];Ie(i[2]+n,i[1]+n,i[0]+n)}n=Z*(t=d+2*y);for(var s=0;s<O;s++){var u=T[s];Ie(u[0]+n,u[1]+n,u[2]+n)}}else{for(var l=0;l<O;l++){var c=T[l];Ie(c[2],c[1],c[0])}for(var f=0;f<O;f++){var h=T[f];Ie(h[0]+Z*d,h[1]+Z*d,h[2]+Z*d)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;Pe(C,t),t+=C.length;for(var n=0,r=E.length;n<r;n++){var i=E[n];Pe(i,t),t+=i.length}a.addGroup(e,o.length/3-e,1)}()}return e.setAttribute("position",new Iv(o,3)),e.setAttribute("uv",new Iv(s,2)),e.computeVertexNormals(),e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new Hw[s.type]).fromJSON(s)),new n(r,e.options)}}]),n}(zv),Zx={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],u=t[3*r+1],l=t[3*i],c=t[3*i+1];return[new mh(a,o),new mh(s,u),new mh(l,c)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],u=t[3*n+2],l=t[3*r],c=t[3*r+1],f=t[3*r+2],d=t[3*i],h=t[3*i+1],p=t[3*i+2],v=t[3*a],m=t[3*a+1],g=t[3*a+2];return Math.abs(s-c)<Math.abs(o-l)?[new mh(o,1-u),new mh(l,1-f),new mh(d,1-p),new mh(v,1-g)]:[new mh(s,1-u),new mh(c,1-f),new mh(h,1-p),new mh(m,1-g)]}};var Ox=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,I.Z)(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1];return(e=t.call(this,o,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],r,i)).type="IcosahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,L.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Kw),Nx=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,I.Z)(this,n);return(e=t.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],r,i)).type="OctahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,L.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Kw),Ux=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;(0,I.Z)(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:u},a=Math.max(3,a);for(var l=[],c=[],f=[],d=[],h=r,p=(i-r)/(o=Math.max(1,o)),v=new qh,m=new mh,g=0;g<=o;g++){for(var y=0;y<=a;y++){var b=s+y/a*u;v.x=h*Math.cos(b),v.y=h*Math.sin(b),c.push(v.x,v.y,v.z),f.push(0,0,1),m.x=(v.x/i+1)/2,m.y=(v.y/i+1)/2,d.push(m.x,m.y)}h+=p}for(var w=0;w<o;w++)for(var x=w*(a+1),_=0;_<a;_++){var S=_+x,E=S,M=S+a+1,A=S+a+2,k=S+1;l.push(E,M,k),l.push(M,A,k)}return e.setIndex(l),e.setAttribute("position",new Iv(c,3)),e.setAttribute("normal",new Iv(f,3)),e.setAttribute("uv",new Iv(d,2)),e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(zv),Dx=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ix([new mh(0,.5),new mh(-.5,-.5),new mh(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;(0,I.Z)(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:i};var a=[],o=[],s=[],u=[],l=0,c=0;if(!1===Array.isArray(r))d(r);else for(var f=0;f<r.length;f++)d(r[f]),e.addGroup(l,c,f),l+=c,c=0;function d(e){var t=o.length/3,n=e.extractPoints(i),r=n.shape,l=n.holes;!1===Px.isClockWise(r)&&(r=r.reverse());for(var f=0,d=l.length;f<d;f++){var h=l[f];!0===Px.isClockWise(h)&&(l[f]=h.reverse())}for(var p=Px.triangulateShape(r,l),v=0,m=l.length;v<m;v++){var g=l[v];r=r.concat(g)}for(var y=0,b=r.length;y<b;y++){var w=r[y];o.push(w.x,w.y,0),s.push(0,0,1),u.push(w.x,w.y)}for(var x=0,_=p.length;x<_;x++){var S=p[x],E=S[0]+t,M=S[1]+t,A=S[2]+t;a.push(E,M,A),c+=3}}return e.setIndex(a),e.setAttribute("position",new Iv(o,3)),e.setAttribute("normal",new Iv(s,3)),e.setAttribute("uv",new Iv(u,2)),e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}return new n(r,e.curveSegments)}}]),n}(zv);var Bx=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;(0,I.Z)(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:u,thetaLength:l},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var c=Math.min(u+l,Math.PI),f=0,d=[],h=new qh,p=new qh,v=[],m=[],g=[],y=[],b=0;b<=a;b++){var w=[],x=b/a,_=0;0===b&&0===u?_=.5/i:b===a&&c===Math.PI&&(_=-.5/i);for(var S=0;S<=i;S++){var E=S/i;h.x=-r*Math.cos(o+E*s)*Math.sin(u+x*l),h.y=r*Math.cos(u+x*l),h.z=r*Math.sin(o+E*s)*Math.sin(u+x*l),m.push(h.x,h.y,h.z),p.copy(h).normalize(),g.push(p.x,p.y,p.z),y.push(E+_,1-x),w.push(f++)}d.push(w)}for(var M=0;M<a;M++)for(var A=0;A<i;A++){var k=d[M][A+1],T=d[M][A],C=d[M+1][A],P=d[M+1][A+1];(0!==M||u>0)&&v.push(k,T,P),(M!==a-1||c<Math.PI)&&v.push(T,C,P)}return e.setIndex(v),e.setAttribute("position",new Iv(m,3)),e.setAttribute("normal",new Iv(g,3)),e.setAttribute("uv",new Iv(y,2)),e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(zv),Fx=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,I.Z)(this,n);return(e=t.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],r,i)).type="TetrahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,L.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Kw),zx=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;(0,I.Z)(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:i,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var u=[],l=[],c=[],f=[],d=new qh,h=new qh,p=new qh,v=0;v<=a;v++)for(var m=0;m<=o;m++){var g=m/o*s,y=v/a*Math.PI*2;h.x=(r+i*Math.cos(y))*Math.cos(g),h.y=(r+i*Math.cos(y))*Math.sin(g),h.z=i*Math.sin(y),l.push(h.x,h.y,h.z),d.x=r*Math.cos(g),d.y=r*Math.sin(g),p.subVectors(h,d).normalize(),c.push(p.x,p.y,p.z),f.push(m/o),f.push(v/a)}for(var b=1;b<=a;b++)for(var w=1;w<=o;w++){var x=(o+1)*b+w-1,_=(o+1)*(b-1)+w-1,S=(o+1)*(b-1)+w,E=(o+1)*b+w;u.push(x,_,E),u.push(_,S,E)}return e.setIndex(u),e.setAttribute("position",new Iv(l,3)),e.setAttribute("normal",new Iv(c,3)),e.setAttribute("uv",new Iv(f,2)),e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(zv),jx=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;(0,I.Z)(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:i,tubularSegments:a,radialSegments:o,p:s,q:u},a=Math.floor(a),o=Math.floor(o);for(var l=[],c=[],f=[],d=[],h=new qh,p=new qh,v=new qh,m=new qh,g=new qh,y=new qh,b=new qh,w=0;w<=a;++w){var x=w/a*s*Math.PI*2;L(x,s,u,r,v),L(x+.01,s,u,r,m),y.subVectors(m,v),b.addVectors(m,v),g.crossVectors(y,b),b.crossVectors(g,y),g.normalize(),b.normalize();for(var _=0;_<=o;++_){var S=_/o*Math.PI*2,E=-i*Math.cos(S),M=i*Math.sin(S);h.x=v.x+(E*b.x+M*g.x),h.y=v.y+(E*b.y+M*g.y),h.z=v.z+(E*b.z+M*g.z),c.push(h.x,h.y,h.z),p.subVectors(h,v).normalize(),f.push(p.x,p.y,p.z),d.push(w/a),d.push(_/o)}}for(var A=1;A<=a;A++)for(var k=1;k<=o;k++){var T=(o+1)*(A-1)+(k-1),C=(o+1)*A+(k-1),P=(o+1)*A+k,R=(o+1)*(A-1)+k;l.push(T,C,R),l.push(C,P,R)}function L(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*a,i.y=r*(2+u)*o*.5,i.z=r*Math.sin(s)*.5}return e.setIndex(l),e.setAttribute("position",new Iv(c,3)),e.setAttribute("normal",new Iv(f,3)),e.setAttribute("uv",new Iv(d,2)),e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(zv),Hx=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zw(new qh(-1,-1,0),new qh(-1,1,0),new qh(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,I.Z)(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:a,radialSegments:o,closed:s};var u=r.computeFrenetFrames(i,s);e.tangents=u.tangents,e.normals=u.normals,e.binormals=u.binormals;var l=new qh,c=new qh,f=new mh,d=new qh,h=[],p=[],v=[],m=[];function g(e){d=r.getPointAt(e/i,d);for(var t=u.normals[e],n=u.binormals[e],s=0;s<=o;s++){var f=s/o*Math.PI*2,v=Math.sin(f),m=-Math.cos(f);c.x=m*t.x+v*n.x,c.y=m*t.y+v*n.y,c.z=m*t.z+v*n.z,c.normalize(),p.push(c.x,c.y,c.z),l.x=d.x+a*c.x,l.y=d.y+a*c.y,l.z=d.z+a*c.z,h.push(l.x,l.y,l.z)}}return function(){for(var e=0;e<i;e++)g(e);g(!1===s?i:0),function(){for(var e=0;e<=i;e++)for(var t=0;t<=o;t++)f.x=e/i,f.y=t/o,v.push(f.x,f.y)}(),function(){for(var e=1;e<=i;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),a=(o+1)*e+t,s=(o+1)*(e-1)+t;m.push(n,r,s),m.push(r,a,s)}}()}(),e.setIndex(m),e.setAttribute("position",new Iv(h,3)),e.setAttribute("normal",new Iv(p,3)),e.setAttribute("uv",new Iv(v,2)),e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new Hw[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(zv),Gx=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((0,I.Z)(this,n),(e=t.call(this)).type="WireframeGeometry",e.parameters={geometry:r},null!==r){var i=[],a=new Set,o=new qh,s=new qh;if(null!==r.index){var u=r.attributes.position,l=r.index,c=r.groups;0===c.length&&(c=[{start:0,count:l.count,materialIndex:0}]);for(var f=0,d=c.length;f<d;++f)for(var h=c[f],p=h.start,v=p,m=p+h.count;v<m;v+=3)for(var g=0;g<3;g++){var y=l.getX(v+g),b=l.getX(v+(g+1)%3);o.fromBufferAttribute(u,y),s.fromBufferAttribute(u,b),!0===Wx(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}}else for(var w=r.attributes.position,x=0,_=w.count/3;x<_;x++)for(var S=0;S<3;S++){var E=3*x+S,M=3*x+(S+1)%3;o.fromBufferAttribute(w,E),s.fromBufferAttribute(w,M),!0===Wx(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}e.setAttribute("position",new Iv(i,3))}return e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}]),n}(zv);function Wx(e,t,n){var r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var Vx=Object.freeze({__proto__:null,BoxGeometry:sm,CapsuleGeometry:qw,CircleGeometry:Xw,ConeGeometry:Qw,CylinderGeometry:Yw,DodecahedronGeometry:Jw,EdgesGeometry:rx,ExtrudeGeometry:Lx,IcosahedronGeometry:Ox,LatheGeometry:Vw,OctahedronGeometry:Nx,PlaneGeometry:Tm,PolyhedronGeometry:Kw,RingGeometry:Ux,ShapeGeometry:Dx,SphereGeometry:Bx,TetrahedronGeometry:Fx,TorusGeometry:zx,TorusKnotGeometry:jx,TubeGeometry:Hx,WireframeGeometry:Gx}),qx=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).isShadowMaterial=!0,r.type="ShadowMaterial",r.color=new hv(0),r.transparent=!0,r.fog=!0,r.setValues(e),r}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.fog=e.fog,this}}]),n}(uv),Xx=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this,e)).isRawShaderMaterial=!0,r.type="RawShaderMaterial",r}return(0,L.Z)(n)}(dm),Yx=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).isMeshStandardMaterial=!0,r.defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new hv(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new hv(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=fd,r.normalScale=new mh(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(uv),Qx=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).isMeshPhysicalMaterial=!0,r.defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.anisotropyRotation=0,r.anisotropyMap=null,r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new mh(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty((0,z.Z)(r),"reflectivity",{get:function(){return sh(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.iridescenceMap=null,r.iridescenceIOR=1.3,r.iridescenceThicknessRange=[100,400],r.iridescenceThicknessMap=null,r.sheenColor=new hv(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=1/0,r.attenuationColor=new hv(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new hv(1,1,1),r.specularColorMap=null,r._anisotropy=0,r._clearcoat=0,r._iridescence=0,r._sheen=0,r._transmission=0,r.setValues(e),r}return(0,L.Z)(n,[{key:"anisotropy",get:function(){return this._anisotropy},set:function(e){this._anisotropy>0!==e>0&&this.version++,this._anisotropy=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}},{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=(0,C.Z)(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(Yx),Kx=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).isMeshPhongMaterial=!0,r.type="MeshPhongMaterial",r.color=new hv(16777215),r.specular=new hv(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new hv(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=fd,r.normalScale=new mh(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=wc,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(uv),Jx=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).isMeshToonMaterial=!0,r.defines={TOON:""},r.type="MeshToonMaterial",r.color=new hv(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new hv(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=fd,r.normalScale=new mh(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(uv),$x=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).isMeshNormalMaterial=!0,r.type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=fd,r.normalScale=new mh(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.flatShading=!1,r.setValues(e),r}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(uv),e_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).isMeshLambertMaterial=!0,r.type="MeshLambertMaterial",r.color=new hv(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new hv(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=fd,r.normalScale=new mh(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=wc,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(uv),t_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).isMeshMatcapMaterial=!0,r.defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new hv(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=fd,r.normalScale=new mh(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(uv),n_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).isLineDashedMaterial=!0,r.type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(tw);function r_(e,t,n){return a_(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function i_(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function a_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function o_(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function s_(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,u=0;u!==t;++u)i[o++]=e[s+u];return i}function u_(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}var l_={arraySlice:r_,convertArray:i_,isTypedArray:a_,getKeyframeOrder:o_,sortedArray:s_,flattenJSON:u_,subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var u=a.tracks[s],l=u.getValueSize(),c=[],f=[],d=0;d<u.times.length;++d){var h=u.times[d]*i;if(!(h<n||h>=r)){c.push(u.times[d]);for(var p=0;p<l;++p)f.push(u.values[d*l+p])}}0!==c.length&&(u.times=i_(c,u.times.constructor),u.values=i_(f,u.values.constructor),o.push(u))}a.tracks=o;for(var v=1/0,m=0;m<a.tracks.length;++m)v>a.tracks[m].times[0]&&(v=a.tracks[m].times[0]);for(var g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*v);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,a=t/r,o=function(){var t=n.tracks[s],r=t.ValueTypeName;if("bool"===r||"string"===r)return"continue";var i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)return"continue";var o=0,u=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(o=u/3);var l=0,c=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=c/3);var f,d=t.times.length-1;if(a<=t.times[0]){var h=o,p=u-o;f=r_(t.values,h,p)}else if(a>=t.times[d]){var v=d*u+o,m=v+u-o;f=r_(t.values,v,m)}else{var g=t.createInterpolant(),y=o,b=u-o;g.evaluate(a),f=r_(g.resultBuffer,y,b)}"quaternion"===r&&(new Vh).fromArray(f).normalize().conjugate().toArray(f);for(var w=i.times.length,x=0;x<w;++x){var _=x*c+l;if("quaternion"===r)Vh.multiplyQuaternionsFlat(i.values,_,f,0,i.values,_);else for(var S=c-2*l,E=0;E<S;++E)i.values[_+E]-=f[E]}},s=0;s<i;++s)o();return e.blendMode=rd,e}},c_=function(){function e(t,n,r,i){(0,I.Z)(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return(0,L.Z)(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var u=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===u)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),f_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i,a){var o;return(0,I.Z)(this,n),(o=t.call(this,e,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:$f,endingEnd:$f},o}return(0,L.Z)(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case ed:i=e,o=2*t-n;break;case td:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case ed:a=e,s=2*n-t;break;case td:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=a*l}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,f=this._weightPrev,d=this._weightNext,h=(n-t)/(r-t),p=h*h,v=p*h,m=-f*v+2*f*p-f*h,g=(1+f)*v+(-1.5-2*f)*p+(-.5+f)*h+1,y=(-1-d)*v+(1.5+d)*p+.5*h,b=d*v-d*p,w=0;w!==o;++w)i[w]=m*a[l+w]+g*a[u+w]+y*a[s+w]+b*a[c+w];return i}}]),n}(c_),d_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i,a){return(0,I.Z)(this,n),t.call(this,e,r,i,a)}return(0,L.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(n-t)/(r-t),c=1-l,f=0;f!==o;++f)i[f]=a[u+f]*c+a[s+f]*l;return i}}]),n}(c_),h_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i,a){return(0,I.Z)(this,n),t.call(this,e,r,i,a)}return(0,L.Z)(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(c_),p_=function(){function e(t,n,r,i){if((0,I.Z)(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=i_(n,this.TimeBufferType),this.values=i_(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return(0,L.Z)(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new h_(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new d_(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new f_(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case Qf:t=this.InterpolantFactoryMethodDiscrete;break;case Kf:t=this.InterpolantFactoryMethodLinear;break;case Jf:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Qf;case this.InterpolantFactoryMethodLinear:return Kf;case this.InterpolantFactoryMethodSmooth:return Jf}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=r_(n,i,a),this.values=r_(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&a_(r))for(var u=0,l=r.length;u!==l;++u){var c=r[u];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=r_(this.times),t=r_(this.values),n=this.getValueSize(),r=this.getInterpolation()===Jf,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==e[0]))if(r)s=!0;else for(var l=o*n,c=l-n,f=l+n,d=0;d!==n;++d){var h=t[l+d];if(h!==t[c+d]||h!==t[f+d]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,v=a*n,m=0;m!==n;++m)t[v+m]=t[p+m]}++a}}if(i>0){e[a]=e[i];for(var g=i*n,y=a*n,b=0;b!==n;++b)t[y+b]=t[g+b];++a}return a!==e.length?(this.times=r_(e,0,a),this.values=r_(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=r_(this.times,0),t=r_(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:i_(e.times,Array),values:i_(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();p_.prototype.TimeBufferType=Float32Array,p_.prototype.ValueBufferType=Float32Array,p_.prototype.DefaultInterpolation=Kf;var v_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,L.Z)(n)}(p_);v_.prototype.ValueTypeName="bool",v_.prototype.ValueBufferType=Array,v_.prototype.DefaultInterpolation=Qf,v_.prototype.InterpolantFactoryMethodLinear=void 0,v_.prototype.InterpolantFactoryMethodSmooth=void 0;var m_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,L.Z)(n)}(p_);m_.prototype.ValueTypeName="color";var g_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,L.Z)(n)}(p_);g_.prototype.ValueTypeName="number";var y_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i,a){return(0,I.Z)(this,n),t.call(this,e,r,i,a)}return(0,L.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),u=e*o,l=u+o;u!==l;u+=4)Vh.slerpFlat(i,0,a,u-o,a,u,s);return i}}]),n}(c_),b_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,L.Z)(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new y_(this.times,this.values,this.getValueSize(),e)}}]),n}(p_);b_.prototype.ValueTypeName="quaternion",b_.prototype.DefaultInterpolation=Kf,b_.prototype.InterpolantFactoryMethodSmooth=void 0;var w_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,L.Z)(n)}(p_);w_.prototype.ValueTypeName="string",w_.prototype.ValueBufferType=Array,w_.prototype.DefaultInterpolation=Qf,w_.prototype.InterpolantFactoryMethodLinear=void 0,w_.prototype.InterpolantFactoryMethodSmooth=void 0;var x_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,L.Z)(n)}(p_);x_.prototype.ValueTypeName="vector";var __=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:nd;(0,I.Z)(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=oh(),this.duration<0&&this.resetDuration()}return(0,L.Z)(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(S_(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(p_.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],u=[];s.push((o+i-1)%i,o,(o+1)%i),u.push(0,1,0);var l=o_(s);s=s_(s,1,l),u=s_(u,1,l),r||0!==s[0]||(s.push(i),u.push(u[0])),a.push(new g_(".morphTargetInfluences["+t[o].name+"]",s,u).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],u=s.name.match(i);if(u&&u.length>1){var l=u[1],c=r[l];c||(r[l]=c=[]),c.push(s)}}var f=[];for(var d in r)f.push(this.CreateFromMorphTargetSequence(d,r[d],t,n));return f}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];u_(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,u=e.hierarchy||[],l=0;l<u.length;l++){var c=u[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){var f={},d=void 0;for(d=0;d<c.length;d++)if(c[d].morphTargets)for(var h=0;h<c[d].morphTargets.length;h++)f[c[d].morphTargets[h]]=-1;for(var p in f){for(var v=[],m=[],g=0;g!==c[d].morphTargets.length;++g){var y=c[d];v.push(y.time),m.push(y.morphTarget===p?1:0)}r.push(new g_(".morphTargetInfluence["+p+"]",v,m))}s=f.length*a}else{var b=".bones["+t[l].name+"]";n(x_,b+".position",c,"pos",r),n(b_,b+".quaternion",c,"rot",r),n(x_,b+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}}]),e}();function S_(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return g_;case"vector":case"vector2":case"vector3":case"vector4":return x_;case"color":return m_;case"quaternion":return b_;case"bool":case"boolean":return v_;case"string":return w_}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];u_(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var E_={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},M_=(0,L.Z)((function e(t,n,r){(0,I.Z)(this,e);var i=this,a=!1,o=0,s=0,u=void 0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return u?u(e):e},this.setURLModifier=function(e){return u=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),A_=new M_,k_=function(){function e(t){(0,I.Z)(this,e),this.manager=void 0!==t?t:A_,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return(0,L.Z)(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}();k_.DEFAULT_MATERIAL_NAME="__DEFAULT";var T_,C_={},P_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r){var i;return(0,I.Z)(this,n),(i=t.call(this,e)).response=r,i}return(0,L.Z)(n)}((0,B.Z)(Error)),R_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){return(0,I.Z)(this,n),t.call(this,e)}return(0,L.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=E_.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===C_[e]){C_[e]=[],C_[e].push({onLoad:t,onProgress:n,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,u=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=C_[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=i?parseInt(i):0,o=0!==a,s=0,u=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,u=r.value;if(i)e.close();else{s+=u.byteLength;for(var l=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,f=n.length;c<f;c++){var d=n[c];d.onProgress&&d.onProgress(l)}e.enqueue(u),t()}}))}()}});return new Response(u)}throw new P_('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(u){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){E_.add(e,t);var n=C_[e];delete C_[e];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=C_[e];if(void 0===n)throw i.manager.itemError(e),t;delete C_[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else C_[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(k_),I_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){return(0,I.Z)(this,n),t.call(this,e)}return(0,L.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new R_(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=__.parse(e[n]);t.push(r)}return t}}]),n}(k_),L_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){return(0,I.Z)(this,n),t.call(this,e)}return(0,L.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=[],o=new xw,s=new R_(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var u=0;function l(l){s.load(e[l],(function(e){var n=i.parse(e,!0);a[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(o.minFilter=Hc),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var c=0,f=e.length;c<f;++c)l(c);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Hc),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}]),n}(k_),Z_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){return(0,I.Z)(this,n),t.call(this,e)}return(0,L.Z)(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=E_.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=_h("img");function s(){l(),E_.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){l(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function l(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(k_),O_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){return(0,I.Z)(this,n),t.call(this,e)}return(0,L.Z)(n,[{key:"load",value:function(e,t,n,r){var i=new gm;i.colorSpace=pd;var a=new Z_(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return i}}]),n}(k_),N_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){return(0,I.Z)(this,n),t.call(this,e)}return(0,L.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new jb,o=new R_(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:Nc,a.wrapT=void 0!==n.wrapT?n.wrapT:Nc,a.magFilter=void 0!==n.magFilter?n.magFilter:Hc,a.minFilter=void 0!==n.minFilter?n.minFilter:Hc,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace?a.colorSpace=n.colorSpace:void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Vc),1===n.mipmapCount&&(a.minFilter=Hc),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}]),n}(k_),U_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){return(0,I.Z)(this,n),t.call(this,e)}return(0,L.Z)(n,[{key:"load",value:function(e,t,n,r){var i=new Dh,a=new Z_(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(k_),D_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,I.Z)(this,n),(r=t.call(this)).isLight=!0,r.type="Light",r.color=new hv(e),r.intensity=i,r}return(0,L.Z)(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(Xp),B_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){var a;return(0,I.Z)(this,n),(a=t.call(this,e,i)).isHemisphereLight=!0,a.type="HemisphereLight",a.position.copy(Xp.DEFAULT_UP),a.updateMatrix(),a.groundColor=new hv(r),a}return(0,L.Z)(n,[{key:"copy",value:function(e,t){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,t),this.groundColor.copy(e.groundColor),this}}]),n}(D_),F_=new Sp,z_=new qh,j_=new qh,H_=function(){function e(t){(0,I.Z)(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new mh(512,512),this.map=null,this.mapPass=null,this.matrix=new Sp,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Mm,this._frameExtents=new mh(1,1),this._viewportCount=1,this._viewports=[new Bh(0,0,1,1)]}return(0,L.Z)(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;z_.setFromMatrixPosition(e.matrixWorld),t.position.copy(z_),j_.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(j_),t.updateMatrixWorld(),F_.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(F_),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(F_)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),G_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.call(this,new pm(50,1,.5,500))).isSpotLightShadow=!0,e.focus=1,e}return(0,L.Z)(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*ah*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),(0,Nu.Z)((0,Uu.Z)(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(H_),W_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;return(0,I.Z)(this,n),(i=t.call(this,e,r)).isSpotLight=!0,i.type="SpotLight",i.position.copy(Xp.DEFAULT_UP),i.updateMatrix(),i.target=new Xp,i.distance=a,i.angle=o,i.penumbra=s,i.decay=u,i.map=null,i.shadow=new G_,i}return(0,L.Z)(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(D_),V_=new Sp,q_=new qh,X_=new qh,Y_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.call(this,new pm(90,1,.5,500))).isPointLightShadow=!0,e._frameExtents=new mh(4,2),e._viewportCount=6,e._viewports=[new Bh(2,1,1,1),new Bh(0,1,1,1),new Bh(3,1,1,1),new Bh(1,1,1,1),new Bh(3,0,1,1),new Bh(1,0,1,1)],e._cubeDirections=[new qh(1,0,0),new qh(-1,0,0),new qh(0,0,1),new qh(0,0,-1),new qh(0,1,0),new qh(0,-1,0)],e._cubeUps=[new qh(0,1,0),new qh(0,1,0),new qh(0,1,0),new qh(0,1,0),new qh(0,0,1),new qh(0,0,-1)],e}return(0,L.Z)(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),q_.setFromMatrixPosition(e.matrixWorld),n.position.copy(q_),X_.copy(n.position),X_.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(X_),n.updateMatrixWorld(),r.makeTranslation(-q_.x,-q_.y,-q_.z),V_.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(V_)}}]),n}(H_),Q_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return(0,I.Z)(this,n),(i=t.call(this,e,r)).isPointLight=!0,i.type="PointLight",i.distance=a,i.decay=o,i.shadow=new Y_,i}return(0,L.Z)(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(D_),K_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.call(this,new Bm(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return(0,L.Z)(n)}(H_),J_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r){var i;return(0,I.Z)(this,n),(i=t.call(this,e,r)).isDirectionalLight=!0,i.type="DirectionalLight",i.position.copy(Xp.DEFAULT_UP),i.updateMatrix(),i.target=new Xp,i.shadow=new K_,i}return(0,L.Z)(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(D_),$_=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r){var i;return(0,I.Z)(this,n),(i=t.call(this,e,r)).isAmbientLight=!0,i.type="AmbientLight",i}return(0,L.Z)(n)}(D_),eS=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return(0,I.Z)(this,n),(i=t.call(this,e,r)).isRectAreaLight=!0,i.type="RectAreaLight",i.width=a,i.height=o,i}return(0,L.Z)(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(D_),tS=function(){function e(){(0,I.Z)(this,e),this.isSphericalHarmonics3=!0,this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new qh)}return(0,L.Z)(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}(),nS=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new tS,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,I.Z)(this,n),(e=t.call(this,void 0,i)).isLightProbe=!0,e.sh=r,e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(D_),rS=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this,e)).textures={},r}return(0,L.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new R_(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function r(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i=n.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=(new hv).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(i.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(i.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(i.alphaHash=e.alphaHash),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(i.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var a in e.uniforms){var o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=(new hv).setHex(o.value);break;case"v2":i.uniforms[a].value=(new mh).fromArray(o.value);break;case"v3":i.uniforms[a].value=(new qh).fromArray(o.value);break;case"v4":i.uniforms[a].value=(new Bh).fromArray(o.value);break;case"m3":i.uniforms[a].value=(new gh).fromArray(o.value);break;case"m4":i.uniforms[a].value=(new Sp).fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(var s in e.extensions)i.extensions[s]=e.extensions[s];if(void 0!==e.lights&&(i.lights=e.lights),void 0!==e.clipping&&(i.clipping=e.clipping),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=r(e.map)),void 0!==e.matcap&&(i.matcap=r(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=r(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){var u=e.normalScale;!1===Array.isArray(u)&&(u=[u,u]),i.normalScale=(new mh).fromArray(u)}return void 0!==e.displacementMap&&(i.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=r(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=r(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=r(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=r(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=r(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new mh).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=r(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=r(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=r(e.thicknessMap)),void 0!==e.anisotropyMap&&(i.anisotropyMap=r(e.anisotropyMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=r(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}},{key:"setTextures",value:function(e){return this.textures=e,this}}],[{key:"createMaterialFromType",value:function(e){return new{ShadowMaterial:qx,SpriteMaterial:hb,RawShaderMaterial:Xx,ShaderMaterial:dm,PointsMaterial:dw,MeshPhysicalMaterial:Qx,MeshStandardMaterial:Yx,MeshPhongMaterial:Kx,MeshToonMaterial:Jx,MeshNormalMaterial:$x,MeshLambertMaterial:e_,MeshDepthMaterial:Gy,MeshDistanceMaterial:Wy,MeshBasicMaterial:vv,MeshMatcapMaterial:t_,LineDashedMaterial:n_,LineBasicMaterial:tw,Material:uv}[e]}}]),n}(k_),iS=function(){function e(){(0,I.Z)(this,e)}return(0,L.Z)(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),aS=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.call(this)).isInstancedBufferGeometry=!0,e.type="InstancedBufferGeometry",e.instanceCount=1/0,e}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"toJSON",value:function(){var e=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(zv),oS=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){return(0,I.Z)(this,n),t.call(this,e)}return(0,L.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new R_(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}(e,i.buffer),o=xh(i.type,a),s=new cb(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}var i=e.isInstancedBufferGeometry?new aS:new zv,a=e.data.index;if(void 0!==a){var o=xh(a.type,a.array);i.setIndex(new Sv(o,1))}var s=e.data.attributes;for(var u in s){var l=s[u],c=void 0;if(l.isInterleavedBufferAttribute){var f=r(e.data,l.data);c=new db(f,l.itemSize,l.offset,l.normalized)}else{var d=xh(l.type,l.array);c=new(l.isInstancedBufferAttribute?Vb:Sv)(d,l.itemSize,l.normalized)}void 0!==l.name&&(c.name=l.name),void 0!==l.usage&&c.setUsage(l.usage),void 0!==l.updateRange&&(c.updateRange.offset=l.updateRange.offset,c.updateRange.count=l.updateRange.count),i.setAttribute(u,c)}var h=e.data.morphAttributes;if(h)for(var p in h){for(var v=h[p],m=[],g=0,y=v.length;g<y;g++){var b=v[g],w=void 0;if(b.isInterleavedBufferAttribute){var x=r(e.data,b.data);w=new db(x,b.itemSize,b.offset,b.normalized)}else{var _=xh(b.type,b.array);w=new Sv(_,b.itemSize,b.normalized)}void 0!==b.name&&(w.name=b.name),m.push(w)}i.morphAttributes[p]=m}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var S=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==S)for(var E=0,M=S.length;E!==M;++E){var A=S[E];i.addGroup(A.start,A.count,A.materialIndex)}var k=e.data.boundingSphere;if(void 0!==k){var T=new qh;void 0!==k.center&&T.fromArray(k.center),i.boundingSphere=new pp(T,k.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}]),n}(k_),sS=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){return(0,I.Z)(this,n),t.call(this,e)}return(0,L.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=""===this.path?iS.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new R_(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(a,t)}),n,r)}},{key:"loadAsync",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(t,n){var r,i,a,o,s,u;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=""===this.path?iS.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||i,(a=new R_(this.manager)).setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),e.next=9,a.loadAsync(t,n);case 9:if(o=e.sent,s=JSON.parse(o),void 0!==(u=s.metadata)&&void 0!==u.type&&"geometry"!==u.type.toLowerCase()){e.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+t);case 14:return e.next=16,r.parseAsync(s);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(u)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,i,s,o,n),l=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,l),void 0!==t){var c=!1;for(var f in a)if(a[f].data instanceof HTMLImageElement){c=!0;break}!1===c&&t(u)}return u}},{key:"parseAsync",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a,o,s,u,l;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),e.next=5,this.parseImagesAsync(t.images);case 5:return a=e.sent,o=this.parseTextures(t.textures,a),s=this.parseMaterials(t.materials,o),u=this.parseObject(t.object,i,s,o,n),l=this.parseSkeletons(t.skeletons,u),this.bindSkeletons(u,l),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new ix).fromJSON(e[n]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=(new Wb).fromJSON(e[i],r);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var r=new oS,i=0,a=e.length;i<a;i++){var o=void 0,s=e[i];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;default:s.type in Vx?o=Vx[s.type].fromJSON(s,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(s.type,'"'))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var i=new rS;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],i=__.parse(r);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n,r=this,i={};function a(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:xh(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new M_(t);(n=new Z_(o)).setCrossOrigin(this.crossOrigin);for(var s=0,u=e.length;s<u;s++){var l=e[s],c=l.url;if(Array.isArray(c)){for(var f=[],d=0,h=c.length;d<h;d++){var p=a(c[d]);null!==p&&(p instanceof HTMLImageElement?f.push(p):f.push(new jb(p.data,p.width,p.height)))}i[l.uuid]=new Oh(f)}else{var v=a(l.url);i[l.uuid]=new Oh(v)}}}return i}},{key:"parseImagesAsync",value:function(){var e=(0,R.Z)((0,P.Z)().mark((function e(t){var n,r,i,a,o,s,u,l,c,f,d,h,p,v,m;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return o=(0,R.Z)((0,P.Z)().mark((function e(t){var r,a;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=8;break}return a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r=t)?r:n.resourcePath+r,e.next=5,i.loadAsync(a);case 5:return e.abrupt("return",e.sent);case 8:if(!t.data){e.next=12;break}return e.abrupt("return",{data:xh(t.type,t.data),width:t.width,height:t.height});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)},a=function(e){return o.apply(this,arguments)},n=this,r={},!(void 0!==t&&t.length>0)){e.next=33;break}(i=new Z_(this.manager)).setCrossOrigin(this.crossOrigin),s=0,u=t.length;case 8:if(!(s<u)){e.next=33;break}if(l=t[s],c=l.url,!Array.isArray(c)){e.next=26;break}f=[],d=0,h=c.length;case 14:if(!(d<h)){e.next=23;break}return p=c[d],e.next=18,a(p);case 18:null!==(v=e.sent)&&(v instanceof HTMLImageElement?f.push(v):f.push(new jb(v.data,v.width,v.height)));case 20:d++,e.next=14;break;case 23:r[l.uuid]=new Oh(f),e.next=30;break;case 26:return e.next=28,a(l.url);case 28:m=e.sent,r[l.uuid]=new Oh(m);case 30:s++,e.next=8;break;case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=t[o.image],u=s.data,l=void 0;Array.isArray(u)?(l=new gm,6===u.length&&(l.needsUpdate=!0)):(l=u&&u.data?new jb:new Dh,u&&(l.needsUpdate=!0)),l.source=s,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,uS)),void 0!==o.channel&&(l.channel=o.channel),void 0!==o.offset&&l.offset.fromArray(o.offset),void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],lS),l.wrapT=n(o.wrap[1],lS)),void 0!==o.format&&(l.format=o.format),void 0!==o.internalFormat&&(l.internalFormat=o.internalFormat),void 0!==o.type&&(l.type=o.type),void 0!==o.colorSpace&&(l.colorSpace=o.colorSpace),void 0!==o.encoding&&(l.encoding=o.encoding),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,cS)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,cS)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),void 0!==o.generateMipmaps&&(l.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(l.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(l.unpackAlignment=o.unpackAlignment),void 0!==o.compareFunction&&(l.compareFunction=o.compareFunction),void 0!==o.userData&&(l.userData=o.userData),r[o.uuid]=l}return r}},{key:"parseObject",value:function(e,t,n,r,i){var a,o,s;function u(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function l(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new lb,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new hv(e.background):a.background=c(e.background)),void 0!==e.environment&&(a.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new ub(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new sb(e.fog.color,e.fog.density))),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new pm(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Bm(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new $_(e.color,e.intensity);break;case"DirectionalLight":a=new J_(e.color,e.intensity);break;case"PointLight":a=new Q_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new eS(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new W_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new B_(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new nS).fromJSON(e);break;case"SkinnedMesh":o=u(e.geometry),s=l(e.material),a=new Fb(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=u(e.geometry),s=l(e.material),a=new am(o,s);break;case"InstancedMesh":o=u(e.geometry),s=l(e.material);var f=e.count,d=e.instanceMatrix,h=e.instanceColor;(a=new ew(o,s,f)).instanceMatrix=new Vb(new Float32Array(d.array),16),void 0!==h&&(a.instanceColor=new Vb(new Float32Array(h.array),h.itemSize));break;case"LOD":a=new Pb;break;case"Line":a=new sw(u(e.geometry),l(e.material));break;case"LineLoop":a=new fw(u(e.geometry),l(e.material));break;case"LineSegments":a=new cw(u(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new gw(u(e.geometry),l(e.material));break;case"Sprite":a=new Ab(l(e.material));break;case"Group":a=new Ky;break;case"Bone":a=new zb;break;default:a=new Xp}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.up&&a.up.fromArray(e.up),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children)for(var p=e.children,v=0;v<p.length;v++)a.add(this.parseObject(p[v],t,n,r,i));if(void 0!==e.animations)for(var m=e.animations,g=0;g<m.length;g++){var y=m[g];a.animations.push(i[y])}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);for(var b=e.levels,w=0;w<b.length;w++){var x=b[w],_=a.getObjectByProperty("uuid",x.object);void 0!==_&&a.addLevel(_,x.distance,x.hysteresis)}}return a}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}]),n}(k_),uS={UVMapping:Cc,CubeReflectionMapping:Pc,CubeRefractionMapping:Rc,EquirectangularReflectionMapping:Ic,EquirectangularRefractionMapping:Lc,CubeUVReflectionMapping:Zc},lS={RepeatWrapping:Oc,ClampToEdgeWrapping:Nc,MirroredRepeatWrapping:Uc},cS={NearestFilter:Dc,NearestMipmapNearestFilter:Bc,NearestMipmapLinearFilter:zc,LinearFilter:Hc,LinearMipmapNearestFilter:Gc,LinearMipmapLinearFilter:Vc},fS=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this,e)).isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return(0,L.Z)(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=E_.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){E_.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}(k_),dS=function(){function e(){(0,I.Z)(this,e)}return(0,L.Z)(e,null,[{key:"getContext",value:function(){return void 0===T_&&(T_=new(window.AudioContext||window.webkitAudioContext)),T_}},{key:"setContext",value:function(e){T_=e}}]),e}(),hS=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){return(0,I.Z)(this,n),t.call(this,e)}return(0,L.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new R_(this.manager);function o(t){r?r(t):console.error(t),i.manager.itemError(e)}a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){try{var n=e.slice(0);dS.getContext().decodeAudioData(n,(function(e){t(e)}),o)}catch(r){o(r)}}),n,r)}}]),n}(k_),pS=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,I.Z)(this,n),(i=t.call(this,void 0,a)).isHemisphereLightProbe=!0;var o=(new hv).set(e),s=(new hv).set(r),u=new qh(o.r,o.g,o.b),l=new qh(s.r,s.g,s.b),c=Math.sqrt(Math.PI),f=c*Math.sqrt(.75);return i.sh.coefficients[0].copy(u).add(l).multiplyScalar(c),i.sh.coefficients[1].copy(u).sub(l).multiplyScalar(f),i}return(0,L.Z)(n)}(nS),vS=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,I.Z)(this,n),(r=t.call(this,void 0,i)).isAmbientLightProbe=!0;var a=(new hv).set(e);return r.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return(0,L.Z)(n)}(nS),mS=new Sp,gS=new Sp,yS=new Sp,bS=function(){function e(){(0,I.Z)(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new pm,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new pm,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return(0,L.Z)(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,yS.copy(e.projectionMatrix);var n,r,i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(ih*t.fov*.5)/t.zoom;gS.elements[12]=-i,mS.elements[12]=i,n=-o*t.aspect+a,r=o*t.aspect+a,yS.elements[0]=2*t.near/(r-n),yS.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(yS),n=-o*t.aspect-a,r=o*t.aspect-a,yS.elements[0]=2*t.near/(r-n),yS.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(yS)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(gS),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(mS)}}]),e}(),wS=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,I.Z)(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return(0,L.Z)(e,[{key:"start",value:function(){this.startTime=xS(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=xS();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function xS(){return("undefined"===typeof performance?Date:performance).now()}var _S=new qh,SS=new Vh,ES=new qh,MS=new qh,AS=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.call(this)).type="AudioListener",e.context=dS.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new wS,e}return(0,L.Z)(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){(0,Nu.Z)((0,Uu.Z)(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_S,SS,ES),MS.set(0,0,-1).applyQuaternion(SS),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(_S.x,i),t.positionY.linearRampToValueAtTime(_S.y,i),t.positionZ.linearRampToValueAtTime(_S.z,i),t.forwardX.linearRampToValueAtTime(MS.x,i),t.forwardY.linearRampToValueAtTime(MS.y,i),t.forwardZ.linearRampToValueAtTime(MS.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(_S.x,_S.y,_S.z),t.setOrientation(MS.x,MS.y,MS.z,r.x,r.y,r.z)}}]),n}(Xp),kS=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return(0,L.Z)(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(Xp),TS=new qh,CS=new Vh,PS=new qh,RS=new qh,IS=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return(0,L.Z)(n,[{key:"connect",value:function(){(0,Nu.Z)((0,Uu.Z)(n.prototype),"connect",this).call(this),this.panner.connect(this.gain)}},{key:"disconnect",value:function(){(0,Nu.Z)((0,Uu.Z)(n.prototype),"disconnect",this).call(this),this.panner.disconnect(this.gain)}},{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if((0,Nu.Z)((0,Uu.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(TS,CS,PS),RS.set(0,0,1).applyQuaternion(CS);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(TS.x,r),t.positionY.linearRampToValueAtTime(TS.y,r),t.positionZ.linearRampToValueAtTime(TS.z,r),t.orientationX.linearRampToValueAtTime(RS.x,r),t.orientationY.linearRampToValueAtTime(RS.y,r),t.orientationZ.linearRampToValueAtTime(RS.z,r)}else t.setPosition(TS.x,TS.y,TS.z),t.setOrientation(RS.x,RS.y,RS.z)}}}]),n}(kS),LS=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;(0,I.Z)(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return(0,L.Z)(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),ZS=function(){function e(t,n,r){var i,a,o;switch((0,I.Z)(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return(0,L.Z)(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var u=t,l=t+t;u!==l;++u)if(n[u]!==n[u+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,r){Vh.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var a=this._workIndex*i;Vh.multiplyQuaternionsFlat(e,a,e,t,e,n),Vh.slerpFlat(e,t,e,t,e,a,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}}]),e}(),OS="\\[\\]\\.:\\/",NS=new RegExp("["+OS+"]","g"),US="[^"+OS+"]",DS="[^"+OS.replace("\\.","")+"]",BS=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",US)+/(WCOD+)?/.source.replace("WCOD",DS)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",US)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",US)+"$"),FS=["material","materials","bones","map"],zS=function(){function e(t,n,r){(0,I.Z)(this,e);var i=r||jS.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return(0,L.Z)(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),jS=function(){function e(t,n,r){(0,I.Z)(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return(0,L.Z)(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var u=t[i];if(void 0!==u){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=a}else void 0!==u.fromArray&&void 0!==u.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(c=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var f=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(NS,"")}},{key:"parseTrackName",value:function(e){var t=BS.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==FS.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();jS.Composite=zS,jS.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},jS.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},jS.prototype.GetterByBindingType=[jS.prototype._getValue_direct,jS.prototype._getValue_array,jS.prototype._getValue_arrayElement,jS.prototype._getValue_toArray],jS.prototype.SetterByBindingTypeAndVersioning=[[jS.prototype._setValue_direct,jS.prototype._setValue_direct_setNeedsUpdate,jS.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[jS.prototype._setValue_array,jS.prototype._setValue_array_setNeedsUpdate,jS.prototype._setValue_array_setMatrixWorldNeedsUpdate],[jS.prototype._setValue_arrayElement,jS.prototype._setValue_arrayElement_setNeedsUpdate,jS.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[jS.prototype._setValue_fromArray,jS.prototype._setValue_fromArray_setNeedsUpdate,jS.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var HS=function(){function e(){(0,I.Z)(this,e),this.isAnimationObjectGroup=!0,this.uuid=oh(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return(0,L.Z)(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=void 0,s=e.length,u=this.nCachedObjects_,l=0,c=arguments.length;l!==c;++l){var f=arguments[l],d=f.uuid,h=t[d];if(void 0===h){h=s++,t[d]=h,e.push(f);for(var p=0,v=a;p!==v;++p)i[p].push(new jS(f,n[p],r[p]))}else if(h<u){o=e[h];var m=--u,g=e[m];t[g.uuid]=h,e[h]=g,t[d]=m,e[m]=f;for(var y=0,b=a;y!==b;++y){var w=i[y],x=w[m],_=w[h];w[h]=x,void 0===_&&(_=new jS(f,n[y],r[y])),w[m]=_}}else e[h]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=t[u];if(void 0!==l&&l>=i){var c=i++,f=e[c];t[f.uuid]=l,e[l]=f,t[u]=c,e[c]=s;for(var d=0,h=r;d!==h;++d){var p=n[d],v=p[c],m=p[l];p[l]=v,p[c]=m}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o].uuid,l=t[u];if(void 0!==l)if(delete t[u],l<i){var c=--i,f=e[c],d=--a,h=e[d];t[f.uuid]=l,e[l]=f,t[h.uuid]=c,e[c]=h,e.pop();for(var p=0,v=r;p!==v;++p){var m=n[p],g=m[c],y=m[d];m[l]=g,m[c]=y,m.pop()}}else{var b=--a,w=e[b];b>0&&(t[w.uuid]=l),e[l]=w,e.pop();for(var x=0,_=r;x!==_;++x){var S=n[x];S[l]=S[b],S.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(var f=l,d=s.length;f!==d;++f){var h=s[f];c[f]=new jS(h,e,t)}return c}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}]),e}(),GS=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;(0,I.Z)(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,o=a.length,s=new Array(o),u={endingStart:$f,endingEnd:$f},l=0;l!==o;++l){var c=a[l].createInterpolant(null);s[l]=c,c.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Xf,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return(0,L.Z)(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;a<0||0===n?t=0:(this._startTime=null,t=n*a)}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var u=this._interpolants,l=this._propertyBindings;if(this.blendMode===rd)for(var c=0,f=u.length;c!==f;++c)u[c].evaluate(o),l[c].accumulateAdditive(s);else for(var d=0,h=u.length;d!==h;++d)u[d].evaluate(o),l[d].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=n===Yf;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===qf){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=ed,r.endingEnd=ed):(r.endingStart=e?this.zeroSlopeAtStart?ed:$f:td,r.endingEnd=t?this.zeroSlopeAtEnd?ed:$f:td)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}(),WS=new Float32Array(1),VS=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return(0,L.Z)(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==i;++c){var f=r[c],d=f.name,h=l[d];if(void 0!==h)++h.referenceCount,a[c]=h;else{if(void 0!==(h=a[c])){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,s,d));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(h=new ZS(jS.create(n,d,p),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(h,s,d),a[c]=h}o[c].resultBuffer=h.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,u=s[s.length-1],l=e._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new d_(new Float32Array(2),new Float32Array(2),1,WS)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"===typeof e?__.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],u=null;if(void 0===n&&(n=null!==a?a.blendMode:nd),void 0!==s){var l=s.actionByRoot[i];if(void 0!==l&&l.blendMode===n)return l;u=s.knownActions[0],null===a&&(a=u._clip)}if(null===a)return null;var c=new GS(this,a,t,n);return this._bindAction(c,u),this._addInactiveAction(c,o,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?__.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}for(var s=this._bindings,u=this._nActiveBindings,l=0;l!==u;++l)s[l].apply(a);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(th),qS=function(){function e(t){(0,I.Z)(this,e),this.value=t}return(0,L.Z)(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),XS=0,YS=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,I.Z)(this,n),(e=t.call(this)).isUniformsGroup=!0,Object.defineProperty((0,z.Z)(e),"id",{value:XS++}),e.name="",e.usage=zd,e.uniforms=[],e}return(0,L.Z)(n,[{key:"add",value:function(e){return this.uniforms.push(e),this}},{key:"remove",value:function(e){var t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}},{key:"setName",value:function(e){return this.name=e,this}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"dispose",value:function(){return this.dispatchEvent({type:"dispose"}),this}},{key:"copy",value:function(e){this.name=e.name,this.usage=e.usage;var t=e.uniforms;this.uniforms.length=0;for(var n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(th),QS=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,I.Z)(this,n),(i=t.call(this,e,r)).isInstancedInterleavedBuffer=!0,i.meshPerAttribute=a,i}return(0,L.Z)(n,[{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=(0,Nu.Z)((0,Uu.Z)(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=(0,Nu.Z)((0,Uu.Z)(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(cb),KS=function(){function e(t,n,r,i,a){(0,I.Z)(this,e),this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}return(0,L.Z)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}(),JS=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;(0,I.Z)(this,e),this.ray=new _p(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new Zp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return(0,L.Z)(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return eE(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort($S),t}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)eE(e[r],this,n,t);return n.sort($S),n}}]),e}();function $S(e,t){return e.distance-t.distance}function eE(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)eE(i[a],t,n,!0)}var tE=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,I.Z)(this,e),this.radius=t,this.phi=n,this.theta=r,this}return(0,L.Z)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(sh(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),nE=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,I.Z)(this,e),this.radius=t,this.theta=n,this.y=r,this}return(0,L.Z)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),rE=new mh,iE=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mh(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mh(-1/0,-1/0);(0,I.Z)(this,e),this.isBox2=!0,this.min=t,this.max=n}return(0,L.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=rE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,rE).distanceTo(e)}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),aE=new qh,oE=new qh,sE=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qh,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qh;(0,I.Z)(this,e),this.start=t,this.end=n}return(0,L.Z)(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){aE.subVectors(e,this.start),oE.subVectors(this.end,this.start);var n=oE.dot(oE),r=oE.dot(aE)/n;return t&&(r=sh(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),uE=new qh,lE=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r){var i;(0,I.Z)(this,n),(i=t.call(this)).light=e,i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=r,i.type="SpotLightHelper";for(var a=new zv,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,u=1;s<32;s++,u++){var l=s/32*Math.PI*2,c=u/32*Math.PI*2;o.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}a.setAttribute("position",new Iv(o,3));var f=new tw({fog:!1,toneMapped:!1});return i.cone=new cw(a,f),i.add(i.cone),i.update(),i}return(0,L.Z)(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),uE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(uE),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(Xp),cE=new qh,fE=new Sp,dE=new Sp,hE=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;(0,I.Z)(this,n);for(var i=pE(e),a=new zv,o=[],s=[],u=new hv(0,0,1),l=new hv(0,1,0),c=0;c<i.length;c++){var f=i[c];f.parent&&f.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(u.r,u.g,u.b),s.push(l.r,l.g,l.b))}a.setAttribute("position",new Iv(o,3)),a.setAttribute("color",new Iv(s,3));var d=new tw({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,d)).isSkeletonHelper=!0,r.type="SkeletonHelper",r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return(0,L.Z)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");dE.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var s=t[a];s.parent&&s.parent.isBone&&(fE.multiplyMatrices(dE,s.matrixWorld),cE.setFromMatrixPosition(fE),i.setXYZ(o,cE.x,cE.y,cE.z),fE.multiplyMatrices(dE,s.parent.matrixWorld),cE.setFromMatrixPosition(fE),i.setXYZ(o+1,cE.x,cE.y,cE.z),o+=2)}r.getAttribute("position").needsUpdate=!0,(0,Nu.Z)((0,Uu.Z)(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(cw);function pE(e){var t=[];!0===e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,pE(e.children[n]));return t}var vE=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){var a;(0,I.Z)(this,n);var o=new Bx(r,4,2),s=new vv({wireframe:!0,fog:!1,toneMapped:!1});return(a=t.call(this,o,s)).light=e,a.color=i,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return(0,L.Z)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(am),mE=new qh,gE=new hv,yE=new hv,bE=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){var a;(0,I.Z)(this,n),(a=t.call(this)).light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="HemisphereLightHelper";var o=new Nx(r);o.rotateY(.5*Math.PI),a.material=new vv({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var s=o.getAttribute("position"),u=new Float32Array(3*s.count);return o.setAttribute("color",new Sv(u,3)),a.add(new am(o,a.material)),a.update(),a}return(0,L.Z)(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");gE.copy(this.light.color),yE.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?gE:yE;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(mE.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(Xp),wE=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;(0,I.Z)(this,n),a=new hv(a),o=new hv(o);for(var s=i/2,u=r/i,l=r/2,c=[],f=[],d=0,h=0,p=-l;d<=i;d++,p+=u){c.push(-l,0,p,l,0,p),c.push(p,0,-l,p,0,l);var v=d===s?a:o;v.toArray(f,h),h+=3,v.toArray(f,h),h+=3,v.toArray(f,h),h+=3,v.toArray(f,h),h+=3}var m=new zv;m.setAttribute("position",new Iv(c,3)),m.setAttribute("color",new Iv(f,3));var g=new tw({vertexColors:!0,toneMapped:!1});return(e=t.call(this,m,g)).type="GridHelper",e}return(0,L.Z)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(cw),xE=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;(0,I.Z)(this,n),s=new hv(s),u=new hv(u);var l=[],c=[];if(i>1)for(var f=0;f<i;f++){var d=f/i*(2*Math.PI),h=Math.sin(d)*r,p=Math.cos(d)*r;l.push(0,0,0),l.push(h,0,p);var v=1&f?s:u;c.push(v.r,v.g,v.b),c.push(v.r,v.g,v.b)}for(var m=0;m<a;m++)for(var g=1&m?s:u,y=r-r/a*m,b=0;b<o;b++){var w=b/o*(2*Math.PI),x=Math.sin(w)*y,_=Math.cos(w)*y;l.push(x,0,_),c.push(g.r,g.g,g.b),w=(b+1)/o*(2*Math.PI),x=Math.sin(w)*y,_=Math.cos(w)*y,l.push(x,0,_),c.push(g.r,g.g,g.b)}var S=new zv;S.setAttribute("position",new Iv(l,3)),S.setAttribute("color",new Iv(c,3));var E=new tw({vertexColors:!0,toneMapped:!1});return(e=t.call(this,S,E)).type="PolarGridHelper",e}return(0,L.Z)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(cw),_E=new qh,SE=new qh,EE=new qh,ME=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i){var a;(0,I.Z)(this,n),(a=t.call(this)).light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="DirectionalLightHelper",void 0===r&&(r=1);var o=new zv;o.setAttribute("position",new Iv([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new tw({fog:!1,toneMapped:!1});return a.lightPlane=new sw(o,s),a.add(a.lightPlane),(o=new zv).setAttribute("position",new Iv([0,0,0,0,0,1],3)),a.targetLine=new sw(o,s),a.add(a.targetLine),a.update(),a}return(0,L.Z)(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_E.setFromMatrixPosition(this.light.matrixWorld),SE.setFromMatrixPosition(this.light.target.matrixWorld),EE.subVectors(SE,_E),this.lightPlane.lookAt(SE),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(SE),this.targetLine.scale.z=EE.length()}}]),n}(Xp),AE=new qh,kE=new hm,TE=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;(0,I.Z)(this,n);var i=new zv,a=new tw({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],u={};function l(e,t){c(e),c(t)}function c(e){o.push(0,0,0),s.push(0,0,0),void 0===u[e]&&(u[e]=[]),u[e].push(o.length/3-1)}l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4"),i.setAttribute("position",new Iv(o,3)),i.setAttribute("color",new Iv(s,3)),(r=t.call(this,i,a)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=u,r.update();var f=new hv(16755200),d=new hv(16711680),h=new hv(43775),p=new hv(16777215),v=new hv(3355443);return r.setColors(f,d,h,p,v),r}return(0,L.Z)(n,[{key:"setColors",value:function(e,t,n,r,i){var a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0}},{key:"update",value:function(){var e=this.geometry,t=this.pointMap;kE.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),CE("c",t,e,kE,0,0,-1),CE("t",t,e,kE,0,0,1),CE("n1",t,e,kE,-1,-1,-1),CE("n2",t,e,kE,1,-1,-1),CE("n3",t,e,kE,-1,1,-1),CE("n4",t,e,kE,1,1,-1),CE("f1",t,e,kE,-1,-1,1),CE("f2",t,e,kE,1,-1,1),CE("f3",t,e,kE,-1,1,1),CE("f4",t,e,kE,1,1,1),CE("u1",t,e,kE,.7,1.1,-1),CE("u2",t,e,kE,-.7,1.1,-1),CE("u3",t,e,kE,0,2,-1),CE("cf1",t,e,kE,-1,0,1),CE("cf2",t,e,kE,1,0,1),CE("cf3",t,e,kE,0,-1,1),CE("cf4",t,e,kE,0,1,1),CE("cn1",t,e,kE,-1,0,-1),CE("cn2",t,e,kE,1,0,-1),CE("cn3",t,e,kE,0,-1,-1),CE("cn4",t,e,kE,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(cw);function CE(e,t,n,r,i,a,o){AE.set(i,a,o).unproject(r);var s=t[e];if(void 0!==s)for(var u=n.getAttribute("position"),l=0,c=s.length;l<c;l++)u.setXYZ(s[l],AE.x,AE.y,AE.z)}var PE,RE,IE=new Qh,LE=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;(0,I.Z)(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new zv;return s.setIndex(new Sv(a,1)),s.setAttribute("position",new Sv(o,3)),(r=t.call(this,s,new tw({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return(0,L.Z)(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&IE.setFromObject(this.object),!IE.isEmpty()){var t=IE.min,n=IE.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e,t){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,t),this.object=e.object,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(cw),ZE=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;(0,I.Z)(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new zv;return o.setIndex(new Sv(a,1)),o.setAttribute("position",new Iv([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),(r=t.call(this,o,new tw({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return(0,L.Z)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),(0,Nu.Z)((0,Uu.Z)(n.prototype),"updateMatrixWorld",this).call(this,e))}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(cw),OE=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;(0,I.Z)(this,n);var o=a,s=new zv;s.setAttribute("position",new Iv([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),s.computeBoundingSphere(),(r=t.call(this,s,new tw({color:o,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=i;var u=new zv;return u.setAttribute("position",new Iv([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),u.computeBoundingSphere(),r.add(new am(u,new vv({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return(0,L.Z)(n,[{key:"updateMatrixWorld",value:function(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),(0,Nu.Z)((0,Uu.Z)(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}]),n}(sw),NE=new qh,UE=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qh(0,0,1),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qh(0,0,0),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*a,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*s;return(0,I.Z)(this,n),(e=t.call(this)).type="ArrowHelper",void 0===PE&&((PE=new zv).setAttribute("position",new Iv([0,0,0,0,1,0],3)),(RE=new Yw(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(i),e.line=new sw(PE,new tw({color:o,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new am(RE,new vv({color:o,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(a,s,u),e}return(0,L.Z)(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{NE.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(NE,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return(0,Nu.Z)((0,Uu.Z)(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},{key:"dispose",value:function(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}]),n}(Xp),DE=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,I.Z)(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],a=new zv;a.setAttribute("position",new Iv(i,3)),a.setAttribute("color",new Iv([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var o=new tw({vertexColors:!0,toneMapped:!1});return(e=t.call(this,a,o)).type="AxesHelper",e}return(0,L.Z)(n,[{key:"setColors",value:function(e,t,n){var r=new hv,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(cw),BE=function(){function e(){(0,I.Z)(this,e),this.type="ShapePath",this.color=new hv,this.subPaths=[],this.currentPath=null}return(0,L.Z)(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new Ww,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e){function t(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],u=-u,s=t[i],l=-l),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=l*(e.x-o.x)-u*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var n,r,i,a=Px.isClockWise,o=this.subPaths;if(0===o.length)return[];var s=[];if(1===o.length)return r=o[0],(i=new ix).curves=r.curves,s.push(i),s;var u=!a(o[0].getPoints());u=e?!u:u;var l,c,f=[],d=[],h=[],p=0;d[p]=void 0,h[p]=[];for(var v=0,m=o.length;v<m;v++)n=a(l=(r=o[v]).getPoints()),(n=e?!n:n)?(!u&&d[p]&&p++,d[p]={s:new ix,p:l},d[p].s.curves=r.curves,u&&p++,h[p]=[]):h[p].push({h:r,p:l[0]});if(!d[0])return function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new ix;a.curves=i.curves,t.push(a)}return t}(o);if(d.length>1){for(var g=!1,y=0,b=0,w=d.length;b<w;b++)f[b]=[];for(var x=0,_=d.length;x<_;x++)for(var S=h[x],E=0;E<S.length;E++){for(var M=S[E],A=!0,k=0;k<d.length;k++)t(M.p,d[k].p)&&(x!==k&&y++,A?(A=!1,f[k].push(M)):g=!0);A&&f[x].push(M)}y>0&&!1===g&&(h=f)}for(var T=0,C=d.length;T<C;T++){i=d[T].s,s.push(i);for(var P=0,R=(c=h[T]).length;P<R;P++)i.holes.push(c[P].h)}return s}}]),e}();"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Cl}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Cl);var FE=n(4585);function zE(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var jE="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?t.useEffect:t.useLayoutEffect;var HE=n(258),GE=n.n(HE),WE=n(4545),VE=[];function qE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function XE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===t&&(t=[e]);for(var i=0,a=VE;i<a.length;i++){var o=a[i];if(qE(t,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}}var s,u={keys:t,equal:r.equal,remove:function(){var e=VE.indexOf(u);-1!==e&&VE.splice(e,1)},promise:(s=e,"object"===typeof s&&"function"===typeof s.then?e:e.apply(void 0,(0,C.Z)(t))).then((function(e){u.response=e,r.lifespan&&r.lifespan>0&&(u.timeout=setTimeout(u.remove,r.lifespan))})).catch((function(e){return u.error=e}))};if(VE.push(u),!n)throw u.promise}var YE,QE,KE=function(e,t,n){return XE(e,t,!1,n)},JE=["args","attach"],$E=["args","children"],eM=["args","children"],tM=["children","key","ref"],nM=["children","key","ref"],rM=["params"],iM={};var aM=function(e){return"colorSpace"in e||"outputColorSpace"in e},oM=function(){var e;return null!=(e=iM.ColorManagement)?e:null},sM=function(e){return e&&e.isOrthographicCamera},uM="undefined"!==typeof window&&(null!=(YE=window.document)&&YE.createElement||"ReactNative"===(null==(QE=window.navigator)?void 0:QE.product))?t.useLayoutEffect:t.useEffect;function lM(e){var n=t.useRef(e);return uM((function(){n.current=e}),[e]),n}function cM(e){var t=e.set;return uM((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[t]),null}var fM=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={error:!1},e}return(0,L.Z)(n,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}]),n}(t.Component);fM.getDerivedStateFromError=function(){return{error:!0}};var dM="__default",hM=new Map,pM=function(e){return e&&!!e.memoized&&!!e.changes};function vM(e){var t,n="undefined"!==typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}var mM=function(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()},gM={obj:function(e){return e===Object(e)&&!gM.arr(e)&&"function"!==typeof e},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},boo:function(e){return"boolean"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.arrays,i=void 0===r?"shallow":r,a=n.objects,o=void 0===a?"reference":a,s=n.strict,u=void 0===s||s;if(typeof e!==typeof t||!!e!==!!t)return!1;if(gM.str(e)||gM.num(e))return e===t;var l=gM.obj(e);if(l&&"reference"===o)return e===t;var c,f=gM.arr(e);if(f&&"reference"===i)return e===t;if((f||l)&&e===t)return!0;for(c in e)if(!(c in t))return!1;if(l&&"shallow"===i&&"shallow"===o){for(c in u?t:e)if(!gM.equ(e[c],t[c],{strict:u,objects:"reference"}))return!1}else for(c in u?t:e)if(e[c]!==t[c])return!1;if(gM.und(c)){if(f&&0===e.length&&0===t.length)return!0;if(l&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function yM(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function bM(e,t){return e.__r3f=(0,O.Z)({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t),e}function wM(e,t){var n=e;if(t.includes("-")){var r=t.split("-"),i=r.pop();return n=r.reduce((function(e,t){return e[t]}),e),{target:n,key:i}}return{target:n,key:t}}var xM=/-\d+$/;function _M(e,t,n){if(gM.str(n)){if(xM.test(n)){var r=wM(e,n.replace(xM,"")),i=r.target,a=r.key;Array.isArray(i[a])||(i[a]=[])}var o=wM(e,n),s=o.target,u=o.key;t.__r3f.previousAttach=s[u],s[u]=t}else t.__r3f.previousAttach=n(e,t)}function SM(e,t,n){var r,i;if(gM.str(n)){var a=wM(e,n),o=a.target,s=a.key,u=t.__r3f.previousAttach;void 0===u?delete o[s]:o[s]=u}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function EM(e,t){t.children,t.key,t.ref;var n,r=(0,Z.Z)(t,tM),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(i.children,i.key,i.ref,(0,Z.Z)(i,nM)),o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=null!=(n=null==e?void 0:e.__r3f)?n:{},u=Object.entries(r),l=[];if(o)for(var c=Object.keys(a),f=0;f<c.length;f++)r.hasOwnProperty(c[f])||u.unshift([c[f],dM+"remove"]);u.forEach((function(t){var n,i=(0,N.Z)(t,2),o=i[0],s=i[1];if((null==(n=e.__r3f)||!n.primitive||"object"!==o)&&!gM.equ(s,a[o])){if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(o))return l.push([o,s,!0,[]]);var u=[];for(var c in o.includes("-")&&(u=o.split("-")),l.push([o,s,!1,u]),r){var f=r[c];c.startsWith("".concat(o,"-"))&&l.push([c,f,!1,c.split("-")])}}}));var d=(0,O.Z)({},r);return s.memoizedProps&&s.memoizedProps.args&&(d.args=s.memoizedProps.args),s.memoizedProps&&s.memoizedProps.attach&&(d.attach=s.memoizedProps.attach),{memoized:d,changes:l}}function MM(e,t){var n,r,i,a=null!=(n=e.__r3f)?n:{},o=a.root,s=null!=(r=null==o||null==o.getState?void 0:o.getState())?r:{},u=pM(t)?t:EM(e,t),l=u.memoized,c=u.changes,f=a.eventCount;e.__r3f&&(e.__r3f.memoizedProps=l);for(var d=0;d<c.length;d++){var h=(0,N.Z)(c[d],4),p=h[0],v=h[1],m=h[2],g=h[3];if(aM(e)){var y="srgb",b="srgb-linear";"encoding"===p?(p="colorSpace",v=3001===v?y:b):"outputEncoding"===p&&(p="outputColorSpace",v=3001===v?y:b)}var w=e,x=w[p];if(g.length&&(x=g.reduce((function(e,t){return e[t]}),e),!x||!x.set)){var _=br(g.reverse()),S=_[0];w=_.slice(1).reverse().reduce((function(e,t){return e[t]}),e),p=S}if(v===dM+"remove")if(w.constructor){var E=hM.get(w.constructor);E||(E=new w.constructor,hM.set(w.constructor,E)),v=E[p]}else v=0;if(m)v?a.handlers[p]=v:delete a.handlers[p],a.eventCount=Object.keys(a.handlers).length;else if(x&&x.set&&(x.copy||x instanceof Zp)){var M;if(Array.isArray(v))x.fromArray?x.fromArray(v):(M=x).set.apply(M,(0,C.Z)(v));else if(x.copy&&v&&v.constructor&&x.constructor===v.constructor)x.copy(v);else if(void 0!==v){var A=x instanceof hv;!A&&x.setScalar?x.setScalar(v):x instanceof Zp&&v instanceof Zp?x.mask=v.mask:x.set(v),oM()||s.linear||!A||x.convertSRGBToLinear()}}else if(w[p]=v,w[p]instanceof Dh&&w[p].format===sf&&w[p].type===Xc){var k=w[p];aM(k)&&aM(s.gl)?k.colorSpace=s.gl.outputColorSpace:k.encoding=s.gl.outputEncoding}AM(e)}if(a.parent&&s.internal&&e.raycast&&f!==a.eventCount){var T=s.internal.interaction.indexOf(e);T>-1&&s.internal.interaction.splice(T,1),a.eventCount&&s.internal.interaction.push(e)}return!(1===c.length&&"onUpdate"===c[0][0])&&c.length&&null!=(i=e.__r3f)&&i.parent&&kM(e),e}function AM(e){var t,n,r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function kM(e){null==e.onUpdate||e.onUpdate(e)}function TM(e,t){e.manual||(sM(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function CM(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function PM(e,t,n,r){var i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function RM(e){function t(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}))}function n(t){var n,r=e.getState().internal,i=(0,F.Z)(r.hovered.values());try{var a=function(){var e=n.value;if(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId}))){var i=e.eventObject.__r3f,a=null==i?void 0:i.handlers;if(r.hovered.delete(CM(e)),null!=i&&i.eventCount){var o=(0,O.Z)((0,O.Z)({},e),{},{intersections:t});null==a.onPointerOut||a.onPointerOut(o),null==a.onPointerLeave||a.onPointerLeave(o)}}};for(i.s();!(n=i.n()).done;)a()}catch(vk){i.e(vk)}finally{i.f()}}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return function(){return n([])};case"onLostPointerCapture":return function(t){var r=e.getState().internal;"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((function(){r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(a){var o=e.getState(),s=o.onPointerMissed,u=o.internal;u.lastEvent.current=a;var l="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,f=function(t,n){for(var r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction,s=0;s<o.length;s++){var u=mM(o[s]);u&&(u.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);var l=o.flatMap((function(e){var n,r=mM(e);return r&&r.events.enabled&&null!==r.raycaster.camera?(void 0===r.raycaster.camera&&(null==r.events.compute||r.events.compute(t,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)),r.raycaster.camera?r.raycaster.intersectObject(e,!0):[]):[]})).sort((function(e,t){var n=mM(e.object),r=mM(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((function(e){var t=CM(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(l=r.events.filter(l,r));var c,f=(0,F.Z)(l);try{for(f.s();!(c=f.n()).done;)for(var d=c.value,h=d.object;h;){var p;null!=(p=h.__r3f)&&p.eventCount&&a.push((0,O.Z)((0,O.Z)({},d),{},{eventObject:h})),h=h.parent}}catch(vk){f.e(vk)}finally{f.f()}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId)){var v,m=(0,F.Z)(r.internal.capturedMap.get(t.pointerId).values());try{for(m.s();!(v=m.n()).done;){var g=v.value;i.has(CM(g.intersection))||a.push(g.intersection)}}catch(vk){m.e(vk)}finally{m.f()}}return a}(a,l?t:void 0),d=c?function(t){var n=e.getState().internal,r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(u.initialClick=[a.offsetX,a.offsetY],u.initialHits=f.map((function(e){return e.eventObject}))),c&&!f.length&&d<=2&&(r(a,u.interaction),s&&s(a)),l&&n(f),function(t,r,i,a){var o=e.getState();if(t.length){var s,u={stopped:!1},l=(0,F.Z)(t);try{var c=function(){var e=s.value,l=mM(e.object)||o,c=l.raycaster,f=l.pointer,d=l.camera,h=l.internal,p=new qh(f.x,f.y,0).unproject(d),v=function(t){var n,r;return null!=(n=null==(r=h.capturedMap.get(t))?void 0:r.has(e.eventObject))&&n},m=function(t){var n={intersection:e,target:r.target};h.capturedMap.has(t)?h.capturedMap.get(t).set(e.eventObject,n):h.capturedMap.set(t,new Map([[e.eventObject,n]])),r.target.setPointerCapture(t)},g=function(t){var n=h.capturedMap.get(t);n&&PM(h.capturedMap,e.eventObject,n,t)},y={};for(var b in r){var w=r[b];"function"!==typeof w&&(y[b]=w)}var x=(0,O.Z)((0,O.Z)((0,O.Z)({},e),y),{},{pointer:f,intersections:t,stopped:u.stopped,delta:i,unprojectedPoint:p,ray:c.ray,camera:d,stopPropagation:function(){var i="pointerId"in r&&h.capturedMap.get(r.pointerId);if((!i||i.has(e.eventObject))&&(x.stopped=u.stopped=!0,h.hovered.size&&Array.from(h.hovered.values()).find((function(t){return t.eventObject===e.eventObject})))){var a=t.slice(0,t.indexOf(e));n([].concat((0,C.Z)(a),[e]))}},target:{hasPointerCapture:v,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:v,setPointerCapture:m,releasePointerCapture:g},nativeEvent:r});if(a(x),!0===u.stopped)return"break"};for(l.s();!(s=l.n()).done&&"break"!==c(););}catch(vk){l.e(vk)}finally{l.f()}}}(f,a,d,(function(e){var t=e.eventObject,n=t.__r3f,o=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){var s=CM(e),f=u.hovered.get(s);f?f.stopped&&e.stopPropagation():(u.hovered.set(s,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{var d=o[i];d?c&&!u.initialHits.includes(t)||(r(a,u.interaction.filter((function(e){return!u.initialHits.includes(e)}))),d(e)):c&&u.initialHits.includes(t)&&r(a,u.interaction.filter((function(e){return!u.initialHits.includes(e)})))}}))}}}}var IM,LM=function(e){return!(null==e||!e.render)},ZM=t.createContext(null),OM=function(e,n){var r=function(e){var n="function"===typeof e?zE(e):e,r=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.getState,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,a=(0,t.useReducer)((function(e){return e+1}),0),o=(0,N.Z)(a,2)[1],s=n.getState(),u=(0,t.useRef)(s),l=(0,t.useRef)(r),c=(0,t.useRef)(i),f=(0,t.useRef)(!1),d=(0,t.useRef)();void 0===d.current&&(d.current=r(s));var h=!1;(u.current!==s||l.current!==r||c.current!==i||f.current)&&(e=r(s),h=!i(d.current,e)),jE((function(){h&&(d.current=e),u.current=s,l.current=r,c.current=i,f.current=!1}));var p=(0,t.useRef)(s);jE((function(){var e=function(){try{var e=n.getState(),t=l.current(e);c.current(d.current,t)||(u.current=e,d.current=t,o())}catch(r){f.current=!0,o()}},t=n.subscribe(e);return n.getState()!==p.current&&e(),t}),[]);var v=h?e:d.current;return(0,t.useDebugValue)(v),v};return Object.assign(r,n),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[r,n];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},r}((function(r,i){var a=new qh,o=new qh,s=new qh;function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i().size,r=n.width,u=n.height,l=n.top,c=n.left,f=r/u;t instanceof qh?s.copy(t):s.set.apply(s,(0,C.Z)(t));var d=e.getWorldPosition(a).distanceTo(s);if(sM(e))return{width:r/e.zoom,height:u/e.zoom,top:l,left:c,factor:1,distance:d,aspect:f};var h=e.fov*Math.PI/180,p=2*Math.tan(h/2)*d,v=p*(r/u);return{width:v,height:p,top:l,left:c,factor:r/v,distance:d,aspect:f}}var l=void 0,c=function(e){return r((function(t){return{performance:(0,O.Z)((0,O.Z)({},t.performance),{},{current:e})}}))},f=new mh,d={set:r,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(i(),t)},advance:function(e,t){return n(e,t,i())},legacy:!1,linear:!1,flat:!1,controls:null,clock:new wS,pointer:f,mouse:f,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:function(){var e=i();l&&clearTimeout(l),e.performance.current!==e.performance.min&&c(e.performance.min),l=setTimeout((function(){return c(i().performance.max)}),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:u},setEvents:function(e){return r((function(t){return(0,O.Z)((0,O.Z)({},t),{},{events:(0,O.Z)((0,O.Z)({},t.events),e)})}))},setSize:function(e,t,n,a,s){var l=i().camera,c={width:e,height:t,top:a||0,left:s||0,updateStyle:n};r((function(e){return{size:c,viewport:(0,O.Z)((0,O.Z)({},e.viewport),u(l,o,c))}}))},setDpr:function(e){return r((function(t){var n=vM(e);return{viewport:(0,O.Z)((0,O.Z)({},t.viewport),{},{dpr:n,initialDpr:t.viewport.initialDpr||n})}}))},setFrameloop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=i().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),r((function(){return{frameloop:e}}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:t.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e,t,n){var r=i().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){var n=i().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((function(t){return t.ref!==e})))}}}};return d})),i=r.getState(),a=i.size,o=i.viewport.dpr,s=i.camera;return r.subscribe((function(){var e=r.getState(),t=e.camera,n=e.size,i=e.viewport,u=e.gl,l=e.set;if(n!==a||i.dpr!==o){var c;a=n,o=i.dpr,TM(t,n),u.setPixelRatio(i.dpr);var f=null!=(c=n.updateStyle)?c:"undefined"!==typeof HTMLCanvasElement&&u.domElement instanceof HTMLCanvasElement;u.setSize(n.width,n.height,f)}t!==s&&(s=t,l((function(e){return{viewport:(0,O.Z)((0,O.Z)({},e.viewport),e.viewport.getCurrentViewport(t))}})))})),r.subscribe((function(t){return e(t)})),r};var NM,UM,DM=new Set,BM=new Set,FM=new Set;function zM(e,t){if(e.size){var n,r=(0,F.Z)(e.values());try{for(r.s();!(n=r.n()).done;){(0,n.value.callback)(t)}}catch(vk){r.e(vk)}finally{r.f()}}}function jM(e,t){switch(e){case"before":return zM(DM,t);case"after":return zM(BM,t);case"tail":return zM(FM,t)}}function HM(e,t,n){var r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),NM=t.internal.subscribers,IM=0;IM<NM.length;IM++)(UM=NM[IM]).ref.current(UM.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function GM(){var e=t.useContext(ZM);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function WM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1?arguments[1]:void 0;return GM()(e,t)}function VM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=GM(),r=n.getState().internal.subscribe,i=lM(e);return uM((function(){return r(i,t,n)}),[t,r,n]),null}function qM(e,t){return function(n){var r=new n;e&&e(r);for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return Promise.all(a.map((function(e){return new Promise((function(n,i){return r.load(e,(function(e){e.scene&&Object.assign(e,yM(e.scene)),n(e)}),t,(function(t){return i(new Error("Could not load ".concat(e,": ").concat(t.message,")")))}))}))})))}}function XM(e,t,n,r){var i=Array.isArray(t)?t:[t],a=KE(qM(n,r),[e].concat((0,C.Z)(i)),{equal:gM.equ});return Array.isArray(t)?a:a[0]}XM.preload=function(e,t,n){var r=Array.isArray(t)?t:[t];return function(e,t,n){XE(e,t,!0,n)}(qM(n),[e].concat((0,C.Z)(r)))},XM.clear=function(e,t){var n=Array.isArray(t)?t:[t];return function(e){if(void 0===e||0===e.length)VE.splice(0,VE.length);else{var t=VE.find((function(t){return qE(e,t.keys,t.equal)}));t&&t.remove()}}([e].concat((0,C.Z)(n)))};var YM=new Map,QM=function(e){var t,n,r,i=!1;function a(o){n=requestAnimationFrame(a),i=!0,t=0,jM("before",o);var s,u=(0,F.Z)(e.values());try{for(u.s();!(s=u.n()).done;){var l,c=s.value;!(r=c.store.getState()).internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(l=r.gl.xr)&&l.isPresenting||(t+=HM(o,r))}}catch(vk){u.e(vk)}finally{u.f()}if(jM("after",o),0===t)return jM("tail",o),i=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!n)return e.forEach((function(e){return t(e.store.getState())}),o);null!=(r=n.gl.xr)&&r.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+o),i||(i=!0,requestAnimationFrame(a)))},advance:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n&&jM("before",t),r)HM(t,r,i);else{var a,o=(0,F.Z)(e.values());try{for(o.s();!(a=o.n()).done;){HM(t,a.value.store.getState())}}catch(vk){o.e(vk)}finally{o.f()}}n&&jM("after",t)}}}(YM),KM=QM.invalidate,JM=QM.advance,$M=function(e,t){function n(e,t,n){var r,i=t.args,a=void 0===i?[]:i,o=t.attach,s=(0,Z.Z)(t,JE),u="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===s.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=bM(s.object,{type:e,root:n,attach:o,primitive:!0})}else{var l=iM[u];if(!l)throw new Error("R3F: ".concat(u," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(a))throw new Error("R3F: The args prop must be an array!");r=bM((0,Tl.Z)(l,(0,C.Z)(a)),{type:e,root:n,attach:o,memoizedProps:{args:a}})}return void 0===r.__r3f.attach&&(r instanceof zv?r.__r3f.attach="geometry":r instanceof uv&&(r.__r3f.attach="material")),"inject"!==u&&MM(r,s),r}function r(e,t){var n,r,i=!1;t&&(null!=(n=t.__r3f)&&n.attach?_M(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),i=!0),i||null==(r=e.__r3f)||r.objects.push(t),t.__r3f||bM(t,{}),t.__r3f.parent=e,kM(t),AM(t))}function i(e,t,n){var r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)_M(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var o=e.children.filter((function(e){return e!==t})),s=o.indexOf(n);e.children=[].concat((0,C.Z)(o.slice(0,s)),[t],(0,C.Z)(o.slice(s))),r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||bM(t,{}),t.__r3f.parent=e,kM(t),AM(t)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&(0,C.Z)(e).forEach((function(e){return o(t,e,n)}))}function o(e,t,n){if(t){var r,i,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t}))),null!=(i=t.__r3f)&&i.attach)SM(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){var n=e.getState(),r=n.internal;r.interaction=r.interaction.filter((function(e){return e!==t})),r.initialHits=r.initialHits.filter((function(e){return e!==t})),r.hovered.forEach((function(e,n){e.eventObject!==t&&e.object!==t||r.hovered.delete(n)})),r.capturedMap.forEach((function(e,n){PM(r.capturedMap,t,e,n)}))}(t.__r3f.root,t)}var u,l=null==(o=t.__r3f)?void 0:o.primitive,c=void 0===n?null!==t.dispose&&!l:n;if(!l)a(null==(u=t.__r3f)?void 0:u.objects,t,c),a(t.children,t,c);delete t.__r3f,c&&t.dispose&&"Scene"!==t.type&&(0,WE.unstable_scheduleCallback)(WE.unstable_IdlePriority,(function(){try{t.dispose()}catch(e){}})),AM(e)}}var s=function(){return console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.")},u=GE()({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:function(e,t){if(t){var n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))}},removeChildFromContainer:function(e,t){t&&o(e.getState().scene,t)},insertInContainerBefore:function(e,t,n){if(t&&n){var r=e.getState().scene;r.__r3f&&i(r,t,n)}},getRootHostContext:function(){return null},getChildHostContext:function(e){return e},finalizeInitialChildren:function(e){var t,n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate:function(e,t,n,r){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&r.object&&r.object!==e)return[!0];var a=r.args,o=void 0===a?[]:a,s=(r.children,(0,Z.Z)(r,$E)),u=n.args,l=void 0===u?[]:u,c=(n.children,(0,Z.Z)(n,eM));if(!Array.isArray(o))throw new Error("R3F: the args prop must be an array!");if(o.some((function(e,t){return e!==l[t]})))return[!0];var f=EM(e,s,c,!0);return f.changes.length?[!1,f]:null},commitUpdate:function(e,t,i,a,s,u){var l=(0,N.Z)(t,2),c=l[0],f=l[1];c?function(e,t,i,a){var s,u=null==(s=e.__r3f)?void 0:s.parent;if(u){var l=n(t,i,e.__r3f.root);if(e.children){var c,f=(0,F.Z)(e.children);try{for(f.s();!(c=f.n()).done;){var d=c.value;d.__r3f&&r(l,d)}}catch(vk){f.e(vk)}finally{f.f()}e.children=e.children.filter((function(e){return!e.__r3f}))}e.__r3f.objects.forEach((function(e){return r(l,e)})),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||o(u,e),l.parent&&(l.__r3f.autoRemovedBeforeAppend=!0),r(u,l),l.raycast&&l.__r3f.eventCount&&l.__r3f.root.getState().internal.interaction.push(l),[a,a.alternate].forEach((function(e){null!==e&&(e.stateNode=l,e.ref&&("function"===typeof e.ref?e.ref(l):e.ref.current=l))}))}}(e,i,s,u):MM(e,f)},commitMount:function(e,t,n,r){var i,a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:function(e){return e},prepareForCommit:function(){return null},preparePortalMount:function(e){return bM(e.getState().scene)},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1},hideInstance:function(e){var t,n=null!=(t=e.__r3f)?t:{},r=n.attach,i=n.parent;r&&i&&SM(i,e,r),e.isObject3D&&(e.visible=!1),AM(e)},unhideInstance:function(e,t){var n,r=null!=(n=e.__r3f)?n:{},i=r.attach,a=r.parent;i&&a&&_M(a,e,i),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),AM(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:function(){return t?t():FE.DefaultEventPriority},beforeActiveInstanceBlur:function(){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},now:"undefined"!==typeof performance&&gM.fun(performance.now)?performance.now:gM.fun(Date.now)?Date.now:function(){return 0},scheduleTimeout:gM.fun(setTimeout)?setTimeout:void 0,cancelTimeout:gM.fun(clearTimeout)?clearTimeout:void 0});return{reconciler:u,applyProps:MM}}(0,(function(){var e,t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return FE.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return FE.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return FE.ContinuousEventPriority;default:return FE.DefaultEventPriority}})),eA=$M.reconciler,tA=$M.applyProps,nA={objects:"shallow",strict:!1},rA=function(e,t){var n="function"===typeof e?e(t):e;return LM(n)?n:new ib((0,O.Z)({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function iA(e){var n=YM.get(e),r=null==n?void 0:n.fiber,i=null==n?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");var a,o="function"===typeof reportError?reportError:console.error,s=i||OM(KM,JM),u=r||eA.createContainer(s,FE.ConcurrentRoot,null,!1,null,"",o,null);n||YM.set(e,{fiber:u,store:s});var l,c=!1;return{configure:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.gl,r=t.size,i=t.scene,o=t.events,u=t.onCreated,f=t.shadows,d=void 0!==f&&f,h=t.linear,p=void 0!==h&&h,v=t.flat,m=void 0!==v&&v,g=t.legacy,y=void 0!==g&&g,b=t.orthographic,w=void 0!==b&&b,x=t.frameloop,_=void 0===x?"always":x,S=t.dpr,E=void 0===S?[1,2]:S,M=t.performance,A=t.raycaster,k=t.camera,T=t.onPointerMissed,C=s.getState(),P=C.gl;C.gl||C.set({gl:P=rA(n,e)});var R=C.raycaster;R||C.set({raycaster:R=new JS});var I,L=A||{},N=L.params,U=(0,Z.Z)(L,rM);if(gM.equ(U,R,nA)||tA(R,(0,O.Z)({},U)),gM.equ(N,R.params,nA)||tA(R,{params:(0,O.Z)((0,O.Z)({},R.params),N)}),!C.camera||C.camera===l&&!gM.equ(l,k,nA)){l=k;var D=k instanceof hm,B=D?k:w?new Bm(0,0,0,0,.1,1e3):new pm(75,0,.1,1e3);D||(B.position.z=5,k&&tA(B,k),C.camera||null!=k&&k.rotation||B.lookAt(0,0,0)),C.set({camera:B})}C.scene||(i instanceof lb?I=i:(I=new lb,i&&tA(I,i)),C.set({scene:bM(I)}));if(!C.xr){var F=function(e,t){var n=s.getState();"never"!==n.frameloop&&JM(e,!0,n,t)},z=function(){var e=s.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?F:null),e.gl.xr.isPresenting||KM(e)},j={connect:function(){var e=s.getState().gl;e.xr.addEventListener("sessionstart",z),e.xr.addEventListener("sessionend",z)},disconnect:function(){var e=s.getState().gl;e.xr.removeEventListener("sessionstart",z),e.xr.removeEventListener("sessionend",z)}};P.xr&&j.connect(),C.set({xr:j})}if(P.shadowMap){var H=P.shadowMap.enabled,G=P.shadowMap.type;if(P.shadowMap.enabled=!!d,gM.boo(d))P.shadowMap.type=Dl;else if(gM.str(d)){var W,V={basic:Nl,percentage:Ul,soft:Dl,variance:Bl};P.shadowMap.type=null!=(W=V[d])?W:Dl}else gM.obj(d)&&Object.assign(P.shadowMap,d);H===P.shadowMap.enabled&&G===P.shadowMap.type||(P.shadowMap.needsUpdate=!0)}var q=oM();q&&("enabled"in q?q.enabled=!y:"legacyMode"in q&&(q.legacyMode=y));tA(P,{outputEncoding:p?3e3:3001,toneMapping:m?Sc:kc}),C.legacy!==y&&C.set((function(){return{legacy:y}})),C.linear!==p&&C.set((function(){return{linear:p}})),C.flat!==m&&C.set((function(){return{flat:m}})),!n||gM.fun(n)||LM(n)||gM.equ(n,P,nA)||tA(P,n),o&&!C.events.handlers&&C.set({events:o(s)});var X=function(e,t){if(t)return t;if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){var n=e.parentElement.getBoundingClientRect();return{width:n.width,height:n.height,top:n.top,left:n.left}}return"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0}}(e,r);return gM.equ(X,C.size,nA)||C.setSize(X.width,X.height,X.updateStyle,X.top,X.left),E&&C.viewport.dpr!==vM(E)&&C.setDpr(E),C.frameloop!==_&&C.setFrameloop(_),C.onPointerMissed||C.set({onPointerMissed:T}),M&&!gM.equ(M,C.performance,nA)&&C.set((function(e){return{performance:(0,O.Z)((0,O.Z)({},e.performance),M)}})),a=u,c=!0,this},render:function(n){return c||this.configure(),eA.updateContainer(t.createElement(aA,{store:s,children:n,onCreated:a,rootElement:e}),u,null,(function(){})),s},unmount:function(){oA(e)}}}function aA(e){var n=e.store,r=e.children,i=e.onCreated,a=e.rootElement;return uM((function(){var e=n.getState();e.set((function(e){return{internal:(0,O.Z)((0,O.Z)({},e.internal),{},{active:!0})}})),i&&i(e),n.getState().events.connected||null==e.events.connect||e.events.connect(a)}),[]),t.createElement(ZM.Provider,{value:n},r)}function oA(e,t){var n=YM.get(e),r=null==n?void 0:n.fiber;if(r){var i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),eA.updateContainer(null,r,null,(function(){i&&setTimeout((function(){try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(i),YM.delete(e),t&&t(e)}catch(s){}}),500)}))}}eA.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:t.version});t.unstable_act;function sA(){return sA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sA.apply(this,arguments)}var uA=n(7494),lA=n.n(uA);function cA(e){var n=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,r=n.debounce,i=n.scroll,a=n.polyfill,o=n.offsetSize,s=a||("undefined"===typeof window?(0,L.Z)((function e(){(0,I.Z)(this,e)})):window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var u=(0,t.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=(0,N.Z)(u,2),c=l[0],f=l[1],d=(0,t.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c}),h=r?"number"===typeof r?r:r.scroll:null,p=r?"number"===typeof r?r:r.resize:null,v=(0,t.useRef)(!1);(0,t.useEffect)((function(){return v.current=!0,function(){v.current=!1}}));var m=(0,t.useMemo)((function(){var e=function(){if(d.current.element){var e=d.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};d.current.element instanceof HTMLElement&&o&&(t.height=d.current.element.offsetHeight,t.width=d.current.element.offsetWidth),Object.freeze(t),v.current&&!hA(d.current.lastBounds,t)&&f(d.current.lastBounds=t)}};return[e,p?lA()(e,p):e,h?lA()(e,h):e]}),[f,o,h,p]),g=(0,N.Z)(m,3),y=g[0],b=g[1],w=g[2];function x(){d.current.scrollContainers&&(d.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",w,!0)})),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null)}function _(){d.current.element&&(d.current.resizeObserver=new s(w),d.current.resizeObserver.observe(d.current.element),i&&d.current.scrollContainers&&d.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",w,{capture:!0,passive:!0})})))}var S,E,M;return S=w,E=Boolean(i),(0,t.useEffect)((function(){if(E){var e=S;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[S,E]),M=b,(0,t.useEffect)((function(){var e=M;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[M]),(0,t.useEffect)((function(){x(),_()}),[i,w,b]),(0,t.useEffect)((function(){return x}),[]),[function(e){e&&e!==d.current.element&&(x(),d.current.element=e,d.current.scrollContainers=fA(e),_())},c,y]}function fA(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,(0,C.Z)(fA(e.parentElement)))}var dA=["x","y","top","bottom","left","right","width","height"],hA=function(e,t){return dA.every((function(n){return e[n]===t[n]}))},pA=Object.defineProperty,vA=Object.defineProperties,mA=Object.getOwnPropertyDescriptors,gA=Object.getOwnPropertySymbols,yA=Object.prototype.hasOwnProperty,bA=Object.prototype.propertyIsEnumerable,wA=function(e,t,n){return t in e?pA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},xA=function(e,t){for(var n in t||(t={}))yA.call(t,n)&&wA(e,n,t[n]);if(gA){var r,i=(0,F.Z)(gA(t));try{for(i.s();!(r=i.n()).done;){n=r.value;bA.call(t,n)&&wA(e,n,t[n])}}catch(vk){i.e(vk)}finally{i.f()}}return e};function _A(e,t,n){if(e){if(!0===n(e))return e;for(var r=t?e.return:e.child;r;){var i=_A(r,t,n);if(i)return i;r=t?null:r.sibling}}}function SA(e){try{return Object.defineProperties(e,{_currentRenderer:{get:function(){return null},set:function(){}},_currentRenderer2:{get:function(){return null},set:function(){}}})}catch(t){return e}}var EA=SA(t.createContext(null)),MA=function(e){(0,U.Z)(r,e);var n=(0,D.Z)(r);function r(){return(0,I.Z)(this,r),n.apply(this,arguments)}return(0,L.Z)(r,[{key:"render",value:function(){return t.createElement(EA.Provider,{value:this._reactInternals},this.props.children)}}]),r}(t.Component),AA=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kA=AA.ReactCurrentOwner,TA=AA.ReactCurrentDispatcher;function CA(){var e=t.useContext(EA);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");var n=t.useId(),r=t.useMemo((function(){for(var t=0,r=[null==kA?void 0:kA.current,e,null==e?void 0:e.alternate];t<r.length;t++){var i=r[t];if(i){var a=_A(i,!1,(function(e){for(var t=e.memoizedState;t;){if(t.memoizedState===n)return!0;t=t.next}}));if(a)return a}}}),[e,n]);return r}function PA(){var e=function(){var e,n,r=CA(),i=t.useState((function(){return new Map})),a=(0,N.Z)(i,1)[0];a.clear();for(var o=r;o;){var s=null==(e=o.type)?void 0:e._context;s&&s!==EA&&!a.has(s)&&a.set(s,null==(n=null==TA?void 0:TA.current)?void 0:n.readContext(SA(s))),o=o.return}return a}();return t.useMemo((function(){return Array.from(e.keys()).reduce((function(n,r){return function(i){return t.createElement(n,null,t.createElement(r.Provider,function(e,t){return vA(e,mA(t))}(xA({},i),{value:e.get(r)})))}}),(function(e){return t.createElement(MA,xA({},e))}))}),[e])}var RA=["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"],IA={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function LA(e){var t=RM(e).handlePointer;return{priority:1,enabled:!0,compute:function(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(IA).reduce((function(e,n){return(0,O.Z)((0,O.Z)({},e),{},(0,l.Z)({},n,t(n)))}),{}),update:function(){var t,n=e.getState(),r=n.events,i=n.internal;null!=(t=i.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:function(t){var n,r=e.getState(),i=r.set,a=r.events;null==a.disconnect||a.disconnect(),i((function(e){return{events:(0,O.Z)((0,O.Z)({},e.events),{},{connected:t})}})),Object.entries(null!=(n=a.handlers)?n:[]).forEach((function(e){var n=(0,N.Z)(e,2),r=n[0],i=n[1],a=(0,N.Z)(IA[r],2),o=a[0],s=a[1];t.addEventListener(o,i,{passive:s})}))},disconnect:function(){var t,n=e.getState(),r=n.set,i=n.events;i.connected&&(Object.entries(null!=(t=i.handlers)?t:[]).forEach((function(e){var t=(0,N.Z)(e,2),n=t[0],r=t[1];if(i&&i.connected instanceof HTMLElement){var a=(0,N.Z)(IA[n],1)[0];i.connected.removeEventListener(a,r)}})),r((function(e){return{events:(0,O.Z)((0,O.Z)({},e.events),{},{connected:void 0})}})))}}}var ZA=t.forwardRef((function(n,r){var i=n.children,a=n.fallback,o=n.resize,s=n.style,u=n.gl,l=n.events,c=void 0===l?LA:l,f=n.eventSource,d=n.eventPrefix,h=n.shadows,p=n.linear,v=n.flat,m=n.legacy,g=n.orthographic,y=n.frameloop,b=n.dpr,w=n.performance,x=n.raycaster,_=n.camera,S=n.onPointerMissed,E=n.onCreated,M=(0,Z.Z)(n,RA);t.useMemo((function(){return t=e,void Object.assign(iM,t);var t}),[]);var A=PA(),k=cA((0,O.Z)({scroll:!0,debounce:{scroll:50,resize:0}},o)),T=(0,N.Z)(k,2),C=T[0],P=T[1],R=t.useRef(null),I=t.useRef(null);t.useImperativeHandle(r,(function(){return R.current}));var L=lM(S),U=t.useState(!1),D=(0,N.Z)(U,2),B=D[0],F=D[1],z=t.useState(!1),j=(0,N.Z)(z,2),H=j[0],G=j[1];if(B)throw B;if(H)throw H;var W=t.useRef(null);uM((function(){var e=R.current;P.width>0&&P.height>0&&e&&(W.current||(W.current=iA(e)),W.current.configure({gl:u,events:c,shadows:h,linear:p,flat:v,legacy:m,orthographic:g,frameloop:y,dpr:b,performance:w,raycaster:x,camera:_,size:P,onPointerMissed:function(){return null==L.current?void 0:L.current.apply(L,arguments)},onCreated:function(e){var t;null==e.events.connect||e.events.connect(f?(t=f)&&t.hasOwnProperty("current")?f.current:f:I.current),d&&e.setEvents({compute:function(e,t){var n=e[d+"X"],r=e[d+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==E||E(e)}}),W.current.render(t.createElement(A,null,t.createElement(fM,{set:G},t.createElement(t.Suspense,{fallback:t.createElement(cM,{set:F})},i)))))})),t.useEffect((function(){var e=R.current;if(e)return function(){return oA(e)}}),[]);var V=f?"none":"auto";return t.createElement("div",sA({ref:I,style:(0,O.Z)({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:V},s)},M),t.createElement("div",{ref:C,style:{width:"100%",height:"100%"}},t.createElement("canvas",{ref:R,style:{display:"block"}},a)))})),OA=t.forwardRef((function(e,n){return t.createElement(MA,null,t.createElement(ZA,sA({},e,{ref:n})))})),NA=["args","children"];function UA(e,n){var r=e+"Geometry";return t.forwardRef((function(e,i){var a=e.args,o=e.children,s=(0,Z.Z)(e,NA),u=t.useRef(null);return t.useImperativeHandle(i,(function(){return u.current})),t.useLayoutEffect((function(){null==n||n(u.current)})),t.createElement("mesh",sA({ref:u},s),t.createElement(r,{attach:"geometry",args:a}),o)}))}UA("box"),UA("circle"),UA("cone"),UA("cylinder"),UA("sphere");var DA=UA("plane"),BA=(UA("tube"),UA("torus"),UA("torusKnot"),UA("tetrahedron"),UA("ring"),UA("polyhedron"),UA("icosahedron"),UA("octahedron"),UA("dodecahedron"),UA("extrude"),UA("lathe"),UA("capsule"),UA("shape",(function(e){var t=e.geometry,n=t.attributes.position,r=(new Qh).setFromBufferAttribute(n),i=new qh;r.getSize(i);for(var a=[],o=0,s=0,u=0,l=0,c=0;c<n.count;c++)o=n.getX(c),s=n.getY(c),u=(o-r.min.x)/i.x,l=(s-r.min.y)/i.y,a.push(u,l);t.setAttribute("uv",new Iv(a,2))})),n(184));var FA=function(e){e.index;var n=e.imageUrl,r=e.position,i=XM(U_,"https://3desocial.com/api/image-proxy?url="+n),a=(0,t.useRef)(),o=new qh(0,0,0);return VM((function(){return a.current.lookAt(o)})),(0,BA.jsx)(DA,{args:[1,1],ref:a,position:r,children:(0,BA.jsx)("meshBasicMaterial",{attach:"material",map:i,side:jl})})},zA=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(){return(0,I.Z)(this,n),t.call(this,{uniforms:{time:{value:0},fade:{value:1}},vertexShader:"\n      uniform float time;\n      attribute float size;\n      varying vec3 vColor;\n      void main() {\n        vColor = color;\n        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\n        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));\n        gl_Position = projectionMatrix * mvPosition;\n      }",fragmentShader:"\n      uniform sampler2D pointTexture;\n      uniform float fade;\n      varying vec3 vColor;\n      void main() {\n        float opacity = 1.0;\n        if (fade == 1.0) {\n          float d = distance(gl_PointCoord, vec2(0.5, 0.5));\n          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));\n        }\n        gl_FragColor = vec4(vColor, opacity);\n\n        #include <tonemapping_fragment>\n\t      #include <encodings_fragment>\n      }"})}return(0,L.Z)(n)}(dm),jA=function(e){return(new qh).setFromSpherical(new tE(e,Math.acos(1-2*Math.random()),2*Math.random()*Math.PI))},HA=t.forwardRef((function(e,n){var r=e.radius,i=void 0===r?100:r,a=e.depth,o=void 0===a?50:a,s=e.count,u=void 0===s?5e3:s,l=e.saturation,c=void 0===l?0:l,f=e.factor,d=void 0===f?4:f,h=e.fade,p=void 0!==h&&h,v=e.speed,m=void 0===v?1:v,g=t.useRef(),y=t.useMemo((function(){for(var e=[],t=[],n=Array.from({length:u},(function(){return(.5+.5*Math.random())*d})),r=new hv,a=i+o,s=o/u,l=0;l<u;l++)a-=s*Math.random(),e.push.apply(e,(0,C.Z)(jA(a).toArray())),r.setHSL(l/u,c,.9),t.push(r.r,r.g,r.b);return[new Float32Array(e),new Float32Array(t),new Float32Array(n)]}),[u,o,d,i,c]),b=(0,N.Z)(y,3),w=b[0],x=b[1],_=b[2];VM((function(e){return g.current&&(g.current.uniforms.time.value=e.clock.getElapsedTime()*m)}));var S=t.useState((function(){return new zA})),E=(0,N.Z)(S,1)[0];return t.createElement("points",{ref:n},t.createElement("bufferGeometry",null,t.createElement("bufferAttribute",{attach:"attributes-position",args:[w,3]}),t.createElement("bufferAttribute",{attach:"attributes-color",args:[x,3]}),t.createElement("bufferAttribute",{attach:"attributes-size",args:[_,1]})),t.createElement("primitive",{ref:g,object:E,attach:"material",blending:Vl,"uniforms-fade-value":p,depthWrite:!1,transparent:!0,vertexColors:!0}))})),GA=Object.defineProperty,WA=function(e,t,n){return function(e,t,n){t in e?GA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},VA=function(e,t){return(e%t+t)%t},qA=function(e){(0,U.Z)(n,e);var t=(0,D.Z)(n);function n(e,r){var i;(0,I.Z)(this,n),i=t.call(this),WA((0,z.Z)(i),"object"),WA((0,z.Z)(i),"domElement"),WA((0,z.Z)(i),"enabled",!0),WA((0,z.Z)(i),"target",new qh),WA((0,z.Z)(i),"minDistance",0),WA((0,z.Z)(i),"maxDistance",1/0),WA((0,z.Z)(i),"minZoom",0),WA((0,z.Z)(i),"maxZoom",1/0),WA((0,z.Z)(i),"minPolarAngle",0),WA((0,z.Z)(i),"maxPolarAngle",Math.PI),WA((0,z.Z)(i),"minAzimuthAngle",-1/0),WA((0,z.Z)(i),"maxAzimuthAngle",1/0),WA((0,z.Z)(i),"enableDamping",!1),WA((0,z.Z)(i),"dampingFactor",.05),WA((0,z.Z)(i),"enableZoom",!0),WA((0,z.Z)(i),"zoomSpeed",1),WA((0,z.Z)(i),"enableRotate",!0),WA((0,z.Z)(i),"rotateSpeed",1),WA((0,z.Z)(i),"enablePan",!0),WA((0,z.Z)(i),"panSpeed",1),WA((0,z.Z)(i),"screenSpacePanning",!0),WA((0,z.Z)(i),"keyPanSpeed",7),WA((0,z.Z)(i),"autoRotate",!1),WA((0,z.Z)(i),"autoRotateSpeed",2),WA((0,z.Z)(i),"reverseOrbit",!1),WA((0,z.Z)(i),"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),WA((0,z.Z)(i),"mouseButtons",{LEFT:Pl.ROTATE,MIDDLE:Pl.DOLLY,RIGHT:Pl.PAN}),WA((0,z.Z)(i),"touches",{ONE:Rl.ROTATE,TWO:Rl.DOLLY_PAN}),WA((0,z.Z)(i),"target0"),WA((0,z.Z)(i),"position0"),WA((0,z.Z)(i),"zoom0"),WA((0,z.Z)(i),"_domElementKeyEvents",null),WA((0,z.Z)(i),"getPolarAngle"),WA((0,z.Z)(i),"getAzimuthalAngle"),WA((0,z.Z)(i),"setPolarAngle"),WA((0,z.Z)(i),"setAzimuthalAngle"),WA((0,z.Z)(i),"getDistance"),WA((0,z.Z)(i),"listenToKeyEvents"),WA((0,z.Z)(i),"saveState"),WA((0,z.Z)(i),"reset"),WA((0,z.Z)(i),"update"),WA((0,z.Z)(i),"connect"),WA((0,z.Z)(i),"dispose"),i.object=e,i.domElement=r,i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object.zoom,i.getPolarAngle=function(){return d.phi},i.getAzimuthalAngle=function(){return d.theta},i.setPolarAngle=function(e){var t=VA(e,2*Math.PI),n=d.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),h.phi=t-n,a.update()},i.setAzimuthalAngle=function(e){var t=VA(e,2*Math.PI),n=d.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),h.theta=t-n,a.update()},i.getDistance=function(){return a.object.position.distanceTo(a.target)},i.listenToKeyEvents=function(e){e.addEventListener("keydown",K),i._domElementKeyEvents=e},i.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object.zoom},i.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a.dispatchEvent(o),a.update(),c=l.NONE},i.update=function(){var t=new qh,n=(new Vh).setFromUnitVectors(e.up,new qh(0,1,0)),r=n.clone().invert(),i=new qh,s=new Vh,u=2*Math.PI;return function(){var e=a.object.position;t.copy(e).sub(a.target),t.applyQuaternion(n),d.setFromVector3(t),a.autoRotate&&c===l.NONE&&C(2*Math.PI/60/60*a.autoRotateSpeed),a.enableDamping?(d.theta+=h.theta*a.dampingFactor,d.phi+=h.phi*a.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);var g=a.minAzimuthAngle,y=a.maxAzimuthAngle;return isFinite(g)&&isFinite(y)&&(g<-Math.PI?g+=u:g>Math.PI&&(g-=u),y<-Math.PI?y+=u:y>Math.PI&&(y-=u),d.theta=g<=y?Math.max(g,Math.min(y,d.theta)):d.theta>(g+y)/2?Math.max(g,d.theta):Math.min(y,d.theta)),d.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=p,d.radius=Math.max(a.minDistance,Math.min(a.maxDistance,d.radius)),!0===a.enableDamping?a.target.addScaledVector(v,a.dampingFactor):a.target.add(v),t.setFromSpherical(d),t.applyQuaternion(r),e.copy(a.target).add(t),a.object.lookAt(a.target),!0===a.enableDamping?(h.theta*=1-a.dampingFactor,h.phi*=1-a.dampingFactor,v.multiplyScalar(1-a.dampingFactor)):(h.set(0,0,0),v.set(0,0,0)),p=1,!!(m||i.distanceToSquared(a.object.position)>f||8*(1-s.dot(a.object.quaternion))>f)&&(a.dispatchEvent(o),i.copy(a.object.position),s.copy(a.object.quaternion),m=!1,!0)}}(),i.connect=function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),a.domElement=e,a.domElement.style.touchAction="none",a.domElement.addEventListener("contextmenu",J),a.domElement.addEventListener("pointerdown",V),a.domElement.addEventListener("pointercancel",Y),a.domElement.addEventListener("wheel",Q)},i.dispose=function(){var e,t,n,r,i,o;null==(e=a.domElement)||e.removeEventListener("contextmenu",J),null==(t=a.domElement)||t.removeEventListener("pointerdown",V),null==(n=a.domElement)||n.removeEventListener("pointercancel",Y),null==(r=a.domElement)||r.removeEventListener("wheel",Q),null==(i=a.domElement)||i.ownerDocument.removeEventListener("pointermove",q),null==(o=a.domElement)||o.ownerDocument.removeEventListener("pointerup",X),null!==a._domElementKeyEvents&&a._domElementKeyEvents.removeEventListener("keydown",K)};var a=(0,z.Z)(i),o={type:"change"},s={type:"start"},u={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},c=l.NONE,f=1e-6,d=new tE,h=new tE,p=1,v=new qh,m=!1,g=new mh,y=new mh,b=new mh,w=new mh,x=new mh,_=new mh,S=new mh,E=new mh,M=new mh,A=[],k={};function T(){return Math.pow(.95,a.zoomSpeed)}function C(e){a.reverseOrbit?h.theta+=e:h.theta-=e}function P(e){a.reverseOrbit?h.phi+=e:h.phi-=e}var R=function(){var e=new qh;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),v.add(e)}}(),L=function(){var e=new qh;return function(t,n){!0===a.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(a.object.up,e)),e.multiplyScalar(t),v.add(e)}}(),Z=function(){var e=new qh;return function(t,n){var r=a.domElement;if(r&&a.object instanceof pm&&a.object.isPerspectiveCamera){var i=a.object.position;e.copy(i).sub(a.target);var o=e.length();o*=Math.tan(a.object.fov/2*Math.PI/180),R(2*t*o/r.clientHeight,a.object.matrix),L(2*n*o/r.clientHeight,a.object.matrix)}else r&&a.object instanceof Bm&&a.object.isOrthographicCamera?(R(t*(a.object.right-a.object.left)/a.object.zoom/r.clientWidth,a.object.matrix),L(n*(a.object.top-a.object.bottom)/a.object.zoom/r.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function O(e){a.object instanceof pm&&a.object.isPerspectiveCamera?p/=e:a.object instanceof Bm&&a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom*e)),a.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function N(e){a.object instanceof pm&&a.object.isPerspectiveCamera?p*=e:a.object instanceof Bm&&a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/e)),a.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function U(e){g.set(e.clientX,e.clientY)}function D(e){w.set(e.clientX,e.clientY)}function B(){if(1==A.length)g.set(A[0].pageX,A[0].pageY);else{var e=.5*(A[0].pageX+A[1].pageX),t=.5*(A[0].pageY+A[1].pageY);g.set(e,t)}}function F(){if(1==A.length)w.set(A[0].pageX,A[0].pageY);else{var e=.5*(A[0].pageX+A[1].pageX),t=.5*(A[0].pageY+A[1].pageY);w.set(e,t)}}function j(){var e=A[0].pageX-A[1].pageX,t=A[0].pageY-A[1].pageY,n=Math.sqrt(e*e+t*t);S.set(0,n)}function H(e){if(1==A.length)y.set(e.pageX,e.pageY);else{var t=te(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);y.set(n,r)}b.subVectors(y,g).multiplyScalar(a.rotateSpeed);var i=a.domElement;i&&(C(2*Math.PI*b.x/i.clientHeight),P(2*Math.PI*b.y/i.clientHeight)),g.copy(y)}function G(e){if(1==A.length)x.set(e.pageX,e.pageY);else{var t=te(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);x.set(n,r)}_.subVectors(x,w).multiplyScalar(a.panSpeed),Z(_.x,_.y),w.copy(x)}function W(e){var t=te(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);E.set(0,i),M.set(0,Math.pow(E.y/S.y,a.zoomSpeed)),O(M.y),S.copy(E)}function V(e){var t,n;!1!==a.enabled&&(0===A.length&&(null==(t=a.domElement)||t.ownerDocument.addEventListener("pointermove",q),null==(n=a.domElement)||n.ownerDocument.addEventListener("pointerup",X)),function(e){A.push(e)}(e),"touch"===e.pointerType?function(e){switch(ee(e),A.length){case 1:switch(a.touches.ONE){case Rl.ROTATE:if(!1===a.enableRotate)return;B(),c=l.TOUCH_ROTATE;break;case Rl.PAN:if(!1===a.enablePan)return;F(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(a.touches.TWO){case Rl.DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;a.enableZoom&&j(),a.enablePan&&F(),c=l.TOUCH_DOLLY_PAN;break;case Rl.DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;a.enableZoom&&j(),a.enableRotate&&B(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&a.dispatchEvent(s)}(e):function(e){var t;switch(e.button){case 0:t=a.mouseButtons.LEFT;break;case 1:t=a.mouseButtons.MIDDLE;break;case 2:t=a.mouseButtons.RIGHT;break;default:t=-1}switch(t){case Pl.DOLLY:if(!1===a.enableZoom)return;!function(e){S.set(e.clientX,e.clientY)}(e),c=l.DOLLY;break;case Pl.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enablePan)return;D(e),c=l.PAN}else{if(!1===a.enableRotate)return;U(e),c=l.ROTATE}break;case Pl.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enableRotate)return;U(e),c=l.ROTATE}else{if(!1===a.enablePan)return;D(e),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&a.dispatchEvent(s)}(e))}function q(e){!1!==a.enabled&&("touch"===e.pointerType?function(e){switch(ee(e),c){case l.TOUCH_ROTATE:if(!1===a.enableRotate)return;H(e),a.update();break;case l.TOUCH_PAN:if(!1===a.enablePan)return;G(e),a.update();break;case l.TOUCH_DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(e){a.enableZoom&&W(e),a.enablePan&&G(e)}(e),a.update();break;case l.TOUCH_DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;!function(e){a.enableZoom&&W(e),a.enableRotate&&H(e)}(e),a.update();break;default:c=l.NONE}}(e):function(e){if(!1===a.enabled)return;switch(c){case l.ROTATE:if(!1===a.enableRotate)return;!function(e){y.set(e.clientX,e.clientY),b.subVectors(y,g).multiplyScalar(a.rotateSpeed);var t=a.domElement;t&&(C(2*Math.PI*b.x/t.clientHeight),P(2*Math.PI*b.y/t.clientHeight)),g.copy(y),a.update()}(e);break;case l.DOLLY:if(!1===a.enableZoom)return;!function(e){E.set(e.clientX,e.clientY),M.subVectors(E,S),M.y>0?O(T()):M.y<0&&N(T()),S.copy(E),a.update()}(e);break;case l.PAN:if(!1===a.enablePan)return;!function(e){x.set(e.clientX,e.clientY),_.subVectors(x,w).multiplyScalar(a.panSpeed),Z(_.x,_.y),w.copy(x),a.update()}(e)}}(e))}function X(e){var t,n,r;$(e),0===A.length&&(null==(t=a.domElement)||t.releasePointerCapture(e.pointerId),null==(n=a.domElement)||n.ownerDocument.removeEventListener("pointermove",q),null==(r=a.domElement)||r.ownerDocument.removeEventListener("pointerup",X)),a.dispatchEvent(u),c=l.NONE}function Y(e){$(e)}function Q(e){!1===a.enabled||!1===a.enableZoom||c!==l.NONE&&c!==l.ROTATE||(e.preventDefault(),a.dispatchEvent(s),function(e){e.deltaY<0?N(T()):e.deltaY>0&&O(T()),a.update()}(e),a.dispatchEvent(u))}function K(e){!1!==a.enabled&&!1!==a.enablePan&&function(e){var t=!1;switch(e.code){case a.keys.UP:Z(0,a.keyPanSpeed),t=!0;break;case a.keys.BOTTOM:Z(0,-a.keyPanSpeed),t=!0;break;case a.keys.LEFT:Z(a.keyPanSpeed,0),t=!0;break;case a.keys.RIGHT:Z(-a.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),a.update())}(e)}function J(e){!1!==a.enabled&&e.preventDefault()}function $(e){delete k[e.pointerId];for(var t=0;t<A.length;t++)if(A[t].pointerId==e.pointerId)return void A.splice(t,1)}function ee(e){var t=k[e.pointerId];void 0===t&&(t=new mh,k[e.pointerId]=t),t.set(e.pageX,e.pageY)}function te(e){var t=e.pointerId===A[0].pointerId?A[1]:A[0];return k[t.pointerId]}return void 0!==r&&i.connect(r),i.update(),i}return(0,L.Z)(n)}(th),XA=["makeDefault","camera","regress","domElement","enableDamping","keyEvents","onChange","onStart","onEnd"],YA=t.forwardRef((function(e,n){var r=e.makeDefault,i=e.camera,a=e.regress,o=e.domElement,s=e.enableDamping,u=void 0===s||s,l=e.keyEvents,c=void 0!==l&&l,f=e.onChange,d=e.onStart,h=e.onEnd,p=(0,Z.Z)(e,XA),v=WM((function(e){return e.invalidate})),m=WM((function(e){return e.camera})),g=WM((function(e){return e.gl})),y=WM((function(e){return e.events})),b=WM((function(e){return e.setEvents})),w=WM((function(e){return e.set})),x=WM((function(e){return e.get})),_=WM((function(e){return e.performance})),S=i||m,E=o||y.connected||g.domElement,M=t.useMemo((function(){return new qA(S)}),[S]);return VM((function(){M.enabled&&M.update()}),-1),t.useEffect((function(){return c&&M.connect(!0===c?E:c),M.connect(E),function(){M.dispose()}}),[c,E,a,M,v]),t.useEffect((function(){var e=function(e){v(),a&&_.regress(),f&&f(e)},t=function(e){d&&d(e)},n=function(e){h&&h(e)};return M.addEventListener("change",e),M.addEventListener("start",t),M.addEventListener("end",n),function(){M.removeEventListener("start",t),M.removeEventListener("end",n),M.removeEventListener("change",e)}}),[f,d,h,M,v,b]),t.useEffect((function(){if(r){var e=x().controls;return w({controls:M}),function(){return w({controls:e})}}}),[r,M]),t.createElement("primitive",sA({ref:n,object:M,enableDamping:u},p))}));var QA=function(){var e=(0,t.useRef)(),n=function(){var e=(0,R.Z)((0,P.Z)().mark((function e(t){var n;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.image){e.next=4;break}if(!(n=t.image.cachedUrl?t.image.cachedUrl:t.image.originalUrl?t.image.originalUrl:null)){e.next=4;break}return e.abrupt("return",n);case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=(0,t.useState)([]),i=(0,N.Z)(r,2),a=i[0],o=i[1],s=y((function(e){return e.data.nftList}));(0,t.useEffect)((function(){var e;s&&(e=s.ownedNfts,new Promise((function(t,r){var i=e.map(n);Promise.allSettled(i).then((function(e){var n=e.filter((function(e){return"fulfilled"===e.status&&!1!==e.value}));t(n.map((function(e){return e.value})))})).catch((function(e){console.error("Error processing promises:",e)}))}))).then((function(e){o(e)}))}),[s]);var u=2*Math.PI/a.length;return(0,BA.jsxs)(OA,{style:{background:"black",width:"100vw",height:"100vh"},children:[(0,BA.jsx)(HA,{radius:100,depth:50,count:5e3,factor:4,saturation:0,fade:!0,speed:1}),a.map((function(e,t,n){var r=t*u,i=[5*Math.cos(r),0,5*Math.sin(r)];return(0,BA.jsx)(FA,{imageUrl:e,position:i},t)})),(0,BA.jsx)(YA,{autoRotate:!0,target0:[0,0,0],zoom0:0,enableZoom:!0,enablePan:!1,minPolarAngle:Math.PI/2,maxPolarAngle:Math.PI/2,args:[e.current,document.documentElement]}),(0,BA.jsx)("perspectiveCamera",{ref:e,position:[0,0,0],fov:75,near:.1,far:1e3})]})};var KA=function(){y((function(e){return e.data}));var e=T(),t=function(t){e({type:"SET_DATA",data:t})},n=(Ml({onConnect:function(e){var r=e.address;e.connector,e.isReconnected;n(r).then((function(e){e.ownedNfts.length>0?t({address:r,nftList:e}):(console.log("no nfts using test"),n(r="0x154B4045F07B48C3B75D73a3f6C7C11Dfec95b4a").then((function(e){e.ownedNfts.length>0&&t({address:r,nftList:e})})))}))}}),function(e){var t=r(e);return fetch(t).then((function(e){if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return e.json()})).catch((function(e){throw console.error("Fetch error: ".concat(e)),e}))}),r=function(e){return"https://eth-mainnet.g.alchemy.com/nft/v3/4PMQVTSudayFFTs2N7HX7ndO-qIS9dk8/getNFTsForOwner?owner="+e+"&withMetadata=true&pageSize=100"},i=Ml(),a=i.address,o=i.isConnecting,s=i.isDisconnected;return o?(0,BA.jsx)("div",{id:"connect",children:(0,BA.jsx)("h3",{children:"Metamask Connecting..."})}):s?(0,BA.jsxs)("div",{id:"connect",children:[(0,BA.jsx)("h3",{children:"Conect with Metamask"}),(0,BA.jsx)(iu,{})]}):a?(0,BA.jsx)(QA,{}):(0,BA.jsx)(iu,{})},JA=[{id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}},{id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc0497E381f536Be9ce14B0dD3817cBcAe57d2F62",blockCreated:16966585},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}},{id:137,name:"Polygon",network:"matic",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}],$A="aaa52b95f04dc6835908c27a5d94293f",ek=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.batch,i=void 0===r?{multicall:{wait:32}}:r,a=n.pollingInterval,o=void 0===a?4e3:a,s=n.rank,u=n.retryCount,l=n.retryDelay,c=n.stallTimeout;if(!e.length)throw new Error("must have at least one chain");var f,d=[],h={},p={},v=(0,F.Z)(e);try{var m=function(){var e,n=f.value,r=!1,i=(0,F.Z)(t);try{for(i.s();!(e=i.n()).done;){var a=(0,e.value)(n);a&&(r=!0,d.some((function(e){return e.id===n.id}))||(d=[].concat((0,C.Z)(d),[a.chain])),h[n.id]=[].concat((0,C.Z)(h[n.id]||[]),(0,C.Z)(a.rpcUrls.http)),a.rpcUrls.webSocket&&(p[n.id]=[].concat((0,C.Z)(p[n.id]||[]),(0,C.Z)(a.rpcUrls.webSocket))))}}catch(vk){i.e(vk)}finally{i.f()}if(!r)throw new Error(['Could not find valid provider configuration for chain "'.concat(n.name,'".\n'),"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/core/providers/jsonRpc"].join("\n"))};for(v.s();!(f=v.n()).done;)m()}catch(vk){v.e(vk)}finally{v.f()}return{chains:d,publicClient:function(t){var n,r=t.chainId,a=null!==(n=d.find((function(e){return e.id===r})))&&void 0!==n?n:e[0],f=h[a.id];if(!f||!f[0])throw new Error('No providers configured for chain "'.concat(a.id,'"'));var p=li({batch:i,chain:a,transport:ci(f.map((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.batch,r=t.fetchOptions,i=t.key,a=void 0===i?"http":i,o=t.name,s=void 0===o?"HTTP JSON-RPC":o,u=t.retryDelay;return function(i){var o,l,c=i.chain,f=i.retryCount,d=i.timeout,h="object"===typeof n?n:{},p=h.batchSize,v=void 0===p?1e3:p,m=h.wait,g=void 0===m?0:m,y=null!==(o=t.retryCount)&&void 0!==o?o:f,b=null!==(l=null!==d&&void 0!==d?d:t.timeout)&&void 0!==l?l:1e4,w=e||(null===c||void 0===c?void 0:c.rpcUrls.default.http[0]);if(!w)throw new fi;return Ut({key:a,name:s,request:function(t){return(0,R.Z)((0,P.Z)().mark((function i(){var a,o,s,u,l,c,f,d,h,p,m;return(0,P.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.method,o=t.params,s={method:a,params:o},u=(0,di.S)({id:"".concat(e),wait:g,shouldSplitBatch:function(e){return e.length>v},fn:function(e){return wi.http(w,{body:e,fetchOptions:r,timeout:b})}}),l=u.schedule,c=function(){var e=(0,R.Z)((0,P.Z)().mark((function e(t){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}e.t0=l(t),e.next=8;break;case 4:return e.next=6,wi.http(w,{body:t,fetchOptions:r,timeout:b});case 6:e.t1=e.sent,e.t0=[e.t1];case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.next=6,c(s);case 6:if(f=i.sent,d=(0,N.Z)(f,1),h=d[0],p=h.error,m=h.result,!p){i.next=13;break}throw new Pt.bs({body:s,error:p,url:w});case 13:return i.abrupt("return",m);case 14:case"end":return i.stop()}}),i)})))()},retryCount:y,retryDelay:u,timeout:b,type:"http"},{url:e})}}(e,{timeout:c})})),{rank:s,retryCount:u,retryDelay:l}),pollingInterval:o});return Object.assign(p,{chains:d})},webSocketPublicClient:function(t){var n,r=t.chainId,a=null!==(n=d.find((function(e){return e.id===r})))&&void 0!==n?n:e[0],f=p[a.id];if(f&&f[0]){var h=li({batch:i,chain:a,transport:ci(f.map((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.key,r=void 0===n?"webSocket":n,i=t.name,a=void 0===i?"WebSocket JSON-RPC":i,o=t.retryDelay;return function(n){var i,s,u,l=n.chain,c=n.retryCount,f=n.timeout,d=null!==(i=t.retryCount)&&void 0!==i?i:c,h=null!==(s=null!==f&&void 0!==f?f:t.timeout)&&void 0!==s?s:1e4,p=e||(null===l||void 0===l||null===(u=l.rpcUrls.default.webSocket)||void 0===u?void 0:u[0]);if(!p)throw new fi;return Ut({key:r,name:a,request:function(e){return(0,R.Z)((0,P.Z)().mark((function t(){var n,r,i,a,o,s,u;return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.method,r=e.params,i={method:n,params:r},t.next=4,gi(p);case 4:return a=t.sent,t.next=7,wi.webSocketAsync(a,{body:i,timeout:h});case 7:if(o=t.sent,s=o.error,u=o.result,!s){t.next=12;break}throw new Pt.bs({body:i,error:s,url:p});case 12:return t.abrupt("return",u);case 13:case"end":return t.stop()}}),t)})))()},retryCount:d,retryDelay:o,timeout:h,type:"webSocket"},{getSocket:function(){return gi(p)},subscribe:function(e){return(0,R.Z)((0,P.Z)().mark((function t(){var n,r,i,a,o,s;return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,r=e.onData,i=e.onError,t.next=3,gi(p);case 3:return a=t.sent,t.next=6,new Promise((function(e,t){return wi.webSocket(a,{body:{method:"eth_subscribe",params:n},onResponse:function(n){if(n.error)return t(n.error),void(null===i||void 0===i||i(n.error));"number"!==typeof n.id?"eth_subscription"===n.method&&r(n.params):e(n)}})}));case 6:return o=t.sent,s=o.result,t.abrupt("return",{subscriptionId:s,unsubscribe:function(){return(0,R.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return wi.webSocket(a,{body:{method:"eth_unsubscribe",params:[s]},onResponse:e})})));case 1:case"end":return e.stop()}}),e)})))()}});case 9:case"end":return t.stop()}}),t)})))()}})}}(e,{timeout:c})})),{rank:s,retryCount:u,retryDelay:l}),pollingInterval:o});return Object.assign(h,{chains:d})}}}}(JA,[function(e){var t=e.projectId;return function(e){var t=e.rpc;return function(e){var n=t(e);return n&&""!==n.http?{chain:(0,O.Z)((0,O.Z)({},e),{},{rpcUrls:(0,O.Z)((0,O.Z)({},e.rpcUrls),{},{default:{http:[n.http]}})}),rpcUrls:{http:[n.http],webSocket:n.webSocket?[n.webSocket]:void 0}}:null}}({rpc:function(e){var n;return[1,3,4,5,10,42,56,69,97,100,137,280,324,420,42161,42220,43114,80001,421611,421613,1313161554,1313161555].includes(e.id)?{http:"https://rpc.walletconnect.com/v1/?chainId=".concat("eip155",":").concat(e.id,"&projectId=").concat(t)}:{http:e.rpcUrls.default.http[0],webSocket:null==(n=e.rpcUrls.default.webSocket)?void 0:n[0]}}})}({projectId:$A})]),tk=ek.publicClient,nk=function(e){var t=e.queryClient,n=void 0===t?new rl({defaultOptions:{queries:{cacheTime:864e5,networkMode:"offlineFirst",refetchOnWindowFocus:!1,retry:0},mutations:{networkMode:"offlineFirst"}}}):t,r=e.storage,i=void 0===r?Go({storage:"undefined"!==typeof window&&window.localStorage?window.localStorage:Ho}):r,a=e.persister,o=void 0===a?"undefined"!==typeof window?function(e){var t=e.storage,n=e.key,r=void 0===n?"REACT_QUERY_OFFLINE_CACHE":n,i=e.throttleTime,a=void 0===i?1e3:i,o=e.serialize,s=void 0===o?JSON.stringify:o,u=e.deserialize,l=void 0===u?JSON.parse:u,c=e.retry;if(t){var f=function(e){try{return void t.setItem(r,s(e))}catch(n){return n}};return{persistClient:mu((function(e){for(var t=e,n=f(t),r=0;n&&t;)r++,(t=null==c?void 0:c({persistedClient:t,error:n,errorCount:r}))&&(n=f(t))}),a),restoreClient:function(){var e=t.getItem(r);if(e)return l(e)},removeClient:function(){t.removeItem(r)}}}return{persistClient:gu,restoreClient:function(){},removeClient:gu}}({key:"cache",storage:i,serialize:function(e){return e},deserialize:function(e){return e}}):void 0:a,s=(0,Z.Z)(e,yl),u=Jo((0,O.Z)((0,O.Z)({},s),{},{storage:i}));return o&&hl({queryClient:n,persister:o,dehydrateOptions:{shouldDehydrateQuery:function(e){return 0!==e.cacheTime&&!1!==e.queryKey[0].persist}}}),Object.assign(u,{queryClient:n})}({autoConnect:!0,connectors:function(e){var t=e.chains,n=e.projectId;return[new Ys({chains:t,options:{projectId:n,showQrModal:!1}}),new Bt({chains:t,options:{shimDisconnect:!0}})]}({projectId:$A,chains:JA}),publicClient:tk}),rk=new Qs(nk,JA);var ik=function(){return(0,BA.jsxs)(BA.Fragment,{children:[(0,BA.jsx)(xl,{config:nk,children:(0,BA.jsx)(KA,{})}),(0,BA.jsx)(vu,{projectId:$A,ethereumClient:rk})]})};function ak(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ok="function"===typeof Symbol&&Symbol.observable||"@@observable",sk=function(){return Math.random().toString(36).substring(7).split("").join(".")},uk={INIT:"@@redux/INIT"+sk(),REPLACE:"@@redux/REPLACE"+sk(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+sk()}};function lk(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ck(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(ak(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(ak(1));return n(ck)(e,t)}if("function"!==typeof e)throw new Error(ak(2));var i=e,a=t,o=[],s=o,u=!1;function l(){s===o&&(s=o.slice())}function c(){if(u)throw new Error(ak(3));return a}function f(e){if("function"!==typeof e)throw new Error(ak(4));if(u)throw new Error(ak(5));var t=!0;return l(),s.push(e),function(){if(t){if(u)throw new Error(ak(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),o=null}}}function d(e){if(!lk(e))throw new Error(ak(7));if("undefined"===typeof e.type)throw new Error(ak(8));if(u)throw new Error(ak(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:uk.INIT}),(r={dispatch:d,subscribe:f,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(ak(10));i=e,d({type:uk.REPLACE})}})[ok]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(ak(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[ok]=function(){return this},e},r}var fk={data:{}};var dk=ck((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fk,t=arguments.length>1?arguments[1]:void 0;return"SET_DATA"===t.type?(0,O.Z)((0,O.Z)({},e),{},{data:t.data}):e})),hk=dk,pk=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,BA.jsx)(t.StrictMode,{children:(0,BA.jsx)(_,{store:hk,children:(0,BA.jsx)(ik,{})})})),pk()}()}();
//# sourceMappingURL=main.4bf29ba0.js.map